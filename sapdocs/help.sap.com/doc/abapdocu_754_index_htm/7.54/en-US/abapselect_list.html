<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="EN">
<!-- ABAPSELECT_LIST -->

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abapselect_list.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:51:29 GMT -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="author" content="SAP">
<meta name="description" content="SELECT - select_list">
<title>
SELECT - select_list - ABAP Keyword Documentation
</title>
<link rel="icon" href="ABAPIcon.ico" type="image/ico">
<link rel="shortcut icon" href="ABAPIcon.ico">
<LINK rel="stylesheet" href="abap_docu.css" type="text/css">
<script language="javascript" type="text/javascript" src="functions.js"></script>
<script type="text/JavaScript">
function urlToClipboard(id){
 try{ var loc = top.location.href;}
 catch(e){ alert( "URL cannnot be determined" ); return; }
 var field = document.getElementById(id);
 field.focus();
 if ( loc.search( ".htm" ) == -1 && loc.search( ".HTM" ) == -1  ){ loc = loc + "index.htm"; }
 if (   loc.search( "index.html" ) != -1
     || loc.search( "INDEX-2.html" ) != -1 ){
   var off = loc.search( "file=" );
   if ( off == -1  ){
     field.value = loc + "?file=abapselect_list.htm"; }
   else {
     field.value = loc.substring( 0, off ) + "file=abapselect_list.htm";
   }
 }
 else {
    field.value = loc; }
 field.setSelectionRange(0, field.value.length);
 var r = confirm( "Copy URL to clipboard?\n\n" + field.value + "\n\nCopy to clipboard does not work in all browsers." );
 if (r == true) {
   try{
     document.execCommand("copy");
   }
     catch(e){ alert( "URL could not be copied to clipboard" ); }
 }
 window.scrollTo(0,0);
}
</script>
</head>
<body>
<div class="all">
<div style="float:right;">
<input type="button" value="URL"
style="font-size:10px; width:30px; height:18px; padding:0; "
onclick="urlToClipboard('url')" title="Copy URL to Clipboard" ></div>
<p>
<input name="query" id="query" value="" type="text" title="Suchbegriff" size="30" maxlength="30" onkeyup="getInput()">&nbsp;
<input type="button" value="Search"
style="font-size:12px; width:50px; height:18px; padding:0"
onclick="call_search('search.html')" title="Search in ABAP Keyword Documentation" >
<hr style="width:100%;height:1px"></p>
<p class="copyright">AS ABAP Release 754, &copy;Copyright 2019 SAP SE. All rights reserved.</p>
<span class="path">
<a href="javascript:call_link('abenabap.html')" class="blue">ABAP Keyword Documentation</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_reference.html')" class="blue">ABAP &#x2212; Reference</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_language_external_data.html')" class="blue">Processing External Data</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_sql.html')" class="blue">ABAP Database Access</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenopensql.html')" class="blue">ABAP SQL</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenopen_sql_reading.html')" class="blue">ABAP SQL - Reads</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenselect_clauses.html')" class="blue">SELECT clauses</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abapselect_clause.html')" class="blue">SELECT - select_clause</a>&nbsp;&rarr;&nbsp;
</span>
<A NAME="@@,@@SELECT - select_list@@"></A>
<p><span class="h1">
SELECT - select_list <br><br>
</span></p>
<P>
<a href="javascript:call_link('abapselect_shortref.html')" class="blue">Quick Reference</a> <br><br>
</P>
<p><span class="h2">
<span class="bold">Syntax</span>
</span></p>
<P>
<span class="qtext">... *</span> <br><span class="qtext">&nbsp;&nbsp;<i class=bn>|</i> <i class=bn>{</i>...,
<a href="javascript:call_link('abapselect_data_source.html')" class="blue">data_source</a>~*, ...,
<a href="javascript:call_link('abapselect_clause_col_spec.html')" class="blue">col_spec</a> <i class=bn>[</i>AS alias<i class=bn>]</i>, ...<i class=bn>}</i></span> <br>
<span class="qtext">&nbsp;&nbsp;<i class=bn>|</i> (column_syntax) ...</span> <br><br>
</P>
<p><span class="h2">
Alternatives:
</span></p>
<P>
   <A HREF="#!ABAP_ALTERNATIVE_1@1@" class="blue"> 1. <span class="qtext">... *</span> </A> <br><br><A HREF="#!ABAP_ALTERNATIVE_2@2@" class="blue"> 2. <span class="qtext">..., data_source~*, ..., col_spec <i
class=bn>[</i>AS alias<i class=bn>]</i>, ...</span> </A> <br><br><A HREF="#!ABAP_ALTERNATIVE_3@3@" class="blue"> 3. <span class="qtext">... (column_syntax)</span> </A> <br><br>
</P>
<p><span class="h4">
Effect
</span></p>
<P>
<span class="qtext">SELECT</span> list of the <a href="javascript:call_link('abapselect_clause.html')" class="blue"><span class="qtext">SELECT</span> clause</a> of a
<a href="javascript:call_link('abenquery_glosry.html')" class="grey" title="Glossary Entry">query</a> statement. This information
specifies which columns are used to construct the results set of the <span class="qtext">SELECT</span> statement and how their values are obtained. There are two static variants and one dynamic variant.
</P>
<P>
The <span class="qtext">SELECT</span> list actually passed to the database is determined by the addition
<a href="javascript:call_link('abapinto_clause.html')" class="blue"><span class="qtext">INTO CORRESPONDING</span></a>. If one
or more names match, all the columns for which there are no name matches are removed from the <span class="qtext">
SELECT</span> list implicitly and therefore from the results set too. If there are no name matches, none of the columns are removed from the results set. <br><br>
</P>
<A NAME="@@*@@SELECT - select_list@@"></A>
<p><span class="h2">
<A NAME="!ABAP_ALTERNATIVE_1@1@"></A> <span class="bold">Alternative 1</span>
</span></p>
<P>
<span class="qtext">... *</span> <br><br><br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<P>
Defines all columns of the results set using <span class="qtext">*</span>. The results set is constructed from all columns in the
<a href="javascript:call_link('abapselect_data_source.html')" class="blue">data sources</a> specified after <a href="javascript:call_link('abapfrom_clause.html')" class="blue">
<span class="qtext">FROM</span></a>, in the order given there. The columns of the results set take their
names and data types from the data sources. Only a single data object can be specified after <a href="javascript:call_link('abapinto_clause.html')" class="blue"><span class="qtext">INTO</span></a> and lists of data objects cannot be specified.
</P>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>
If multiple database tables are specified after <span class="qtext">FROM</span>, it is not possible to prevent multiple columns from inheriting the same name when <span class="qtext">*</span> is specified.
<br><br></li>
<li>
For performance reasons, only specify those columns that are actually needed. Specify <span class="qtext">*</span> only if the content of all columns is actually needed.
<br><br></li>
<li>
If the addition <a href="javascript:call_link('abapinto_clause.html')" class="blue"><span class="qtext">INTO CORRESPONDING</span></a>
is used, <span class="qtext">*</span> can be transformed implicitly to a list of columns for which there is a name match.
<br><br></li>
<li>
If <a href="javascript:call_link('abapunion.html')" class="blue"><span class="qtext">UNION</span></a> is used, <span class="qtext">*</span> cannot be specified as a <span class="qtext">SELECT</span> list.
<br><br></li>
<li>
When an internal table <a href="javascript:call_link('abapselect_data_source.html')" class="blue"><span class="qtext">@itab</span></a>
with elementary row type is accessed in the <a href="javascript:call_link('abapfrom_clause.html')" class="blue"><span class="qtext">FROM</span></a> clause of a
<a href="javascript:call_link('abencommon_table_expression_glosry.html')" class="grey" title="Glossary Entry">common table expression</a>
after <a href="javascript:call_link('abapwith.html')" class="blue"><span class="qtext">WITH</span></a>, <span class="qtext">*</span> cannot be specified as a <span class="qtext">SELECT</span> list. <br><br>
<br></li>
</ul>
<p><span class="h4">
Example
</span></p>
<P>
Reads all columns of multiple rows.
</P>
<p class="qtextml1">
<span class="qtext">
SELECT * <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FROM spfli <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; WHERE carrid = 'LH' <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; INTO TABLE @DATA(wa). <br><br>
</span>
</p>
<p><span class="h2">
<A NAME="!ABAP_ALTERNATIVE_2@2@"></A> <span class="bold">Alternative 2</span>
</span></p>
<P>
<span class="qtext">..., data_source~*, ..., col_spec <i class=bn>[</i>AS alias<i class=bn>]</i>, ...</span> <br><br><br><!-- /A -->
</P>
<p><span class="h2">
Variants:
</span></p>
<P>
   <A HREF="#!ABAP_VARIANT_1@1@" class="blue"> 1. <span class="qtext">... data_source~* ...</span> </A> <br>
<br><A HREF="#!ABAP_VARIANT_2@2@" class="blue"> 2. <span class="qtext">... col_spec <i class=bn>[</i>AS alias<i class=bn>]</i> ...</span> </A> <br><br>
</P>
<p><span class="h4">
Effect
</span></p>
<P>
Comma-separated list with
</P>
<ul class="disc">
<li>
<span class="qtext">data_source~*</span> specifying all columns of a data source <a href="javascript:call_link('abapselect_data_source.html')" class="blue"><span class="qtext">data_source</span></a> or
<br><br></li>
<li>
the definition of individual columns <a href="javascript:call_link('abapselect_clause_col_spec.html')" class="blue"><span class="qtext">col_spec</span></a> of the result set.
<br></li>
</ul>
<P>
This information can be specified in any combination, with the exception that <span class="qtext">data_source~*</span> cannot be used together with
<a href="javascript:call_link('abapselect_aggregate.html')" class="blue">aggregate expressions</a>.
</P>
<p><span class="h4">
Note
</span></p>
<P>
When a comma-separated list is used, the syntax check is performed in a
<a href="javascript:call_link('abenopensql_strict_mode_740_sp05.html')" class="blue">strict mode</a>, which handles the statement more strictly than the regular syntax check. Specifying individual blank-separated columns is
<a href="javascript:call_link('abenopen_sql_lists_obsolete.html')" class="blue">obsolete</a>. <br><br>
</P>
<A NAME="@@~*@@SELECT - select_list@@"></A>
<p><span class="h2">
<A NAME="!ABAP_VARIANT_1@1@"></A> <span class="bold">Variant 1</span>
</span></p>
<P>
<span class="qtext">... data_source~* ...</span> <br><br><br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<P>
Defines multiple columns of the results set using <span class="qtext">data_source~*</span>, where <span class="qtext">
data_source</span> stands for an individual database table <a href="javascript:call_link('abapselect_data_source.html')" class="blue"><span class="qtext">
dbtab</span></a>, a classic view <a href="javascript:call_link('abapselect_data_source.html')" class="blue"><span class="qtext">view</span></a>,
a non-abstract CDS entity <a href="javascript:call_link('abapselect_data_source.html')" class="blue"><span class="qtext">cds_entity</span></a>, or an
<a href="javascript:call_link('abapselect_itab.html')" class="blue">internal table</a>. The results set contains all columns
of the specified database source <span class="qtext">data_source</span> in the relevant location and
in the order of the columns. The names of the database sources or their alias names can be specified
for <span class="qtext">data_source</span> that are also specified as <a href="javascript:call_link('abapselect_data_source.html')" class="blue">
<span class="qtext">data_source</span></a> after <a href="javascript:call_link('abapfrom_clause.html')" class="blue"><span class="qtext">FROM</span></a>.
A data source can also be specified more than once. If <span class="qtext">data_source~*</span> is used,
only a structure can be specified after <a href="javascript:call_link('abapinto_clause.html')" class="blue"><span class="qtext">INTO</span></a>, no elementary data objects or lists of data objects.
</P>
<P>
Note the following special conditions:
</P>
<ul class="disc">
<li>
If specified, <span class="qtext">data_source~*</span> cannot be combined with
<a href="javascript:call_link('abapselect_aggregate.html')" class="blue">aggregate expressions</a>. In contrast, it can be combined with <a href="javascript:call_link('abapselect_aggregate.html')" class="blue">window expressions</a>.
<br><br></li>
<li>
If <a href="javascript:call_link('abapunion.html')" class="blue"><span class="qtext">UNION</span></a> is used, <span class="qtext">data_source~*</span> cannot be specified in the <span class="qtext">SELECT</span> list.
<br><br></li>
<li>
When an internal table <a href="javascript:call_link('abapselect_itab.html')" class="blue"><span class="qtext">@itab</span></a>
with elementary row type is accessed in the <a href="javascript:call_link('abapfrom_clause.html')" class="blue"><span class="qtext">FROM</span></a> clause of a
<a href="javascript:call_link('abencommon_table_expression_glosry.html')" class="grey" title="Glossary Entry">common table expression</a>
after <a href="javascript:call_link('abapwith.html')" class="blue"><span class="qtext">WITH</span></a>, <span class="qtext">data_source~*</span> cannot be specified in the <span class="qtext">SELECT</span> list.
<br></li>
</ul>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>
For performance reasons, only specify those columns that are actually needed. <span class="qtext">data_source~*</span> should, therefore, only be specified if the content of all columns is actually needed.
<br><br></li>
<li>
The definition of the results set can also be produced by specifying a single data source <span class="qtext">data_source~*</span>.
This defines the same results set as specifying <span class="qtext">*</span>, but can be different if
information is specified after <a href="javascript:call_link('abapinto_clause.html')" class="blue"><span class="qtext">INTO</span></a> and due to the resulting behavior.
<br><br></li>
<li>
When <span class="qtext">data_source~*</span> is used, the syntax check is performed in a
<a href="javascript:call_link('abenopensql_strict_mode_740_sp08.html')" class="blue">strict mode</a>, which handles the statement more strictly than the regular syntax check. <br><br>
<br></li>
</ul>
<p><span class="h4">
Example
</span></p>
<P>
Reads the columns of two database tables in a <a href="javascript:call_link('abapselect_join.html')" class="blue">join</a> into an internal table. Two columns are read from SCARR and all columns are read from SPFLI.
</P>
<p class="qtextml1">
<span class="qtext">
TYPES BEGIN OF structure. <br>TYPES carrname TYPE scarr-carrname. <br>INCLUDE TYPE spfli AS spfli. <br>TYPES url TYPE scarr-url. <br>
TYPES END OF structure. <br> <br>DATA itab TYPE STANDARD TABLE OF structure WITH EMPTY KEY. <br> <br>SELECT scarr~carrname, spfli~*, scarr~url <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FROM scarr INNER JOIN spfli ON scarr~carrid = spfli~carrid <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; INTO TABLE @itab. <br> <br>cl_demo_output=>display( itab ). <br><br>
</span>
</p>
<p><span class="h2">
<A NAME="!ABAP_VARIANT_2@2@"></A> <span class="bold">Variant 2</span>
</span></p>
<P>
<span class="qtext">... col_spec <i class=bn>[</i>AS alias<i class=bn>]</i> ...</span> <br><br><br><!-- /A -->
</P>
<p><span class="h3">
Addition:
</span></p>
<P>
   <A HREF="#!ABAP_ONE_ADD@1@" class="blue"> <span class="qtext">... AS alias</span> </A> <br><br>
</P>
<p><span class="h4">
Effect
</span></p>
<P>
Definition of individual columns of the result set via specified columns <a href="javascript:call_link('abapselect_clause_col_spec.html')" class="blue"><span class="qtext">col_spec</span></a>, which can be defined using any
<a href="javascript:call_link('abapsql_expr.html')" class="blue">SQL expressions</a>. The order in which the columns are specified
is free and defines the order of the columns in the results set. Only if a column of the type LCHR or
LRAW is specified explicitly as <a href="javascript:call_link('abenopen_sql_columns.html')" class="blue"><span class="qtext">col</span></a>,
does the corresponding length field also have to be specified directly before it.  Various information
can be specified after <a href="javascript:call_link('abapinto_clause.html')" class="blue"><span class="qtext">INTO</span></a>, and the interaction of this information is described by the column specified there.
</P>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>
The obsolete <a href="javascript:call_link('abapselect_obsolete.html')" class="blue">short form</a> without an explicitly specified
target area cannot be used when specifying individual columns. The only exception here is when the aggregation function <span class="qtext">count( *
)</span> is used to statically specify &#x201C;nothing&#x201D;, if no alias name and no <span class="qtext">GROUP BY</span> are specified.
<br><br></li>
<li>
Instead of using commas, blanks can be used to separate columns specified in an
<a href="javascript:call_link('abenopen_sql_lists_obsolete.html')" class="blue">obsolete form</a>. Commas must be specified, however, in the
<a href="javascript:call_link('abenopensql_strict_modes.html')" class="blue">strict modes</a> of the syntax check from Release 7.40, SP05. <br><br>
<br></li>
</ul>
<p><span class="h4">
Example
</span></p>
<P>
Reads two columns from a cell in the database table SCARR
</P>
<p class="qtextml1">
<span class="qtext">
SELECT SINGLE <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FROM scarr <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FIELDS carrname, url <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; WHERE carrid = 'UA' <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; INTO @DATA(result). <br><br>
</span>
</p>
<A NAME="@@AS@@SELECT - select_list@@"></A>
<p><span class="h3">
<A NAME="!ABAP_ONE_ADD@1@"></A> <span class="bold">Addition</span>
</span></p>
<P>
<span class="qtext">... AS alias</span> <!-- /A -->  <br>
</P>
<p><span class="h4">
Effect
</span></p>
<P>
The addition <span class="qtext">AS</span> can be used to define an alias name <span class="qtext">alias</span>
(with a maximum of thirty characters) in the results set for every specified column <span class="qtext">col_spec</span>. The alias name <span class="qtext">alias</span> must follow the
<a href="javascript:call_link('abennaming_conventions.html')" class="blue">naming conventions</a> for internal program names and the name <span class="qtext">table_line</span> cannot be used. This is checked in
<a href="javascript:call_link('abenopensql_strict_mode_754.html')" class="blue">strict mode of the syntax check from Release 7.54</a>.
</P>
<P>
An alias name cannot be assigned more than once. The name of a column that does not have any alias names
assigned to it should also not be used. The alias name is used implicitly in the addition <a href="javascript:call_link('abapinto_clause.html')" class="blue"><span class="qtext">INTO<i
class=bn>|</i>APPENDING CORRESPONDING FIELDS OF</span></a>. An alias name can only be specified after
<a href="javascript:call_link('abaporderby_clause.html')" class="blue"><span class="qtext">ORDER BY</span></a>. A non-unique column name used after <span class="qtext">ORDER BY</span> causes a syntax error or an exception.
</P>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>
If multiple database tables are specified after <span class="qtext">FROM</span>, alternative names can be used when specifying single columns to avoid having multiple columns with the same name.
<br><br></li>
<li>
In particular, an alias name cannot be used as the operand of an <a href="javascript:call_link('abapsql_expr.html')" class="blue">SQL expression</a>.
<br><br></li>
<li>
If an alias name matches an addition of the <span class="qtext">SELECT</span> statement exactly, it
may be necessary to prefix it with the <a href="javascript:call_link('abennames_escaping.html')" class="blue">escape character <span class="qtext">!</span></a>.
<br><br></li>
<li>
Outside of the <a href="javascript:call_link('abenopensql_strict_mode_754.html')" class="blue">strict syntax check mode from Release 7.54</a>, it is also possible for an alias name to contain the minus sign
(<span class="qtext">-</span>), which permits assignments to be made to component of substructures with
the addition <span class="qtext">CORRESPONDING FIELDS OF</span> in the <a href="javascript:call_link('abapinto_clause.html')" class="blue"><span class="qtext">INTO</span></a> clause. <br><br>
<br></li>
</ul>
<p><span class="h4">
Example
</span></p>
<P>
Displays the flight date and average fare of all customers on Lufthansa flights with flight number 0400.
The alternative name <span class="qtext">avg</span> of the aggregate expression is required for the
<a href="javascript:call_link('abaporderby_clause.html')" class="blue"><span class="qtext">ORDER BY</span></a> clause and the
inline declaration using <a href="javascript:call_link('abapselect_into_target.html')" class="blue"><span class="qtext">
@DATA(...)</span></a> in the <a href="javascript:call_link('abapinto_clause.html')" class="blue"><span class="qtext">INTO</span></a> clauses.
</P>
<p class="qtextml1">
<span class="qtext">
SELECT fldate, AVG( loccuram as DEC( 31,2 ) ) AS avg <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FROM sbook <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; WHERE sbook~carrid = 'LH' AND <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sbook~connid = '0400' <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; GROUP BY fldate <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ORDER BY avg DESCENDING <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; INTO TABLE @DATA(itab). <br> <br>cl_demo_output=>display( itab ). <br><br>
</span>
</p>
<p><span class="h2">
<A NAME="!ABAP_ALTERNATIVE_3@3@"></A> <span class="bold">Alternative 3</span>
</span></p>
<P>
<span class="qtext">... (column_syntax)</span> <br><br><br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<P>
Instead of the previous two static specifications, a data object <span class="qtext">column_syntax</span>
in parentheses can be specified. When the statement is executed, this data object either contains the syntax shown in static cases (with the exception of
<a href="javascript:call_link('abenhost_expression_glosry.html')" class="grey" title="Glossary Entry">host expressions</a>) or is initial.
</P>
<P>
The data object <span class="qtext">column_syntax</span> can be a character-like data object or a
<a href="javascript:call_link('abenstandard_table_glosry.html')" class="grey" title="Glossary Entry">standard table</a> with
a character-like row type. The syntax in <span class="qtext">column_syntax</span> is not case-sensitive (as in the static syntax). When an internal table is specified, the syntax can be distributed across multiple rows.
</P>
<P>
If <span class="qtext">column_syntax</span> is initial when the statement is executed, <span class="qtext">select_list</span> is set implicitly to <span class="qtext">*</span> and all columns are read.
</P>
<P>
If columns are specified dynamically without the addition <span class="qtext">SINGLE</span>, the results set is always regarded as having multiple rows.
</P>
<P>
Invalid syntax raises a handleable exception from the class CX_SY_DYNAMIC_OSQL_ERROR.
</P>
<p><span class="h4">
Security Note
</span></p>
<p>
 If used wrongly, dynamic programming techniques can present a serious security risk. Any dynamic content
that is passed to a program from the outside must be checked thoroughly or escaped before being used
in dynamic statements. This can be done using the system class <span class="lnkgrey">CL_ABAP_DYN_PRG</span> or the predefined function <a href="javascript:call_link('abenescape_functions.html')" class="blue"><span class="qtext">escape</span></a>. See
<a href="javascript:call_link('abensql_inj_dyn_tokens_scrty.html')" class="blue">SQL Injections Using Dynamic Tokens</a>.
</p>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>
If <span class="qtext">column_syntax</span> is an internal table with a
<a href="javascript:call_link('abenheader_line_glosry.html')" class="grey" title="Glossary Entry">header line</a>, the
<a href="javascript:call_link('abentable_body_glosry.html')" class="grey" title="Glossary Entry">table body</a> is evaluated, and not the header line.
<br><br></li>
<li>
The class <span class="lnkgrey">CL_ABAP_DYN_PRG</span> contains methods that support the creation of correct and secure dynamically specified columns.
<br><br></li>
<li>
In dynamically specified columns, static attributes or constants of a class cannot be accessed from outside in cases where the class has a static constructor and the constructor has not yet been executed.
<br></li>
</ul>
<ul class="disc">
<li>The literals of the dynamically specified ABAP SQL statements can span multiple rows of a token specified dynamically as an internal table.</li>
</ul>
<ul class="disc">
<li>When specified dynamically, ABAP SQL statements can contain the comment characters <a href="javascript:call_link('abencomment.html')" class="blue">
<span class="qtext">*</span></a> and <a href="javascript:call_link('abencomment.html')" class="blue"><span class="qtext">"</span></a> as follows:</li>
</ul>
<ul class="circlem2">
<li>In a dynamic token specified as a character-like data object, all content is ignored from the first comment character <span class="qtext">"</span>.</li>
</ul>
<ul class="circlem2">
<li>In a dynamic token specified as an internal table, all rows are ignored that start with the comment
character <span class="qtext">*</span>. In the row, all content is ignored from the first comment character <span class="qtext">"</span>.</li>
</ul>
<dl><dd>
Comment characters placed within literals are, however, part of the literal.
</dd></dl>
<p><span class="h4">
Example
</span></p>
<P>
Produces all departure or destination cities of Lufthansa flights, depending on whether 'CITYFROM' or
'CITYTO' is specified. A method of the class <span class="lnkgrey">CL_ABAP_DYN_PRG</span> is used to check whether the input values are valid.
</P>
<p class="qtextml1">
<span class="qtext">
DATA column TYPE c LENGTH 16 VALUE 'cityfrom'. <br>cl_demo_input=>request( CHANGING field = column ). <br>
TRY. <br>&nbsp;&nbsp;&nbsp;&nbsp;column = <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cl_abap_dyn_prg=>check_whitelist_tab( <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;val = to_upper( column ) <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;whitelist = VALUE string_hashed_table( ( `CITYFROM` ) <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( `CITYTO` ) ) ). <br>
&nbsp;&nbsp;CATCH cx_abap_not_in_whitelist. <br>&nbsp;&nbsp;&nbsp;&nbsp;cl_demo_output=>display( 'Not allowed' ). <br>
&nbsp;&nbsp;&nbsp;&nbsp;LEAVE PROGRAM. <br>ENDTRY. <br> <br>DATA(name) = `SPFLI-` &amp;&amp; column. <br>
DATA dref TYPE REF TO data. <br>CREATE DATA dref TYPE (name). <br>ASSIGN dref->* TO FIELD-SYMBOL(&lt;fs>). <br>
 <br>DATA output TYPE TABLE OF string WITH EMPTY KEY. <br>SELECT DISTINCT (column) <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FROM spfli <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; WHERE carrid = 'LH' <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; INTO @&lt;fs>. <br>
&nbsp;&nbsp;output = VALUE #( BASE output ( |{ &lt;fs> }| ) ). <br>ENDSELECT. <br>cl_demo_output=>display( output ). <br><br>
</span>
</p>
<p><span class="h4">
Example
</span></p>
<P>
Comment character in a dynamically specified token. The lines introduced using <span class="qtext">*</span> and the content from the character <span class="qtext">"</span> are ignored.
</P>
<p class="qtextml1">
<span class="qtext">
DATA: itab&nbsp;&nbsp;&nbsp;&nbsp;TYPE TABLE OF scarr, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;columns TYPE TABLE OF string. <br>
 <br>columns = VALUE #( ( `* Comment` ) <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;( `carrid, "comment` ) <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;( `* Comment` ) <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;( `carrname "comment` ) ). <br>
 <br>SELECT (columns) <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FROM scarr <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; INTO CORRESPONDING FIELDS OF TABLE @itab. <br> <br>cl_demo_output=>display( itab ). <br><br>
</span>
</p>
<p><span class="h4">
Executable Example
</span></p>
<P>
<a href="javascript:call_link('abendynamic_sql_abexa.html')" class="blue"><span class="qtext">SELECT</span>, Dynamic Token Specification</a> <br><br>
</P>
<br>
<br>
<!-- POSTFIX --><span class="h4">Continue</span><br>
<a href="javascript:call_link('abapselect_clause_col_spec.html')" class="blue">SELECT - col_spec</a><br>
<br>
<br>
</DIV>
<fieldset style="opacity:0">
<input id="url" type="text" />
</fieldset>
</BODY>

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abapselect_list.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:51:29 GMT -->
</html>

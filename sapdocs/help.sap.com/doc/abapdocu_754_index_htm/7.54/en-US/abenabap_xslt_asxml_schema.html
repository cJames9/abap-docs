<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="EN">
<!-- ABENABAP_XSLT_ASXML_SCHEMA -->

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abenabap_xslt_asxml_schema.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:52:29 GMT -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="author" content="SAP">
<meta name="description" content="asXML - Mapping Additional XML Schema Data Types">
<meta name="keywords" content="ABAP, XML Schema Data Types">
<title>
asXML - Mapping Additional XML Schema Data Types - ABAP Keyword Documentation
</title>
<link rel="icon" href="ABAPIcon.ico" type="image/ico">
<link rel="shortcut icon" href="ABAPIcon.ico">
<LINK rel="stylesheet" href="abap_docu.css" type="text/css">
<script language="javascript" type="text/javascript" src="functions.js"></script>
<script type="text/JavaScript">
function urlToClipboard(id){
 try{ var loc = top.location.href;}
 catch(e){ alert( "URL cannnot be determined" ); return; }
 var field = document.getElementById(id);
 field.focus();
 if ( loc.search( ".htm" ) == -1 && loc.search( ".HTM" ) == -1  ){ loc = loc + "index.htm"; }
 if (   loc.search( "index.html" ) != -1
     || loc.search( "INDEX-2.html" ) != -1 ){
   var off = loc.search( "file=" );
   if ( off == -1  ){
     field.value = loc + "?file=abenabap_xslt_asxml_schema.htm"; }
   else {
     field.value = loc.substring( 0, off ) + "file=abenabap_xslt_asxml_schema.htm";
   }
 }
 else {
    field.value = loc; }
 field.setSelectionRange(0, field.value.length);
 var r = confirm( "Copy URL to clipboard?\n\n" + field.value + "\n\nCopy to clipboard does not work in all browsers." );
 if (r == true) {
   try{
     document.execCommand("copy");
   }
     catch(e){ alert( "URL could not be copied to clipboard" ); }
 }
 window.scrollTo(0,0);
}
</script>
</head>
<body>
<div class="all">
<div style="float:right;">
<input type="button" value="URL"
style="font-size:10px; width:30px; height:18px; padding:0; "
onclick="urlToClipboard('url')" title="Copy URL to Clipboard" ></div>
<p>
<input name="query" id="query" value="" type="text" title="Suchbegriff" size="30" maxlength="30" onkeyup="getInput()">&nbsp;
<input type="button" value="Search"
style="font-size:12px; width:50px; height:18px; padding:0"
onclick="call_search('search.html')" title="Search in ABAP Keyword Documentation" >
<hr style="width:100%;height:1px"></p>
<p class="copyright">AS ABAP Release 754, &copy;Copyright 2019 SAP SE. All rights reserved.</p>
<span class="path">
<a href="javascript:call_link('abenabap.html')" class="blue">ABAP Keyword Documentation</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_reference.html')" class="blue">ABAP &#x2212; Reference</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_data_communication.html')" class="blue">Data Interfaces and Communication Interfaces</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_xml.html')" class="blue">ABAP and XML</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_xml_trafos.html')" class="blue">Transformations for XML</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_xslt_asxml.html')" class="blue">asXML - Canonical XML Representation</a>&nbsp;&rarr;&nbsp;
</span>
<p><span class="h1">
asXML - Mapping Additional XML Schema Data Types
</span></p>
<p>
As well as the <a href="http://www.w3.org/TR/xmlschema-2/" target="blank" class="blue">XML schema data types</a> required for
<a href="javascript:call_link('abenabap_xslt_asxml_elementary.html')" class="blue">mapping elementary ABAP types</a>, there are
additional XML schema data types that cannot be mapped directly to built-in ABAP types. To enable type-friendly deserialization of these external types to ABAP data objects, a special
<a href="javascript:call_link('abendomain_glosry.html')" class="grey" title="Glossary Entry">domain</a> is implemented in ABAP
Dictionary for each required XML schema data type. The name of the domain starts with XSD. Any elementary ABAP data objects whose data type is defined using a
<a href="javascript:call_link('abendata_element_glosry.html')" class="grey" title="Glossary Entry">data element</a> that refers
to a domain of this type are mapped to the appropriate XML schema data type, both when serialized and
when deserialized. The required conversions are performed internally. This applies to both XSL transformations and to simple transformations.
</p>
<p>
The following table provides a summary of the XML schema data types supported by domains, as well as other supported types
(<span class="qtext400">UUID</span>, <span class="qtext400">currCode</span> and <span class="qtext400">unitCode</span>).
</p>
<table border>
<tr>
<td><span class="bold">XML Schema Type</span></td>
<td><span class="bold">XML Representation</span></td>
<td><span class="bold">Domain</span></td>
<td><span class="bold">ABAP Representation</span></td>
</tr>
<tr>
<td><span class="qtext400">xsd:boolean</span></td>
<td><span class="qtext400">true</span>, <span class="qtext400">false</span></td>
<td><span class="lnkgrey">XSDBOOLEAN</span></td>
<td><span class="qtext400">X</span>, <span class="qtext400">" "</span></td>
</tr>
<tr>
<td><span class="qtext400">xsd:date</span></td>
<td><span class="qtext400">2007-10-01</span></td>
<td><span class="lnkgrey">XSDDATE_D</span></td>
<td><span class="qtext400">20071001</span></td>
</tr>
<tr>
<td><span class="qtext400">xsd:time</span></td>
<td><span class="qtext400">11:55:00</span></td>
<td><span class="lnkgrey">XSDTIME_T</span></td>
<td><span class="qtext400">115500</span></td>
</tr>
<tr>
<td><span class="qtext400">xsd:dateTime</span></td>
<td><span class="qtext400">2006-07-27T17:03:34Z</span></td>
<td><span class="lnkgrey">XSDDATETIME_Z</span>, <span class="lnkgrey">XSDDATETIME_LONG_Z</span>, <span class="lnkgrey">
XSDDATETIME_OFFSET</span>, <span class="lnkgrey">XSDDATETIME_LOCAL</span>, <span class="lnkgrey">XSDDATETIME_LOCAL_DT</span></td>
<td><span class="qtext400">20060727170334</span></td>
</tr>
<tr>
<td><span class="qtext400">xsd:QName</span></td>
<td><span class="qtext400">prefix:name</span></td>
<td><span class="lnkgrey">XSDQNAME</span></td>
<td><span class="qtext400">{URI}name</span></td>
</tr>
<tr>
<td><span class="qtext400">UUID</span></td>
<td><span class="qtext400">00505691&#x2011;3e2f&#x2011;1ed5&#x2011;b8ba&#x2011;87b9ac1248c9</span></td>
<td><span class="lnkgrey">XSDUUID_RAW</span>, <span class="lnkgrey">XSDUUID_CHAR</span>, <span class="lnkgrey">XSDUUID_BASE64</span></td>
<td><span class="qtext400">005056913E2F1ED5B8BA87B9AC1248C9</span>,<br> <span class="qtext400">051MaJul7jMukeUvh198oG</span></td>
</tr>
<tr>
<td><span class="qtext400">xsd:language</span></td>
<td><span class="qtext400">EN</span>, <span class="qtext400">DE</span></td>
<td><span class="lnkgrey">XSDLANGUAGE</span></td>
<td><span class="qtext400">D</span>, <span class="qtext400">E</span></td>
</tr>
<tr>
<td><span class="qtext400">currCode</span></td>
<td><span class="qtext400">EUR</span>, <span class="qtext400">USD</span></td>
<td><span class="lnkgrey">XSDCURRCODE</span></td>
<td><span class="qtext400">EUR</span>, <span class="qtext400">USD</span></td>
</tr>
<tr>
<td><span class="qtext400">unitCode</span></td>
<td><span class="qtext400">KMT</span>, <span class="qtext400">SMI</span></td>
<td><span class="lnkgrey">XSDUNITCODE</span></td>
<td><span class="qtext400">KM</span>, <span class="qtext400">MI</span></td>
</tr>
</table><br>
<p>
The following sections describe the domains and their mappings in more detail.
</p>
<ul class="disc">
<li><A HREF="#@@ITOC@@ABENABAP_XSLT_ASXML_SCHEMA_1" class="blue">boolean</A></li>
</ul>
<ul class="disc">
<li><A HREF="#@@ITOC@@ABENABAP_XSLT_ASXML_SCHEMA_2" class="blue">date</A></li>
</ul>
<ul class="disc">
<li><A HREF="#@@ITOC@@ABENABAP_XSLT_ASXML_SCHEMA_3" class="blue">dateTime</A></li>
</ul>
<ul class="disc">
<li><A HREF="#@@ITOC@@ABENABAP_XSLT_ASXML_SCHEMA_4" class="blue">QName</A></li>
</ul>
<ul class="disc">
<li><A HREF="#@@ITOC@@ABENABAP_XSLT_ASXML_SCHEMA_5" class="blue">time</A></li>
</ul>
<ul class="disc">
<li><A HREF="#@@ITOC@@ABENABAP_XSLT_ASXML_SCHEMA_6" class="blue">UUID</A></li>
</ul>
<ul class="disc">
<li><A HREF="#@@ITOC@@ABENABAP_XSLT_ASXML_SCHEMA_7" class="blue">language</A></li>
</ul>
<ul class="disc">
<li><A HREF="#@@ITOC@@ABENABAP_XSLT_ASXML_SCHEMA_8" class="blue">currCode</A></li>
</ul>
<ul class="disc">
<li><A HREF="#@@ITOC@@ABENABAP_XSLT_ASXML_SCHEMA_9" class="blue">unitCode</A></li>
</ul>
<p>
The following applies to all domains:
</p>
<ul class="disc">
<li>in deserializations of an empty XML element in an ABAP data object (which is typed with reference to this type of domain), the initial value of the associated elementary ABAP type is assigned as usual.</li>
</ul>
<ul class="disc">
<li>The transformation option <a href="javascript:call_link('abapcall_transformation_options.html')" class="blue"><span class="qtext">initial_components</span></a>
for suppressing initial values in serializations has the same effect as for normal data types. This
can lead to unexpected behavior in deserializations, if the transformation option<a href="javascript:call_link('abapcall_transformation_options.html')" class="blue">
<span class="qtext">clear</span></a> is not used with the value <span class="qtext400">"all"</span>.</li>
</ul>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>With the exception of XSDQNAME, all domains are also supported in
<a href="javascript:call_link('abenabap_json_trafos.html')" class="blue">transformations for JSON</a>. See the associated <a href="javascript:call_link('abenabap_json_asjson_xsd_abexa.html')" class="blue">executable example</a>.</li>
</ul>
<ul class="disc">
<li>By specifying <a href="javascript:call_link('abenst_option_format.html')" class="blue"><span class="qtext400">format</span></a>
in the attribute <a href="javascript:call_link('abenst_option.html')" class="blue"><span class="qtext400">option</span></a> of
the ST command <a href="javascript:call_link('abenst_tt_value_elementary.html')" class="blue"><span class="qtext400">tt:value</span></a>,
many of the formats here can also be applied to ABAP data objects that are not typed with a domain of this type.</li>
</ul>
<ul class="disc">
<li>By specifying <a href="javascript:call_link('abenst_option_format.html')" class="blue"><span class="qtext400">regime</span></a>
in the attribute <a href="javascript:call_link('abenst_option.html')" class="blue"><span class="qtext400">option</span></a> of
the ST command <a href="javascript:call_link('abenst_tt_value_elementary.html')" class="blue"><span class="qtext400">tt:value</span></a>, the effect of the domains shown here is disabled.</li>
</ul>
<ul class="disc">
<li>Exceptions that occur when mapping the domains displayed here can in some cases be suppressed by
specifying <a href="javascript:call_link('abenst_option_format.html')" class="blue"><span class="qtext400">noError</span></a>
in the attribute <a href="javascript:call_link('abenst_option.html')" class="blue"><span class="qtext400">option</span></a> of the ST command <a
 href="javascript:call_link('abenst_tt_value_elementary.html')" class="blue"><span class="qtext400">tt:value</span></a>.</li>
</ul>
<ul class="disc">
<li>Exceptions from mappings cannot be handled directly. Instead, the exception CX_TRANSFORMATION_ERROR
(or one of its subclasses) from statement <a href="javascript:call_link('abapcall_transformation.html')" class="blue"><span class="qtext">CALL
TRANSFORMATION</span></a> can be handled. The attribute PREVIOUS then contains a reference to the original exception.</li>
</ul>
<A name="@@ITOC@@ABENABAP_XSLT_ASXML_SCHEMA_1"></A>
<p><span class="h2">
boolean
</span></p>
<p>
The domain <span class="lnkgrey">XSDBOOLEAN</span> has the data type CHAR with length 1 and therefore supports the usual ABAP representation of a
<a href="javascript:call_link('abenlogical_value_glosry.html')" class="grey" title="Glossary Entry">truth value</a> using "X" for true and " " for false. These values are entered as
<a href="javascript:call_link('abenfixed_value_glosry.html')" class="grey" title="Glossary Entry">fixed values</a> for the domain
and are checked when an ABAP data object linked to this domain is serialized. The serialization creates
the values <span class="qtext400">"true"</span> and <span class="qtext400">"false"</span> in XML. A
deserialization also accepts the non-canonical XML values "1" and "0". Any other values raise the exception CX_SY_CONVERSION_NO_BOOLEAN. An empty element creates the value " " in deserializations.
</p>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>By specifying <a href="javascript:call_link('abenst_option_format.html')" class="blue"><span class="qtext400">noError</span></a>
in the attribute <a href="javascript:call_link('abenst_option.html')" class="blue"><span class="qtext400">option</span></a> of
the ST command <a href="javascript:call_link('abenst_tt_value_elementary.html')" class="blue"><span class="qtext400">tt:value</span></a>,
an exception for invalid ABAP values in serialization can be avoided. All values except " " are interpreted as true.</li>
</ul>
<ul class="disc">
<li>The transformation option  <a href="javascript:call_link('abapcall_transformation_options.html')" class="blue"><span class="qtext">initial_components</span></a>
suppresses components of type XSDBOOLEAN in serializations, if the components contain the value " " for <span class="qtext400">"false"</span>. Therefore this option should be used carefully.</li>
</ul>
<ul class="disc">
<li>The return value of the Boolean function <a href="javascript:call_link('abenboole_functions.html')" class="blue"><span class="qtext">xsdbool</span></a> has the type XSDBOOLEAN.</li>
</ul>
<A name="@@ITOC@@ABENABAP_XSLT_ASXML_SCHEMA_2"></A>
<p><span class="h2">
date
</span></p>
<p>
The XML schema data type <span class="qtext400">date</span> for dates is supported by both the built-in
ABAP type <a href="javascript:call_link('abenabap_xslt_asxml_elementary.html')" class="blue"><span class="qtext">d</span></a>
and the domain <span class="lnkgrey">XSDDATE_D</span>. This domain has the data type DATS. When data
is serialized and deserialized, the validity of the date is also checked, which is not the case with the built-in ABAP type <span class="qtext">d</span>. An empty element creates the value "00000000" in deserializations.
</p>
<p><span class="h4">
Note
</span></p>
<p>
By specifying <a href="javascript:call_link('abenst_option_format.html')" class="blue"><span class="qtext400">noError</span></a>
in the attribute <a href="javascript:call_link('abenst_option.html')" class="blue"><span class="qtext400">option</span></a> of
the ST command<a href="javascript:call_link('abenst_tt_value_elementary.html')" class="blue"><span class="qtext400">tt:value</span></a>, an exception for an invalid date in serialization can be avoided.
</p>
<A name="@@ITOC@@ABENABAP_XSLT_ASXML_SCHEMA_3"></A>
<p><span class="h2">
dateTime
</span></p>
<p>
The XML schema data type <span class="qtext400">dateTime</span> supports the representation of dates
and times in a field, based on ISO 8601. An XML value of this type is either in UTC format, contains a time zone, or represents a local time. Five domains are assigned to this schema data type:
</p>
<ul class="disc">
<li>The domains <span class="lnkgrey">XSDDATETIME_Z</span> and <span class="lnkgrey">XSDDATETIME_LONG_Z</span>
have the data types DEC with length 15 or 21. XSDDATETIME_Z has no decimal places and XSDDATETIME_LONG_Z has seven decimal places. These domains support the long and short form of
<a href="javascript:call_link('abentime_stamps_packed.html')" class="blue">time stamps in packed numbers</a>, which is always processed as the current
<a href="javascript:call_link('abenutc_glosry.html')" class="grey" title="Glossary Entry">UTC</a> reference time. The serialization generates values in the UTC format
(<span class="qtext400">yyyy-mm-ddThh:mm:ss.fffffffZ</span>) in XML. Only significant decimal places
are written to XML. A deserialization accepts XML values in UTC format (closed by <span class="qtext400">Z</span>) or with time zones (closed by <span class="qtext400"><i
class=bn>{</i>+<i class=bn>|</i>-<i class=bn>}</i>hh:mm</span>). The time zones are converted to the
appropriate UTC value. No precision may be lost in deserializations. This means that only XML values
with a maximum of seven decimal places can be deserialized. An empty element creates the value 0 in deserializations.</li>
</ul>
<ul class="disc">
<li>The domain <span class="lnkgrey">XSDDATETIME_OFFSET</span> has the data type CHAR with length 18. It permits mappings to XML values in which a time zone is specified (<span class="qtext400">yyyy-mm-ddThh:mm:ss<i
class=bn>{</i>+<i class=bn>|</i>-<i class=bn>}</i>hh:mm</span>). The defined format for an ABAP data object of type XSDDATETIME_OFFSET is <span class="qtext400">yyyymmddhhmmss<i
class=bn>{</i>+<i class=bn>|</i>-<i class=bn>}</i>mmm</span>. In a deserialization, the time zone of
the XML value specified in hours and minutes is converted to a three-figure number of minutes. An empty element creates an empty string in deserializations.</li>
</ul>
<ul class="disc">
<li>The domain <span class="lnkgrey">XSDDATETIME_LOCAL</span> has the data type CHAR with length 14.
The domain <span class="lnkgrey">XSDDATETIME_LOCAL_DT</span> has the data type NUMC with length 14. They enable mappings to XML values that specify a local time
(<span class="qtext400">yyyy-mm-ddThh:mm:ss</span>). This means that they do not exist in UTC format
and no time zone is specified.  The defined format for an ABAP data object of type XSDDATETIME_LOCAL
or XSDDATETIME_LOCAL_DT is <span class="qtext400">yyyymmddhhmmss</span>. The main difference between the two data types are their initial values. An empty element creates an empty string in deserializations.</li>
</ul>
<p>
Invalid values raise the exception CX_SY_CONVERSION_NO_DATE_TIME.
</p>
<p><span class="h4">
Note
</span></p>
<p>
<a href="javascript:call_link('abenutclong.html')" class="blue">Time stamp fields with time stamp type</a> are mapped to the format <span class="qtext400">yyyy-mm-ddThh:mm:ss.fffffffZ</span> by default.
</p>
<p><span class="h4">
Example
</span></p>
<p>
Serialization and deserialization of a time stamp field of the type <span class="qtext">utclong</span> and a time stamp in a packed number of the type XSDDATETIME_LONG_Z. The generated XML is as follows:
</p>
<dl><dd>
<span class="qtext400">&lt;asx:abap version="1.0" xmlns:asx="http://www.sap.com/abapxml"> <br> &lt;asx:values> <br>
&nbsp;&nbsp;&lt;TS>2019-04-15T11:22:10.1230000Z&lt;/TS> <br>&nbsp;&nbsp;&lt;TSP>2019-04-15T11:22:10.123Z&lt;/TSP> <br> &lt;/asx:values> <br>&lt;/asx:abap></span>
</dd></dl>
<p>
The element <span class="qtext400">&lt;TS></span> and element <span class="qtext400">&lt;TSP></span> can be deserialized in both time stamp fields and in packed numbers of the type XSDDATETIME_LONG_Z.
</p>
<p class="qtextml1">
<span class="qtext">
DATA(ts)&nbsp;&nbsp;= <br>&nbsp;&nbsp;CONV utclong( '2019-04-15 11:22:10,123' ). <br>DATA(tsp) = <br>&nbsp;&nbsp;CONV xsddatetime_long_z( cl_abap_tstmp=>utclong2tstmp( ts ) ). <br>
 <br>CALL TRANSFORMATION id <br>&nbsp;&nbsp;&nbsp;&nbsp; SOURCE ts&nbsp;&nbsp;= ts <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tsp = tsp <br>
&nbsp;&nbsp;&nbsp;&nbsp; RESULT XML DATA(xmlstr). <br> <br>CALL TRANSFORMATION id <br>&nbsp;&nbsp;&nbsp;&nbsp; SOURCE XML xmlstr <br>
&nbsp;&nbsp;&nbsp;&nbsp; RESULT ts&nbsp;&nbsp;= ts <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tsp = ts. <br>
 <br>CALL TRANSFORMATION id <br>&nbsp;&nbsp;&nbsp;&nbsp; SOURCE XML xmlstr <br>&nbsp;&nbsp;&nbsp;&nbsp; RESULT ts&nbsp;&nbsp;= tsp <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tsp = tsp.
</span>
</p>
<A name="@@ITOC@@ABENABAP_XSLT_ASXML_SCHEMA_4"></A>
<p><span class="h2">
QName
</span></p>
<p>
The domain <span class="lnkgrey">XSDQNAME</span> has the data type STRING. The XML schema data type
<span class="qtext400">QName</span> represents qualified names. In XML, a qualified name can have a
prefix that is separated by a colon. A prefix of this type must be associated with a URI in a namespace
declaration of the current element or a higher-level element. In ABAP, a name of this type is represented as the content of a string in the form <span class="qtext400">"{URI}name"</span>.
</p>
<p>
When an ABAP object of the type XSDQNAME is serialized, the URI specified in curly brackets is used
to create the associated prefix. If there is no namespace declaration for the URI in the right context,
it is inserted in the current element, with the resulting namespaces containing the names <span class="qtext400">"n0"</span>,
<span class="qtext400">"n1"</span>, ... If the URI is associated with the default namespace, no prefix
is created. If no URI is specified in curly brackets, again no prefix is created. This latter case is
possible only if the default namespace is not used simultaneously in the current element. Otherwise, the exception CX_ST_INVALID_XML is raised (which can occur only in simple transformations).
</p>
<p>
When a value with a prefix is deserialized to an ABAP data object of the type XSDQNAME, the system searches
for a URI in an associated namespace declaration. If no URI is found, the exception CX_SY_CONVERSION_NO_QNAME
is raised. If a value without prefix is deserialized, the URI of the default namespace is used (if available) or only the name is placed in the string.
</p>
<p>
An initial data object of the type XSDQNAME creates an empty element when serialized, and back when
deserialized. In both serializations and deserializations, the correctness of the specified name with
respect to the valid naming conventions is checked. If violated, an exception of the class CX_SY_CONVERSION_NO_QNAME is raised.
</p>
<p>
The class <span class="lnkgrey">CL_ABAP_XSDTYPE_HELPER</span> contains the methods TO_XSDQNAME and FROM_XSDQNAME for the conversion of URIs and names to the type XSDQNAME, and back.
</p>
<p><span class="h4">
Executable Example
</span></p>
<p>
<a href="javascript:call_link('abenasxml_qnames_abexa.html')" class="blue">asXML, Mapping of Qualified Names</a>
</p>
<A name="@@ITOC@@ABENABAP_XSLT_ASXML_SCHEMA_5"></A>
<p><span class="h2">
time
</span></p>
<p>
The XML schema data type <span class="qtext400">time</span> for times is supported by both the built-in
ABAP type <a href="javascript:call_link('abenabap_xslt_asxml_elementary.html')" class="blue"><span class="qtext">t</span></a>
and the domain <span class="lnkgrey">XSDTIME_T</span>. This domain has the data type TIMS. When data
is serialized and deserialized, the validity of the time is also checked, which is not the case with the built-in ABAP type <span class="qtext">t</span>. An empty element creates the value "000000" in deserializations.
</p>
<p><span class="h4">
Note
</span></p>
<p>
By specifying <a href="javascript:call_link('abenst_option_format.html')" class="blue"><span class="qtext400">noError</span></a>
in the attribute <a href="javascript:call_link('abenst_option.html')" class="blue"><span class="qtext400">option</span></a> of
the ST command<a href="javascript:call_link('abenst_tt_value_elementary.html')" class="blue"><span class="qtext400">tt:value</span></a>, an exception for an invalid time in serialization can be avoided.
</p>
<A name="@@ITOC@@ABENABAP_XSLT_ASXML_SCHEMA_6"></A>
<p><span class="h2">
UUID
</span></p>
<p>
The domains have the following meaning:
</p>
<ul class="disc">
<li><span class="lnkgrey">XSDUUID_RAW</span> has the data type RAW with length 16 for 16-byte <a href="javascript:call_link('abenuuid_glosry.html')" class="grey" title="Glossary Entry">UUIDs</a> in binary format.</li>
</ul>
<ul class="disc">
<li><span class="lnkgrey">XSDUUID_CHAR</span>has the data type CHAR with length 32 for 16-byte <a href="javascript:call_link('abenuuid_glosry.html')" class="grey" title="Glossary Entry">UUIDs</a> in hexadecimal format.</li>
</ul>
<ul class="disc">
<li><span class="lnkgrey">XSDUUID_BASE64</span> has the data type CHAR with length 22 for 16-byte
<a href="javascript:call_link('abenuuid_glosry.html')" class="grey" title="Glossary Entry">UUIDs</a> in <a href="javascript:call_link('abenbase64_glosry.html')" class="grey" title="Glossary Entry">base64</a> format.</li>
</ul>
<p>
A serialization creates the hexadecimal XML schema representation from data objects of these types,
with hyphens and lowercase letters. Deserializations accept uppercase letters as well. A character-like
UUID of type XSDUUID_CHAR can contain only uppercase letters in serializations. Invalid UUIDs raise
the exception CX_SY_CONVERSION_NO_UUID. An empty element creates byte strings or character strings filled with hexadecimal zeroes or blanks in deserializations.
</p>
<p><span class="h4">
Note
</span></p>
<p>
UUIDs can be generated in ABAP data objects from the class <a href="javascript:call_link('abencl_system_uuid.html')" class="blue">CL_SYSTEM_UUID</a>.
</p>
<p><span class="h4">
Example
</span></p>
<p>
Serialization of a 16-byte <a href="javascript:call_link('abenuuid_glosry.html')" class="grey" title="Glossary Entry">UUID</a> in <a href="javascript:call_link('abenbase64_glosry.html')" class="grey" title="Glossary Entry">base64</a> format.
</p>
<p class="qtextml1">
<span class="qtext">
DATA uuid TYPE xsduuid_base64. <br>uuid = cl_uuid_factory=>create_system_uuid( )->create_uuid_c22( ). <br>
 <br>CALL TRANSFORMATION id SOURCE uuid = uuid <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; RESULT XML DATA(xml). <br>cl_demo_output=>display_xml( xml ).
</span>
</p>
<p><span class="h4">
Executable Example
</span></p>
<p>
<a href="javascript:call_link('abenabap_xslt_mapping_abexa.html')" class="blue">asXML, Mapping of UUIDs</a>
</p>
<A name="@@ITOC@@ABENABAP_XSLT_ASXML_SCHEMA_7"></A>
<p><span class="h2">
language
</span></p>
<p>
The domain <span class="lnkgrey">XSDLANGUAGE</span> has the data type
<a href="javascript:call_link('abenddic_builtin_types.html')" class="blue">LANG</a> with length 1. It permits mappings of one-character
internal language codes to the associated two-character external ISO codes and back. The rule for the
mapping is specified in the columns SPRAS (single-character code) and LAISO (two-character code) of
the database table <span class="lnkgrey">T002</span>. In serializations, the single-character code is
found in the table T002 and the associated two-character code is used as an XML value. The opposite
happens in deserializations. In deserializations, lowercase letters are transformed to uppercase letters first. If no code is found in the table T002, the following relationship is evaluated:
</p>
<dl><dd>
<span class="qtext400">Y = ( X2 - 0x20 ) + ( X1 - 0x20 ) * ( 0x80 - 0x20 ) + 0xAC00</span>
</dd></dl>
<p>
Here, <span class="qtext400">Y</span> is the 16-bit Unicode value of the single-character code and <span class="qtext400">
X1</span> and <span class="qtext400">X2</span> are the 7-bit ASCII values of the two characters in the two-character code.
</p>
<ul class="disc">
<li>In serializations, a two-character code is created (if possible), that satisfies this relationship. If this is not possible, the exception CX_SY_CONVERSION_UNKNOWN_LANGU is raised.</li>
</ul>
<ul class="disc">
<li>In deserializations, the single-character code is calculated in accordance with this formula. The
exception CX_SY_CONVERSION_UNKNOWN_LANGU is raised if the XML value is longer than two characters (except
when the third character is a hyphen; in this case only the first two characters are used) or if the
7-bit ASCII values of the characters are less than <span class="qtext400">0x20</span> or greater than or equal to <span class="qtext400">0x80</span>.</li>
</ul>
<p><span class="h4">
Note
</span></p>
<p>
By specifying <a href="javascript:call_link('abenst_option_format.html')" class="blue"><span class="qtext400">noError</span></a>
in the attribute <a href="javascript:call_link('abenst_option.html')" class="blue"><span class="qtext400">option</span></a> of
the ST command <a href="javascript:call_link('abenst_tt_value_elementary.html')" class="blue"><span class="qtext400">tt:value</span></a>,
an exception for an unknown language in serialization can be avoided. In this case, no conversion is performed.
</p>
<p><span class="h4">
Example
</span></p>
<p>
Serializes a language code with transformation in accordance with table T002.
</p>
<p class="qtextml1">
<span class="qtext">
DATA language TYPE xsdlanguage VALUE 'E'. <br>cl_demo_input=>request( CHANGING field = language ). <br>TRY. <br>
&nbsp;&nbsp;&nbsp;&nbsp;CALL TRANSFORMATION id SOURCE language = language <br>&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; RESULT XML DATA(xml). <br>
&nbsp;&nbsp;&nbsp;&nbsp;cl_demo_output=>display_xml( xml ). <br>&nbsp;&nbsp;CATCH cx_transformation_error INTO DATA(exc_trafo). <br>
&nbsp;&nbsp;&nbsp;&nbsp;MESSAGE exc_trafo TYPE 'I' DISPLAY LIKE 'E'. <br>&nbsp;&nbsp;&nbsp;&nbsp;IF exc_trafo->previous IS NOT INITIAL. <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MESSAGE exc_trafo->previous TYPE 'I' DISPLAY LIKE 'E'. <br>&nbsp;&nbsp;&nbsp;&nbsp;ENDIF. <br>ENDTRY.
</span>
</p>
<A name="@@ITOC@@ABENABAP_XSLT_ASXML_SCHEMA_8"></A>
<p><span class="h2">
currCode
</span></p>
<p>
The domain <span class="lnkgrey">XSDCURRCODE</span> has the data type
<a href="javascript:call_link('abenddic_builtin_types.html')" class="blue">CUKY</a> with length 5. It permits mappings of SAP-specific
currency codes to external ISO currency codes and back. The rule for the mapping is specified in the
columns WAERS (SAP code) and ISOCD (ISO code) of the database table <span class="lnkgrey">TCURC</span>.
In serializations, the SAP code is found in the table TCURC and the associated ISO code is used as an
XML value. The opposite happens in deserializations.  If a code is not found in the table TCURC, the exception CX_SY_CONVERSION_UNKNOWN_CURR is raised.
</p>
<p><span class="h4">
Note
</span></p>
<p>
By specifying <a href="javascript:call_link('abenst_option_format.html')" class="blue"><span class="qtext400">noError</span></a>
in the attribute <a href="javascript:call_link('abenst_option.html')" class="blue"><span class="qtext400">option</span></a> of
the ST command <a href="javascript:call_link('abenst_tt_value_elementary.html')" class="blue"><span class="qtext400">tt:value</span></a>,
an exception for an unknown SAP code in serialization can be avoided. In this case, no conversion is performed.
</p>
<p><span class="h4">
Example
</span></p>
<p>
Serializes a currency code with transformation in accordance with table TCURC.
</p>
<p class="qtextml1">
<span class="qtext">
DATA currcode TYPE xsdcurrcode VALUE 'EUR'. <br>cl_demo_input=>request( CHANGING field = currcode ). <br>
TRY. <br>&nbsp;&nbsp;&nbsp;&nbsp;CALL TRANSFORMATION id SOURCE currcode = currcode <br>&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; RESULT XML DATA(xml). <br>
&nbsp;&nbsp;&nbsp;&nbsp;cl_demo_output=>display_xml( xml ). <br>&nbsp;&nbsp;CATCH cx_transformation_error INTO DATA(exc_trafo). <br>
&nbsp;&nbsp;&nbsp;&nbsp;MESSAGE exc_trafo TYPE 'I' DISPLAY LIKE 'E'. <br>&nbsp;&nbsp;&nbsp;&nbsp;IF exc_trafo->previous IS NOT INITIAL. <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MESSAGE exc_trafo->previous TYPE 'I' DISPLAY LIKE 'E'. <br>&nbsp;&nbsp;&nbsp;&nbsp;ENDIF. <br>ENDTRY.
</span>
</p>
<A name="@@ITOC@@ABENABAP_XSLT_ASXML_SCHEMA_9"></A>
<p><span class="h2">
unitCode
</span></p>
<p>
The domain <span class="lnkgrey">XSDUNITCODE</span> has the data type
<a href="javascript:call_link('abenddic_builtin_types.html')" class="blue">UNIT</a> with length 3. It permits mappings of SAP-specific
unit codes to external ISO unit codes and back. The rule for the mapping is specified in the columns
MSEHI (SAP code) and ISOCODE (ISO code) of the database table <span class="lnkgrey">T006</span>. In
serializations, the SAP code is found in the table T006 and the associated ISO code is used as an XML
value. The opposite happens in deserializations.  If a code is not found in the table T006, the exception CX_SY_CONVERSION_UNKNOWN_UNIT is raised.
</p>
<p><span class="h4">
Note
</span></p>
<p>
By specifying <a href="javascript:call_link('abenst_option_format.html')" class="blue"><span class="qtext400">noError</span></a>
in the attribute <a href="javascript:call_link('abenst_option.html')" class="blue"><span class="qtext400">option</span></a> of
the ST command <a href="javascript:call_link('abenst_tt_value_elementary.html')" class="blue"><span class="qtext400">tt:value</span></a>,
an exception for an unknown SAP code in serialization can be avoided. In this case, no conversion is performed.
</p>
<p><span class="h4">
Example
</span></p>
<p>
Serializes a unit of measurement with transformation in accordance with table T006.
</p>
<p class="qtextml1">
<span class="qtext">
DATA unitcode TYPE xsdunitcode VALUE 'TON'. <br>cl_demo_input=>request( CHANGING field = unitcode ). <br>
TRY. <br>&nbsp;&nbsp;&nbsp;&nbsp;CALL TRANSFORMATION id SOURCE unitcode = unitcode <br>&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; RESULT XML DATA(xml). <br>
&nbsp;&nbsp;&nbsp;&nbsp;cl_demo_output=>display_xml( xml ). <br>&nbsp;&nbsp;CATCH cx_transformation_error INTO DATA(exc_trafo). <br>
&nbsp;&nbsp;&nbsp;&nbsp;MESSAGE exc_trafo TYPE 'I' DISPLAY LIKE 'E'. <br>&nbsp;&nbsp;&nbsp;&nbsp;IF exc_trafo->previous IS NOT INITIAL. <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MESSAGE exc_trafo->previous TYPE 'I' DISPLAY LIKE 'E'. <br>&nbsp;&nbsp;&nbsp;&nbsp;ENDIF. <br>ENDTRY.
</span>
</p>
<br>
<br>
<br>
<br>
</DIV>
<fieldset style="opacity:0">
<input id="url" type="text" />
</fieldset>
</BODY>

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abenabap_xslt_asxml_schema.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:52:29 GMT -->
</html>

<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="EN">
<!-- ABAPSET_HANDLER -->

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abapset_handler.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:51:58 GMT -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="author" content="SAP">
<meta name="description" content="SET HANDLER">
<meta name="keywords" content="ABAP, SET HANDLER">
<title>
SET HANDLER - ABAP Keyword Documentation
</title>
<link rel="icon" href="ABAPIcon.ico" type="image/ico">
<link rel="shortcut icon" href="ABAPIcon.ico">
<LINK rel="stylesheet" href="abap_docu.css" type="text/css">
<script language="javascript" type="text/javascript" src="functions.js"></script>
<script type="text/JavaScript">
function urlToClipboard(id){
 try{ var loc = top.location.href;}
 catch(e){ alert( "URL cannnot be determined" ); return; }
 var field = document.getElementById(id);
 field.focus();
 if ( loc.search( ".htm" ) == -1 && loc.search( ".HTM" ) == -1  ){ loc = loc + "index.htm"; }
 if (   loc.search( "index.html" ) != -1
     || loc.search( "INDEX-2.html" ) != -1 ){
   var off = loc.search( "file=" );
   if ( off == -1  ){
     field.value = loc + "?file=abapset_handler.htm"; }
   else {
     field.value = loc.substring( 0, off ) + "file=abapset_handler.htm";
   }
 }
 else {
    field.value = loc; }
 field.setSelectionRange(0, field.value.length);
 var r = confirm( "Copy URL to clipboard?\n\n" + field.value + "\n\nCopy to clipboard does not work in all browsers." );
 if (r == true) {
   try{
     document.execCommand("copy");
   }
     catch(e){ alert( "URL could not be copied to clipboard" ); }
 }
 window.scrollTo(0,0);
}
</script>
</head>
<body>
<div class="all">
<div style="float:right;">
<input type="button" value="URL"
style="font-size:10px; width:30px; height:18px; padding:0; "
onclick="urlToClipboard('url')" title="Copy URL to Clipboard" ></div>
<p>
<input name="query" id="query" value="" type="text" title="Suchbegriff" size="30" maxlength="30" onkeyup="getInput()">&nbsp;
<input type="button" value="Search"
style="font-size:12px; width:50px; height:18px; padding:0"
onclick="call_search('search.html')" title="Search in ABAP Keyword Documentation" >
<hr style="width:100%;height:1px"></p>
<p class="copyright">AS ABAP Release 754, &copy;Copyright 2019 SAP SE. All rights reserved.</p>
<span class="path">
<a href="javascript:call_link('abenabap.html')" class="blue">ABAP Keyword Documentation</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_reference.html')" class="blue">ABAP &#x2212; Reference</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_execution.html')" class="blue">Calling and leaving program units</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abencall_processing_blocks.html')" class="blue">Calling Processing Blocks</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abencall_event_handler.html')" class="blue">Call Event Handler</a>&nbsp;&rarr;&nbsp;
</span>
<A NAME="@@SET HANDLER@@!ABAP_STATEMENT!@@"></A>
<p><span class="h1">
SET HANDLER <br><br>
</span></p>
<P>
<a href="javascript:call_link('abapset_handler_shortref.html')" class="blue">Quick Reference</a> <br><br>
</P>
<p><span class="h2">
<span class="bold">Syntax Forms</span>
</span></p>
<P>
 <br><a href="javascript:call_link('abapset_handler_instance.html')" class="blue">Registers an instance events handler</a> <br> <br>
1. <span class="qtext">SET HANDLER handler1 handler2 ... FOR oref<i class=bn>|</i><i class=bn>{</i>ALL INSTANCES<i class=bn>}</i></span> <br>
<span class="qtext">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<i class=bn>[</i>ACTIVATION act<i class=bn>]</i>.</span> <br>
 <br><a href="javascript:call_link('abapset_handler_static.html')" class="blue">Register static events handler</a> <br> <br>2. <span class="qtext">SET HANDLER handler1 handler2 ... <i
class=bn>[</i>ACTIVATION act<i class=bn>]</i>.</span> <br><br>
</P>
<p><span class="h4">
Effect
</span></p>
<P>
This statement registers or deregisters the <a href="javascript:call_link('abenevent_handler_glosry.html')" class="grey" title="Glossary Entry">event handlers</a> <span class="qtext">handler</span> for the corresponding
<a href="javascript:call_link('abeninstance_event_glosry.html')" class="grey" title="Glossary Entry">instance events</a> or <a href="javascript:call_link('abenstatic_event_glosry.html')" class="grey" title="Glossary Entry">static events</a>. <br><br>
</P>
<P>
<span class="bold">System Fields</span>
</P>
<table border>
<tr>
<td><span class="qtext"><span class="bold">sy-subrc</span></span></td>
<td><span class="bold">Meaning</span></td>
</tr>
<tr>
<td>0</td>
<td>All specified handlers could be registered or deregistered.</td>
</tr>
<tr>
<td>4</td>
<td>At least one of the specified handlers could not be registered, as it is already registered for the same event.</td>
</tr>
<tr>
<td>8</td>
<td>At least one of the specified handlers could not be deregistered, as it is not registered for the event in question.</td>
</tr>
</table><br>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>
The statement <span class="qtext">SET HANDLER</span> manages internally different system tables that
associate the event raisers and event handlers with each in single registrations, mass registrations,
and registrations of static events. Each registration represents one line in one of the system tables
assigned to the trigger. A handler can only appear once in a particular system table, but can appear
in several system tables, that is, it can be registered for different events. When the system raises
an event using <span class="qtext">RAISE EVENT</span>, it evaluates the corresponding system tables and calls the event handlers registered there.
<br><br></li>
<li>
The order of the calls of registered event handlers is not defined and can change during program runtime. To get a fixed order of different method calls, these can be called in one event handler.
<br><br></li>
<li>
When registering an instance method, a reference to the corresponding object in the relevant table is created and then deleted again when deregistering. With respect to the
<a href="javascript:call_link('abengarbage_collector_glosry.html')" class="grey" title="Glossary Entry">garbage collector</a>,
such a reference has the same effect as a reference in a reference variable. Objects registered as handlers
are not deleted as long as they are registered, that is, they are not deregistered using the addition
<span class="qtext">ACTIVATION</span>. If a triggering instance is deleted by the Garbage Collector, the corresponding system table is also deleted and as a result, its registrations are reversed.
<br><br></li>
<li>
If the statement <span class="qtext">SET HANDLER</span> registers the current handler again for the
current event in event handling, it is not clear whether the registration is ignored by the current event handler. This can produce endless recursions and should be avoided. <br><br>
<br></li>
</ul>
<p><span class="h4">
Example
</span></p>
<P>
Registration of event handlers for two instance events and a static event. In the first statement <span class="qtext">
SET HANDLER</span>, a static event handler <span class="qtext">h1</span> and an instance method <span class="qtext">
h2</span>, are registered for the instance events <span class="qtext">e1</span> and <span class="qtext">e2</span>
of the object referenced by the reference variable <span class="qtext">trigger</span>. In the second
statement <span class="qtext">SET HANDLER</span>, an instance method <span class="qtext">h3</span> is registered fort he static event <span class="qtext">ce1</span> of the class <span class="qtext">c1</span>.
</P>
<dl><dd>
<span class="qtext">CLASS c1 DEFINITION. <br>&nbsp;&nbsp;PUBLIC SECTION. <br>&nbsp;&nbsp;&nbsp;&nbsp;EVENTS e1. <br>
&nbsp;&nbsp;&nbsp;&nbsp;CLASS-EVENTS ce1. <br>ENDCLASS. <br> <br>CLASS c2 DEFINITION INHERITING FROM c1. <br>
&nbsp;&nbsp;PUBLIC SECTION. <br>&nbsp;&nbsp;&nbsp;&nbsp;EVENTS e2. <br>ENDCLASS. <br> <br>CLASS c3 DEFINITION. <br>
&nbsp;&nbsp;PUBLIC SECTION. <br>&nbsp;&nbsp;&nbsp;&nbsp;CLASS-METHODS&nbsp;&nbsp;h1 FOR EVENT e1 OF c1. <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;METHODS: h2 FOR EVENT e2 OF c2, <br>&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; h3 FOR EVENT ce1 OF c1. <br>
ENDCLASS. <br> <br>... <br> <br>DATA: trigger TYPE REF TO c2, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;handler TYPE REF TO c3. <br>
 <br>SET HANDLER: c3=>h1 handler->h2 FOR trigger, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; handler->h3.</span> <br><br>
</dd></dl>
<p><span class="h4">
<a href="javascript:call_link('abenabap_language_exceptions.html')" class="blue">Exceptions</a>
</span></p>
<P>
<span class="bold">Non-Handleable Exceptions</span>
</P>
<ul class="disc">
<li>
<span class="italic">Cause:</span> Unable to register any more handlers. <br><span class="italic">Runtime error:</span> <span class="qtext">SET_HANDLER_DISP_OVERFLOW</span>
<br><br></li>
<li>
<span class="italic">Cause:</span> Handlers of instance methods need the <span class="qtext">FOR</span> addition. <br><span class="italic">Runtime error:</span> <span class="qtext">SET_HANDLER_E_NO_FOR</span>
<br><br></li>
<li>
<span class="italic">Cause:</span> Event handler was registered for a static event. <br><span class="italic">Runtime error:</span> <span class="qtext">SET_HANDLER_FOR_CE</span>
<br><br></li>
<li>
<span class="italic">Cause:</span> The raiser of an event must not be <span class="qtext">NULL</span>. <br><span class="italic">Runtime error:</span> <span class="qtext">SET_HANDLER_FOR_NULL</span>
<br><br></li>
<li>
<span class="italic">Cause:</span> The handler of an event must not be <span class="qtext">NULL</span>. <br><span class="italic">Runtime error:</span> <span class="qtext">SET_HANDLER_HOBJ_NULL</span> <br><br>
<br></li>
</ul>
<br>
<br>
<!-- POSTFIX --><span class="h4">Continue</span><br>
<a href="javascript:call_link('abapset_handler_instance.html')" class="blue">SET HANDLER - FOR</a><br>
<a href="javascript:call_link('abapset_handler_static.html')" class="blue">SET HANDLER - static_event</a><br>
<br>
<br>
</DIV>
<fieldset style="opacity:0">
<input id="url" type="text" />
</fieldset>
</BODY>

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abapset_handler.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:51:58 GMT -->
</html>

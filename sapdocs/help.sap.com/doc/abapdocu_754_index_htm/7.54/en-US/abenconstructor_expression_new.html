<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="EN">
<!-- ABENCONSTRUCTOR_EXPRESSION_NEW -->

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abenconstructor_expression_new.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:51:28 GMT -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="author" content="SAP">
<meta name="description" content="NEW - Instance Operator">
<meta name="keywords" content="ABAP, Instance Operator">
<title>
NEW - Instance Operator - ABAP Keyword Documentation
</title>
<link rel="icon" href="ABAPIcon.ico" type="image/ico">
<link rel="shortcut icon" href="ABAPIcon.ico">
<LINK rel="stylesheet" href="abap_docu.css" type="text/css">
<script language="javascript" type="text/javascript" src="functions.js"></script>
<script type="text/JavaScript">
function urlToClipboard(id){
 try{ var loc = top.location.href;}
 catch(e){ alert( "URL cannnot be determined" ); return; }
 var field = document.getElementById(id);
 field.focus();
 if ( loc.search( ".htm" ) == -1 && loc.search( ".HTM" ) == -1  ){ loc = loc + "index.htm"; }
 if (   loc.search( "index.html" ) != -1
     || loc.search( "INDEX-2.html" ) != -1 ){
   var off = loc.search( "file=" );
   if ( off == -1  ){
     field.value = loc + "?file=abenconstructor_expression_new.htm"; }
   else {
     field.value = loc.substring( 0, off ) + "file=abenconstructor_expression_new.htm";
   }
 }
 else {
    field.value = loc; }
 field.setSelectionRange(0, field.value.length);
 var r = confirm( "Copy URL to clipboard?\n\n" + field.value + "\n\nCopy to clipboard does not work in all browsers." );
 if (r == true) {
   try{
     document.execCommand("copy");
   }
     catch(e){ alert( "URL could not be copied to clipboard" ); }
 }
 window.scrollTo(0,0);
}
</script>
</head>
<body>
<div class="all">
<div style="float:right;">
<input type="button" value="URL"
style="font-size:10px; width:30px; height:18px; padding:0; "
onclick="urlToClipboard('url')" title="Copy URL to Clipboard" ></div>
<p>
<input name="query" id="query" value="" type="text" title="Suchbegriff" size="30" maxlength="30" onkeyup="getInput()">&nbsp;
<input type="button" value="Search"
style="font-size:12px; width:50px; height:18px; padding:0"
onclick="call_search('search.html')" title="Search in ABAP Keyword Documentation" >
<hr style="width:100%;height:1px"></p>
<p class="copyright">AS ABAP Release 754, &copy;Copyright 2019 SAP SE. All rights reserved.</p>
<span class="path">
<a href="javascript:call_link('abenabap.html')" class="blue">ABAP Keyword Documentation</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_reference.html')" class="blue">ABAP &#x2212; Reference</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abencreate_objects.html')" class="blue">Creating Objects and Values</a>&nbsp;&rarr;&nbsp;
</span>
<A NAME="@@NEW@@!ABAP_CONSTRUCTOR!@@"></A>
<A NAME="@@#@@NEW@@"></A>
<p><span class="h1">
NEW - Instance Operator
</span></p>
<A name="@@ITOC@@ABENCONSTRUCTOR_EXPRESSION_NEW_1"></A>
<p><span class="h2">
Syntax
</span></p>
<p>
<span class="qtext">... NEW type( ... ) ...</span>
</p>
<p><span class="h4">
Effect
</span></p>
<p>
A <a href="javascript:call_link('abenconstructor_expressions.html')" class="blue">constructor expression</a> with the instance operator <span class="qtext">NEW</span> creates an
<a href="javascript:call_link('abenanonymous_data_object_glosry.html')" class="grey" title="Glossary Entry">anonymous data object</a> or an
<a href="javascript:call_link('abeninstance_glosry.html')" class="grey" title="Glossary Entry">instance</a> of a class and assigns
values to the new object. The result is a reference variable that points to the new object. The following can be specified for <span class="qtext">type</span>:
</p>
<ul class="disc">
<li>A non-generic data type <span class="qtext">dtype</span>. <br> <br>The operator <span class="qtext">NEW</span>
works in the same way as the statement <a href="javascript:call_link('abapcreate_data_existing.html')" class="blue"><span class="qtext">CREATE
DATA dref TYPE dtype</span></a>, where <span class="qtext">dref</span> stands for the result that points to the new anonymous data object. The result is a data reference variable of the
<a href="javascript:call_link('abenstatic_type_glosry.html')" class="grey" title="Glossary Entry">static type</a> <span class="qtext">dtype</span>. A constructor expression of this type cannot be extended using a
<a href="javascript:call_link('abencomponent_selector_glosry.html')" class="grey" title="Glossary Entry">component selector</a>.</li>
</ul>
<ul class="disc">
<li>A class <span class="qtext">class</span>. <br> <br>The operator <span class="qtext">NEW</span> works
in the same way as the statement <a href="javascript:call_link('abapcreate_object_explicit.html')" class="blue"><span class="qtext">CREATE
OBJECT oref TYPE class</span></a>, where <span class="qtext">oref</span> stands for the result that points to the new object. The result is an object reference variable of the
<a href="javascript:call_link('abenstatic_type_glosry.html')" class="grey" title="Glossary Entry">static type</a> <span class="qtext">class</span>.
Using an object component selector <span class="qtext">-></span>, a constructor expression of this type can be extended in both
<a href="javascript:call_link('abengeneral_expression_positions.html')" class="blue">general expression positions</a> and
<a href="javascript:call_link('abenfunctional_positions.html')" class="blue">functional positions</a> (like an object reference variable) and can be used in the same operand positions. The following is also possible:</li>
</ul>
<ul class="circlem2">
<li><a href="javascript:call_link('abapcall_method_static_short.html')" class="blue">Standalone method calls</a> (including
<a href="javascript:call_link('abenchained_method_call_glosry.html')" class="grey" title="Glossary Entry">chained method calls</a>) can be introduced.</li>
</ul>
<ul class="circlem2">
<li>A single expression that points to an attribute of the class using exactly one follow-on object component selector can also be used as the target field of assignments.</li>
</ul>
<ul class="disc">
<li>The <span class="qtext">#</span> character. <br> <br> If the data type required in an operand position
is unique and fully recognizable, the <span class="qtext">#</span> character can be used instead of an explicitly specified type <span class="qtext">type</span> and the
<a href="javascript:call_link('abenoperand_type_glosry.html')" class="grey" title="Glossary Entry">operand type</a> is used.
If the operand type is not known in full, the <span class="qtext">#</span> character cannot be used, with the following exception: The operand can be evaluated after <span class="qtext">BASE</span> when a
<a href="javascript:call_link('abennew_constructor_params_struct.html')" class="blue">structure</a> or an <a href="javascript:call_link('abennew_constructor_params_itab.html')" class="blue">internal table</a> is constructed.</li>
</ul>
<p>
The same descriptions apply as to the <span class="qtext">CREATE</span> statements. Once an object is
created, it is provided with values using the parameters in parentheses. The syntax used in parameter passing depends on the type used. There are specialized categories of parameter passing for complex types.
</p>
<ul class="disc">
<li><a href="javascript:call_link('abennew_constructor_params_initial.html')" class="blue">Initial value for all types</a></li>
</ul>
<ul class="disc">
<li><a href="javascript:call_link('abennew_constructor_params_single.html')" class="blue">Initial value for all data types</a></li>
</ul>
<ul class="disc">
<li><a href="javascript:call_link('abennew_constructor_params_struct.html')" class="blue">Structures</a></li>
</ul>
<ul class="disc">
<li><a href="javascript:call_link('abennew_constructor_params_itab.html')" class="blue">Internal tables</a></li>
</ul>
<ul class="disc">
<li><a href="javascript:call_link('abennew_constructor_params_class.html')" class="blue">Classes</a></li>
</ul>
<p>
When a constructor expression is <a href="javascript:call_link('abenequals_operator.html')" class="blue">assigned</a> to a reference
variable using <span class="qtext">NEW</span>, the information in the parentheses is evaluated before the new object is bound to the target variable.
</p>
<P>
<span class="bold">Return Value</span><br> <br>If an instance of a
<a href="javascript:call_link('abennew_constructor_params_class.html')" class="blue">class</a> is created successfully, the instance
operator <span class="qtext">NEW</span> sets <span class="qtext">sy-subrc</span> to 0. Non-class-based
exceptions of the instance constructor cannot be handled, which means that <span class="qtext">sy-subrc</span>
is never set to a value other than 0. The return code <span class="qtext">sy-subrc</span> is not set when anonymous data objects are created.
</P>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>To create the values for a new data object, the instance operator <span class="qtext">NEW</span>
uses mainly the same syntax as the value operator <a href="javascript:call_link('abenconstructor_expression_value.html')" class="blue"><span class="qtext">VALUE</span></a>.</li>
</ul>
<ul class="disc">
<li>The instance operator <span class="qtext">NEW</span> always creates a new temporary reference variable
that points to the new object. The reference variable is used as the operand of a statement and then
deleted. It is deleted when the current statement is closed or after the analysis of a relational expression once the truth value is determined. The new object is passed to the garbage collector if it is not passed to a
<a href="javascript:call_link('abenheap_reference_glosry.html')" class="grey" title="Glossary Entry">heap reference</a> or a field symbol after the temporary reference variable is deleted.</li>
</ul>
<ul class="disc">
<li><a href="javascript:call_link('abenequals_operator.html')" class="blue">Assignments</a> to a reference variable also always
create a temporary reference variable that is only assigned to the target variable afterwards. This
means that the object pointed to by the target variable before the assignment can be addressed using
it throughout the entire expression. This is the difference between <span class="qtext">NEW</span> and
the value operator <a href="javascript:call_link('abenconstructor_expression_value.html')" class="blue"><span class="qtext">VALUE</span></a>.</li>
</ul>
<p><span class="h4">
Example
</span></p>
<p>
Creates an anonymous data object of the type <span class="qtext">i</span> with the value 555 and an
instance of a local class <span class="qtext">cls</span> (derived implicitly from the static type of
<span class="qtext">oref</span>). In this case, the last statement could be written just as explicitly as <span class="qtext">oref = NEW cls(
)</span> or it could be written as <span class="qtext">DATA(oref) = NEW cls( )</span>, using an inline declaration instead of the preceding <span class="qtext">DATA</span> statement.
</p>
<p class="qtextml1">
<span class="qtext">
CLASS cls DEFINITION. <br>&nbsp;&nbsp;... <br>ENDCLASS. <br> <br>DATA: dref TYPE REF TO data, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;oref TYPE REF TO cls. <br> <br>dref = NEW i( 555 ). <br>oref = NEW #( ).
</span>
</p>
<br>
<br>
<!-- POSTFIX --><span class="h4">Continue</span><br>
<a href="javascript:call_link('abennew_constructor_params_initial.html')" class="blue">NEW - Initial Value for All Types</a><br>
<a href="javascript:call_link('abennew_constructor_params_single.html')" class="blue">NEW - Single Value for All Data Types</a><br>
<a href="javascript:call_link('abennew_constructor_params_struct.html')" class="blue">NEW - Structures</a><br>
<a href="javascript:call_link('abennew_constructor_params_itab.html')" class="blue">NEW - Internal Tables</a><br>
<a href="javascript:call_link('abennew_constructor_params_class.html')" class="blue">NEW - Classes</a><br>
<br>
<br>
</DIV>
<fieldset style="opacity:0">
<input id="url" type="text" />
</fieldset>
</BODY>

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abenconstructor_expression_new.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:51:28 GMT -->
</html>

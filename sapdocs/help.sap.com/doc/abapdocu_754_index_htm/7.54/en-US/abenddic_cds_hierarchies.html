<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="EN">
<!-- ABENDDIC_CDS_HIERARCHIES -->

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abenddic_cds_hierarchies.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:52:14 GMT -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="author" content="SAP">
<meta name="description" content="ABAP CDS - Hierarchies">
<meta name="keywords" content="ABAP, CDS Hierarchies">
<title>
ABAP CDS - Hierarchies - ABAP Keyword Documentation
</title>
<link rel="icon" href="ABAPIcon.ico" type="image/ico">
<link rel="shortcut icon" href="ABAPIcon.ico">
<LINK rel="stylesheet" href="abap_docu.css" type="text/css">
<script language="javascript" type="text/javascript" src="functions.js"></script>
<script type="text/JavaScript">
function urlToClipboard(id){
 try{ var loc = top.location.href;}
 catch(e){ alert( "URL cannnot be determined" ); return; }
 var field = document.getElementById(id);
 field.focus();
 if ( loc.search( ".htm" ) == -1 && loc.search( ".HTM" ) == -1  ){ loc = loc + "index.htm"; }
 if (   loc.search( "index.html" ) != -1
     || loc.search( "INDEX-2.html" ) != -1 ){
   var off = loc.search( "file=" );
   if ( off == -1  ){
     field.value = loc + "?file=abenddic_cds_hierarchies.htm"; }
   else {
     field.value = loc.substring( 0, off ) + "file=abenddic_cds_hierarchies.htm";
   }
 }
 else {
    field.value = loc; }
 field.setSelectionRange(0, field.value.length);
 var r = confirm( "Copy URL to clipboard?\n\n" + field.value + "\n\nCopy to clipboard does not work in all browsers." );
 if (r == true) {
   try{
     document.execCommand("copy");
   }
     catch(e){ alert( "URL could not be copied to clipboard" ); }
 }
 window.scrollTo(0,0);
}
</script>
</head>
<body>
<div class="all">
<div style="float:right;">
<input type="button" value="URL"
style="font-size:10px; width:30px; height:18px; padding:0; "
onclick="urlToClipboard('url')" title="Copy URL to Clipboard" ></div>
<p>
<input name="query" id="query" value="" type="text" title="Suchbegriff" size="30" maxlength="30" onkeyup="getInput()">&nbsp;
<input type="button" value="Search"
style="font-size:12px; width:50px; height:18px; padding:0"
onclick="call_search('search.html')" title="Search in ABAP Keyword Documentation" >
<hr style="width:100%;height:1px"></p>
<p class="copyright">AS ABAP Release 754, &copy;Copyright 2019 SAP SE. All rights reserved.</p>
<span class="path">
<a href="javascript:call_link('abenabap.html')" class="blue">ABAP Keyword Documentation</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_dictionary.html')" class="blue">ABAP - Dictionary</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abencds.html')" class="blue">ABAP CDS in ABAP Dictionary</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenddic_cds_entities.html')" class="blue">ABAP CDS - Data Definitions</a>&nbsp;&rarr;&nbsp;
</span>
<p><span class="h1">
ABAP CDS - Hierarchies
</span></p>
<p>
A CDS hierarchy is defined in the <a href="javascript:call_link('abenddl_source_code_glosry.html')" class="grey" title="Glossary Entry">DDL source code</a> of a
<a href="javascript:call_link('abencds_data_definition_glosry.html')" class="grey" title="Glossary Entry">CDS data definition</a> in the
<a href="javascript:call_link('abenadt_glosry.html')" class="grey" title="Glossary Entry">ABAP Development Tools</a> using the statement <a
 href="javascript:call_link('abencds_f1_define_hierarchy.html')" class="blue"><span class="qtext400">DEFINE HIERARCHY</span></a> in the
<a href="javascript:call_link('abencds_ddl_glosry.html')" class="grey" title="Glossary Entry">CDS DDL</a> of the
<a href="javascript:call_link('abencds.html')" class="blue">ABAP Core Data Services (CDS)</a>. The name of the CDS hierarchy must match the name of the
<a href="javascript:call_link('abenddl_source_code_glosry.html')" class="grey" title="Glossary Entry">DDL source code</a>. DDL source code in a CDS hierarchy can also be displayed in
<a href="javascript:call_link('abenrepository_browser_glosry.html')" class="grey" title="Glossary Entry">Repository Browser</a> in <a href="javascript:call_link('abenabap_workbench_glosry.html')" class="grey" title="Glossary Entry">ABAP Workbench</a>.
</p>
<p>
A CDS hierarchy represents a <a href="javascript:call_link('abenhierarchy_glosry.html')" class="grey" title="Glossary Entry">hierarchy</a> of rows created when the CDS hierarchy is accessed. CDS hierarchies can currently only be used when the
<a href="javascript:call_link('abenstandard_db_glosry.html')" class="grey" title="Glossary Entry">standard database</a> is a
<a href="javascript:call_link('abenhana_database_glosry.html')" class="grey" title="Glossary Entry">SAP HANA database</a>. When a CDS hierarchy is activated, a view with the same name is created as an
<a href="javascript:call_link('abenabap_managed_db_object_glosry.html')" class="grey" title="Glossary Entry">ABAP-managed database object</a> on the database. This view accesses a hierarchy generator function such as <a
 href="https://help.sap.com/viewer/4f9859d273254e04af6ab3e9ea3af286/2.0.03/en-US/a93c356d32ef4e7fbd6143b554278eab.html" target="blank" class="blue"><span class="qtext400">HIERARCHY</span></a>.
</p>
<p>
A CDS hierarchy is declared as a CDS entity <span class="qtext400">cds_entity</span> using the statement
<a href="javascript:call_link('abencds_f1_define_hierarchy.html')" class="blue"><span class="qtext400">DEFINE HIERARCHY</span></a>. As a data type in ABAP Dictionary, the CDS entity represents a structured type with the
<a href="javascript:call_link('abencds_f1_hiera_element_list.html')" class="blue">elements of the CDS hierarchy</a> as components and can be used like any
<a href="javascript:call_link('abencds_entity_glosry.html')" class="grey" title="Glossary Entry">CDS entity</a>.
</p>
<ul class="disc">
<li>In ABAP CDS, the CDS entity can be used as a data source of other CDS entities.</li>
</ul>
<ul class="disc">
<li>In ABAP, the CDS entity can be used as a data type and in ABAP SQL read statements.</li>
</ul>
<ul class="disc">
<li>The CDS entity cannot be used as a data type for definitions of <a href="javascript:call_link('abenddic_classical_objects.html')" class="blue">classic dictionary objects</a> in ABAP Dictionary.</li>
</ul>
<p>
A CDS hierarchy is located in the namespace of the
<a href="javascript:call_link('abenddic_data_types.html')" class="blue">data types</a> in ABAP Dictionary and in the namespace of the global
<a href="javascript:call_link('abenobject_type_glosry.html')" class="grey" title="Glossary Entry">object types</a> in the <a href="javascript:call_link('abenclass_library_glosry.html')" class="grey" title="Glossary Entry">class library</a>.
</p>
<p>
When using CDS hierarchies, the handling of the special
<a href="javascript:call_link('abenhierarchy_attribute_glosry.html')" class="grey" title="Glossary Entry">hierarchy attributes</a>
is of special importance. These attributes occur as part of the results set of the hierarchy function on the database:
</p>
<ul class="disc">
<li>The hierarchy attributes can be accessed explicitly as follows:</li>
</ul>
<ul class="circlem2">
<li>The prefix <a href="javascript:call_link('abencds_f1_hiera_element.html')" class="blue"><span class="qtext400">$node.</span></a> can be used to list them in the
<a href="javascript:call_link('abencds_f1_hiera_element_list.html')" class="blue">element list</a> of the CDS hierarchy and grant them an alias name. They are then applied like a regular element of the hierarchy.</li>
</ul>
<ul class="circlem2">
<li>When a ABAP SQL query is applied to a CDS hierarchy, they are handled as additional
<a href="javascript:call_link('abenhierarchy_column_glosry.html')" class="grey" title="Glossary Entry">hierarchy columns</a>, regardless of their element list, and their names can be used in explicitly specified columns</li>
</ul>
<dl><dd>
This makes it possible to specify a hierarchy attribute in the element list of the CDS hierarchy in
two different ways in an ABAP SQL query, either by using the name of the element or by using the name of the hierarchy column.
</dd></dl>
<ul class="disc">
<li>When CDS hierarchies are used, the hierarchy attributes are not respected implicitly in the following cases:</li>
</ul>
<ul class="circlem2">
<li>When used as a data source of other CDS entities.</li>
</ul>
<ul class="circlem2">
<li>When used as a data type.</li>
</ul>
<ul class="circlem2">
<li>When used as a data source in <a href="javascript:call_link('abenopensql.html')" class="blue">ABAP SQL</a>, if <span class="qtext">*</span>
or <span class="qtext">...~*</span> is specified in the <a href="javascript:call_link('abapselect_list.html')" class="blue"><span class="qtext">SELECT</span></a> list.</li>
</ul>
<dl><dd>
In these cases, only the explicit elements of the <a href="javascript:call_link('abencds_f1_hiera_element_list.html')" class="blue">element list</a> are respected. These can, however, present hierarchy attributes.
</dd></dl>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>In an ABAP program, it is possible to use the method USE_FEATURES of the class
<a href="javascript:call_link('abencl_abap_dbfeatures.html')" class="blue">CL_ABAP_DBFEATURES</a> to check whether the current
database system supports hierarchies. This requires the constant HIERARCHIES of this class to be passed to the method in an internal table.</li>
</ul>
<ul class="disc">
<li>No <a href="javascript:call_link('abencds_database_view_glosry.html')" class="grey" title="Glossary Entry">CDS database view</a> is created for a CDS hierarchy.</li>
</ul>
<ul class="disc">
<li>A hierarchy attribute does not become part of a structured data type created by a CDS hierarchy until it is listed explicitly in the element list of the hierarchy.</li>
</ul>
<ul class="disc">
<li>For information about client handling of CDS hierarchies, see <a href="javascript:call_link('abencds_hiera_client_handling.html')" class="blue">Client Handling in CDS Hierarchies</a>.</li>
</ul>
<p>

</p>
<p>

</p>
<p>

</p>
<br>
<br>
<!-- POSTFIX --><span class="h4">Continue</span><br>
<a href="javascript:call_link('abencds_hiera_client_handling.html')" class="blue">ABAP CDS - Client Handling in CDS Hierarchies</a><br>
<br>
<br>
</DIV>
<fieldset style="opacity:0">
<input id="url" type="text" />
</fieldset>
</BODY>

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abenddic_cds_hierarchies.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:52:14 GMT -->
</html>

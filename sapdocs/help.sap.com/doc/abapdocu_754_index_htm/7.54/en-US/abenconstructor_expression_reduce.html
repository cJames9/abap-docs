<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="EN">
<!-- ABENCONSTRUCTOR_EXPRESSION_REDUCE -->

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abenconstructor_expression_reduce.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:51:28 GMT -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="author" content="SAP">
<meta name="description" content="REDUCE - Reduction Operator">
<meta name="keywords" content="ABAP, Reduction Operator">
<title>
REDUCE - Reduction Operator - ABAP Keyword Documentation
</title>
<link rel="icon" href="ABAPIcon.ico" type="image/ico">
<link rel="shortcut icon" href="ABAPIcon.ico">
<LINK rel="stylesheet" href="abap_docu.css" type="text/css">
<script language="javascript" type="text/javascript" src="functions.js"></script>
<script type="text/JavaScript">
function urlToClipboard(id){
 try{ var loc = top.location.href;}
 catch(e){ alert( "URL cannnot be determined" ); return; }
 var field = document.getElementById(id);
 field.focus();
 if ( loc.search( ".htm" ) == -1 && loc.search( ".HTM" ) == -1  ){ loc = loc + "index.htm"; }
 if (   loc.search( "index.html" ) != -1
     || loc.search( "INDEX-2.html" ) != -1 ){
   var off = loc.search( "file=" );
   if ( off == -1  ){
     field.value = loc + "?file=abenconstructor_expression_reduce.htm"; }
   else {
     field.value = loc.substring( 0, off ) + "file=abenconstructor_expression_reduce.htm";
   }
 }
 else {
    field.value = loc; }
 field.setSelectionRange(0, field.value.length);
 var r = confirm( "Copy URL to clipboard?\n\n" + field.value + "\n\nCopy to clipboard does not work in all browsers." );
 if (r == true) {
   try{
     document.execCommand("copy");
   }
     catch(e){ alert( "URL could not be copied to clipboard" ); }
 }
 window.scrollTo(0,0);
}
</script>
</head>
<body>
<div class="all">
<div style="float:right;">
<input type="button" value="URL"
style="font-size:10px; width:30px; height:18px; padding:0; "
onclick="urlToClipboard('url')" title="Copy URL to Clipboard" ></div>
<p>
<input name="query" id="query" value="" type="text" title="Suchbegriff" size="30" maxlength="30" onkeyup="getInput()">&nbsp;
<input type="button" value="Search"
style="font-size:12px; width:50px; height:18px; padding:0"
onclick="call_search('search.html')" title="Search in ABAP Keyword Documentation" >
<hr style="width:100%;height:1px"></p>
<p class="copyright">AS ABAP Release 754, &copy;Copyright 2019 SAP SE. All rights reserved.</p>
<span class="path">
<a href="javascript:call_link('abenabap.html')" class="blue">ABAP Keyword Documentation</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_reference.html')" class="blue">ABAP &#x2212; Reference</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_flow_logic.html')" class="blue">Program Flow Logic</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abeniteration_expressions.html')" class="blue">Iteration Expressions</a>&nbsp;&rarr;&nbsp;
</span>
<A NAME="@@#@@REDUCE@@"></A>
<A NAME="@@NEXT@@REDUCE@@"></A>
<A NAME="@@INIT@@REDUCE@@"></A>
<A NAME="@@FOR@@REDUCE@@"></A>
<A NAME="@@REDUCE@@!ABAP_CONSTRUCTOR!@@"></A>
<p><span class="h1">
REDUCE - Reduction Operator
</span></p>
<A name="@@ITOC@@ABENCONSTRUCTOR_EXPRESSION_REDUCE_1"></A>
<p><span class="h2">
Syntax
</span></p>
<p>
<span class="qtext">... REDUCE type( <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<i class=bn>[</i><a href="javascript:call_link('abaplet.html')" class="blue">let_exp</a><i class=bn>]</i> <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INIT <i class=bn>{</i>x1 = rhs1<i class=bn>}</i><i class=bn>|</i><i
class=bn>{</i>&lt;x1> = wrexpr1<i class=bn>}</i><i class=bn>|</i><i class=bn>{</i>x1<i class=bn>|</i>&lt;x1> TYPE dtype1<i class=bn>}</i> <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <i class=bn>{</i>x2 = rhs2<i class=bn>}</i><i
class=bn>|</i><i class=bn>{</i>&lt;x2> = wrexpr2<i class=bn>}</i><i class=bn>|</i><i class=bn>{</i>x2<i class=bn>|</i>&lt;x2> TYPE dtype2<i class=bn>}</i> <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ... <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="javascript:call_link('abenfor.html')" class="blue">FOR for_exp1</a> <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="javascript:call_link('abenfor.html')" class="blue">FOR for_exp2</a> <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;... <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NEXT ... <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <i
class=bn>{</i>x1 = rhs1<i class=bn>}</i><i class=bn>|</i><i class=bn>{</i>&lt;x1> = wrexpr1<i class=bn>}</i> <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <i class=bn>{</i>x2 = rhs2<i class=bn>}</i><i class=bn>|</i><i class=bn>{</i>&lt;x2> = wrexpr2<i class=bn>}</i> <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ... ) ...</span> <br><br>
</p>
<p><span class="h4">
Effect
</span></p>
<p>
A <a href="javascript:call_link('abenconstructor_expressions.html')" class="blue">constructor expression</a> with the reduction
operator <span class="qtext">REDUCE</span> creates a result of a data type specified using <span class="qtext">type</span> from one or more
<a href="javascript:call_link('abeniteration_expression_glosry.html')" class="grey" title="Glossary Entry">iteration expressions</a>. The following can be specified for <span class="qtext">type</span>:
</p>
<ul class="disc">
<li>A non-generic data type <span class="qtext">dtype</span>.</li>
</ul>
<ul class="disc">
<li>The <span class="qtext">#</span> character as a symbol for the <a href="javascript:call_link('abenoperand_type_glosry.html')" class="grey" title="Glossary Entry">operand type</a>.</li>
</ul>
<ul class="circlem2">
<li>If the data type required in an operand position is unique and known completely, this type is used.</li>
</ul>
<ul class="circlem2">
<li>If the operand type is not known completely, the type of the first declaration after <span class="qtext">INIT</span>
(which is always known) is used, except if the constructor expression is passed to an actual parameter with a generically typed formal parameter.</li>
</ul>
<ul class="circlem2">
<li>If the constructor expression is passed to an actual parameter with a generically typed formal parameter, the operand type is derived in accordance with
<a href="javascript:call_link('abenreduce_constructor_inference.html')" class="blue">special rules</a>.</li>
</ul>
<p>
The parameters and arguments of the constructor expression must be specified as follows:
</p>
<ul class="disc">
<li>Firstly, an optional <a href="javascript:call_link('abaplet.html')" class="blue"><span class="qtext">LET</span> expression</a>
can be specified for defining local helper fields whose value is used within the expression but can no longer be modified there.</li>
</ul>
<ul class="disc">
<li>An addition <span class="qtext">INIT</span> must then be specified followed by any number of declarations.
The declarations after <span class="qtext">INIT</span> create local variables <span class="qtext">x1</span>,
<span class="qtext">x2</span>, ...  or field symbols <span class="qtext">&lt;x1></span>, <span class="qtext">&lt;x2></span>,
... to which the same applies with respect to namespace and visibility as to the helper fields declared
in a <a href="javascript:call_link('abaplet.html')" class="blue"><span class="qtext">LET</span> expression</a>. The syntax of the declaration is one of the following:</li>
</ul>
<ul class="circlem2">
<li>It is the same as in a <a href="javascript:call_link('abaplet.html')" class="blue"><span class="qtext">LET</span> expression</a> and it follows the rules that apply here.</li>
</ul>
<ul class="circlem2">
<li>Initial variables or field symbols of the specified data type <span class="qtext">dtype</span> can be created using <span class="qtext">TYPE</span>.</li>
</ul>
<dl><dd>
At least one variable or one field symbol must be specified. The variables or field symbols declared
after <span class="qtext">INIT</span> can only be used after <span class="qtext">NEXT</span>. In particular, they cannot be used to declare other variables or field symbols.
</dd></dl>
<ul class="circlem2">
<li>The first variable <span class="qtext">x1</span> or the first field symbol <span class="qtext">&lt;x1></span>
determines the result of the expression and the data type must be convertible to the result type <span class="qtext">type</span>.</li>
</ul>
<ul class="circlem2">
<li>All other variables or field symbols declared after <span class="qtext">INIT</span> are optional
helper fields that can be on the left side of assignments after <span class="qtext">NEXT</span> (unlike those declared after <span class="qtext">LET</span>).</li>
</ul>
<ul class="disc">
<li>At least one <a href="javascript:call_link('abeniteration_expression_glosry.html')" class="grey" title="Glossary Entry">iteration
expression</a> must then be specified using <a href="javascript:call_link('abenfor.html')" class="blue"><span class="qtext">FOR</span></a> and it is also possible to specify multiple consecutive iteration expressions.</li>
</ul>
<ul class="circlem2">
<li>If <a href="javascript:call_link('abenfor_conditional.html')" class="blue">conditional iterations</a> are used, the result is created in custom iteration steps.</li>
</ul>
<ul class="circlem2">
<li>If <a href="javascript:call_link('abenfor_itab.html')" class="blue">table iterations</a> are used, the rows of existing internal tables are evaluated. This is known as a
<a href="javascript:call_link('abentable_reduction_glosry.html')" class="grey" title="Glossary Entry">table reduction</a>, since any values can be constructed from the rows of existing internal tables.</li>
</ul>
<ul class="disc">
<li>Assignments must then be specified after <span class="qtext">NEXT</span> that are executed for every
iteration of the last <span class="qtext">FOR</span> expression. A value or memory area must be assigned
to all variables and field symbols declared after <span class="qtext">INIT</span>. In the case of structured variables or field symbols, it is enough to make an assignment to one of their components.</li>
</ul>
<ul class="circlem2">
<li>The assignment on the right side <span class="qtext">rhs</span> to variables <span class="qtext">x</span>
is made in accordance with the rules of a regular assignment using the <a href="javascript:call_link('abenequals_operator.html')" class="blue">
assignment operator <span class="qtext">=</span></a>, which means that any of the potential calls and expressions can be specified for <span class="qtext">rhs</span>.</li>
</ul>
<ul class="circlem2">
<li>Only the result of a <a href="javascript:call_link('abenwritable_expression_glosry.html')" class="grey" title="Glossary Entry">writable
expression</a> <span class="qtext">wrexp</span> can be assigned to a field symbol. The same applies
here as in assignments of writable expressions using <a href="javascript:call_link('abapassign_mem_area_writable_exp.html')" class="blue">
<span class="qtext">ASSIGN</span></a>, which means that only the expressions specified there can be used.</li>
</ul>
<dl><dd>
The assignments can be specified in any order and they are evaluated from to left to right. Each non-structured
variable or field symbol declared after <span class="qtext">INTIT</span> can be specified precisely
once as the left side. In the case of structured variables or field symbols, either the full structure
can be specified as the left side or each component once. Alongside the data objects of the program,
all local variables and field symbols of the expression visible after the last <span class="qtext">FOR</span> expression can be used in the operand positions on the right side:
</dd></dl>
<ul class="circlem2">
<li>All variables and field symbols declared after <span class="qtext">LET</span>.</li>
</ul>
<ul class="circlem2">
<li>All variables and field symbols declared after <span class="qtext">INIT</span>.</li>
</ul>
<ul class="circlem2">
<li>The <span class="qtext">wa1</span>,  <span class="qtext">wa2</span>, ... or <span class="qtext">&lt;fs1></span>,
<span class="qtext">&lt;fs2></span>, .... filled by the <span class="qtext">FOR</span> expressions. This enables the content of the rows of the internal tables to be accessed and the result constructed.</li>
</ul>
<dl><dd>
Any helper fields declared after <span class="qtext">INTIT</span> can only be specified in reading positions on the right side.
</dd></dl>
<p>
After the full evaluation, the content of the first variable <span class="qtext">x1</span> or the memory
area pointed to by the first field symbol <span class="qtext">&lt;x1></span> is assigned to the temporary result of the expression of type <span class="qtext">type</span> in accordance with the
<a href="javascript:call_link('abenconversion_rules.html')" class="blue">assignment rules</a>.
</p>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>The name of the operator <span class="qtext">REDUCE</span> is explained as follows:</li>
</ul>
<ul class="circlem2">
<li><a href="javascript:call_link('abenfor_conditional.html')" class="blue">Conditional iterations</a> are generally used to reduce sets of data objects to a single data object.</li>
</ul>
<ul class="circlem2">
<li><a href="javascript:call_link('abenfor_itab.html')" class="blue">Table iterations</a> for
<a href="javascript:call_link('abentable_reduction_glosry.html')" class="grey" title="Glossary Entry">table reductions</a> are
generally used to reduce the content of the internal tables in question to a summary value. The result
type can be any type and does not have to be less complex than the internal tables, but this property should only be exploited in exceptional cases. When constructing tables from tables, it is best to use
<a href="javascript:call_link('abentable_comprehension_glosry.html')" class="grey" title="Glossary Entry">table comprehensions</a> instead.</li>
</ul>
<ul class="disc">
<li><a href="javascript:call_link('abentable_filtering_glosry.html')" class="grey" title="Glossary Entry">Table filtering</a> can be implemented more efficiently using the
<a href="javascript:call_link('abenfilter_operator_glosry.html')" class="grey" title="Glossary Entry">filter operator</a> <a href="javascript:call_link('abenconstructor_expression_filter.html')" class="blue"><span class="qtext">FILTER</span></a>.</li>
</ul>
<ul class="disc">
<li>When a local field symbol <span class="qtext">&lt;xi></span> is used on the left side of assignments
after <span class="qtext">NEXT</span>, it should be noted that the assignments are not made to the value
referenced by the field symbol (as in <span class="qtext">INIT</span> and <span class="qtext">LET</span>).
Instead, the field symbol is set in the same way as in the statement <a href="javascript:call_link('abapassign_mem_area_writable_exp.html')" class="blue"><span class="qtext">ASSIGN</span></a>.</li>
</ul>
<ul class="disc">
<li>Unlike in <a href="javascript:call_link('abentable_comprehension_glosry.html')" class="grey" title="Glossary Entry">table
comprehensions</a> with the value operator <a href="javascript:call_link('abenvalue_constructor_params_itab.html')" class="blue"><span class="qtext">
VALUE</span></a>, an assignment of a <span class="qtext">REDUCE</span> expression to a structure or
an internal table does not overwrite them in full before the <span class="qtext">FOR</span> expressions are processed. The structure or internal table can be used directly anywhere in the expression.</li>
</ul>
<ul class="disc">
<li>If a variable is declared in the first position after <span class="qtext">INIT</span> and the <span class="qtext">
VALUE</span> operator is specified with the character <span class="qtext">#</span> on the right side,
the result type <span class="qtext">type</span> of the <span class="qtext">REDUCE</span> expression is used for this character if possible.</li>
</ul>
<ul class="disc">
<li>Table reductions are also possible with <a href="javascript:call_link('abenmesh_for.html')" class="blue"><span class="qtext">FOR</span> expressions</a> for
<a href="javascript:call_link('abenmesh_path_glosry.html')" class="grey" title="Glossary Entry">mesh paths</a>. <br><br></li>
</ul>
<p><span class="h4">
Example
</span></p>
<p>
Calculation of the total of the numbers from 1 to 10 via <span class="qtext">REDUCE</span>.
</p>
<p class="qtextml1">
<span class="qtext">
cl_demo_output=>display( <br>&nbsp;&nbsp;REDUCE i( INIT s = 0 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FOR&nbsp;&nbsp;i = 1 UNTIL i > 10 <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NEXT s = s + i ) ). <br><br>
</span>
</p>
<p><span class="h4">
Executable Examples
</span></p>
<ul class="disc">
<li><a href="javascript:call_link('abencond_iteration_reduce_abexa.html')" class="blue">Creating Values with <span class="qtext">FOR</span> and <span class="qtext">REDUCE</span></a></li>
</ul>
<ul class="disc">
<li><a href="javascript:call_link('abentable_reductions_abexas.html')" class="blue">Examples of Table Reductions</a>.</li>
</ul>
<br>
<br>
<!-- POSTFIX --><span class="h4">Continue</span><br>
<a href="javascript:call_link('abenreduce_constructor_inference.html')" class="blue">REDUCE - Type Inference for Actual Parameter</a><br>
<img src="exa.gif" alt="Example" title="Example">
<a href="javascript:call_link('abenreduce_type_inference_abexa.html')" class="blue">Reduce Operator, Type Inference</a><br>
<br>
<br>
</DIV>
<fieldset style="opacity:0">
<input id="url" type="text" />
</fieldset>
</BODY>

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abenconstructor_expression_reduce.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:51:28 GMT -->
</html>

<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="EN">
<!-- ABAPGET_BADI -->

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abapget_badi.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:51:43 GMT -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="author" content="SAP">
<meta name="description" content="GET BADI">
<meta name="keywords" content="ABAP, GET BADI">
<title>
GET BADI - ABAP Keyword Documentation
</title>
<link rel="icon" href="ABAPIcon.ico" type="image/ico">
<link rel="shortcut icon" href="ABAPIcon.ico">
<LINK rel="stylesheet" href="abap_docu.css" type="text/css">
<script language="javascript" type="text/javascript" src="functions.js"></script>
<script type="text/JavaScript">
function urlToClipboard(id){
 try{ var loc = top.location.href;}
 catch(e){ alert( "URL cannnot be determined" ); return; }
 var field = document.getElementById(id);
 field.focus();
 if ( loc.search( ".htm" ) == -1 && loc.search( ".HTM" ) == -1  ){ loc = loc + "index.htm"; }
 if (   loc.search( "index.html" ) != -1
     || loc.search( "INDEX-2.html" ) != -1 ){
   var off = loc.search( "file=" );
   if ( off == -1  ){
     field.value = loc + "?file=abapget_badi.htm"; }
   else {
     field.value = loc.substring( 0, off ) + "file=abapget_badi.htm";
   }
 }
 else {
    field.value = loc; }
 field.setSelectionRange(0, field.value.length);
 var r = confirm( "Copy URL to clipboard?\n\n" + field.value + "\n\nCopy to clipboard does not work in all browsers." );
 if (r == true) {
   try{
     document.execCommand("copy");
   }
     catch(e){ alert( "URL could not be copied to clipboard" ); }
 }
 window.scrollTo(0,0);
}
</script>
</head>
<body>
<div class="all">
<div style="float:right;">
<input type="button" value="URL"
style="font-size:10px; width:30px; height:18px; padding:0; "
onclick="urlToClipboard('url')" title="Copy URL to Clipboard" ></div>
<p>
<input name="query" id="query" value="" type="text" title="Suchbegriff" size="30" maxlength="30" onkeyup="getInput()">&nbsp;
<input type="button" value="Search"
style="font-size:12px; width:50px; height:18px; padding:0"
onclick="call_search('search.html')" title="Search in ABAP Keyword Documentation" >
<hr style="width:100%;height:1px"></p>
<p class="copyright">AS ABAP Release 754, &copy;Copyright 2019 SAP SE. All rights reserved.</p>
<span class="path">
<a href="javascript:call_link('abenabap.html')" class="blue">ABAP Keyword Documentation</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_reference.html')" class="blue">ABAP &#x2212; Reference</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenenhancement_framework.html')" class="blue">Enhancements</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenbadi_enhancement.html')" class="blue">Enhancements Using BAdIs</a>&nbsp;&rarr;&nbsp;
</span>
<A NAME="@@TYPE@@GET BADI@@"></A>
<A NAME="@@GET BADI@@!ABAP_STATEMENT!@@"></A>
<p><span class="h1">
GET BADI <br><br>
</span></p>
<P>
<a href="javascript:call_link('abapget_badi_shortref.html')" class="blue">Quick Reference</a> <br><br>
</P>
<p><span class="h2">
<span class="bold">Syntax</span>
</span></p>
<P>
<span class="qtext">GET BADI <i class=bn>{</i> badi <i class=bn>[</i>FILTERS f1 = x1 f2 = x2 ...<i class=bn>]</i> <i class=bn>}</i></span> <br>
<span class="qtext">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <i class=bn>|</i> <i class=bn>{</i> badi TYPE (name)</span> <br>
<span class="qtext">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<i class=bn>[</i> <i class=bn>{</i>FILTERS f1 = x1 f2 = x2 ...<i class=bn>}</i></span> <br>
<span class="qtext">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<i
class=bn>|</i> <i class=bn>{</i>FILTER-TABLE ftab<i class=bn>}</i><i class=bn>]</i> <i class=bn>}</i></span> <br>
<span class="qtext">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<i class=bn>[</i>CONTEXT con<i class=bn>]</i>.</span> <br><br>
</P>
<p><span class="h3">
Extras:
</span></p>
<P>
   <A HREF="#!ABAP_ADDITION_1@1@" class="blue"> 1. <span class="qtext">... FILTERS f1 = x1 f2 = x2 ...</span> </A> <br>
<br><A HREF="#!ABAP_ADDITION_2@2@" class="blue"> 2. <span class="qtext">... FILTER-TABLE ftab</span> </A> <br><br><A HREF="#!ABAP_ADDITION_3@3@" class="blue"> 3. <span class="qtext">... CONTEXT con</span> </A> <br><br>
</P>
<p><span class="h4">
Effect
</span></p>
<P>
This statement creates a new <a href="javascript:call_link('abenbadi_object_glosry.html')" class="grey" title="Glossary Entry">BAdI object</a> and sets the
<a href="javascript:call_link('abenbadi_reference_glosry.html')" class="grey" title="Glossary Entry">BAdI reference</a> to the object in a
<a href="javascript:call_link('abenbadi_reference_variable_glosry.html')" class="grey" title="Glossary Entry">BAdI reference variable</a> <span class="qtext">badi</span>. This statement has a static and a dynamic variant.
</P>
<ul class="disc">
<li>
In the case of the static variant, the addition <span class="qtext">TYPE</span> is not specified. The static type of the reference variable <span class="qtext">badi</span> must be a
<a href="javascript:call_link('abenbadi_glosry.html')" class="grey" title="Glossary Entry">BAdI</a> . This determines which BAdI will be used. <br>
<br></li>
<li>
In the case of the dynamic variant, a character-like data object <span class="qtext">name</span> is
specified for the addition <span class="qtext">TYPE</span>. When the statement is executed, this object
must contain the name of a BAdI. The static type of the reference variable <span class="qtext">badi</span> must be the superclass CL_BADI_BASE of all BAdI classes.
<br></li>
</ul>
<P>
To specify values for the filters of the BAdI, the addition <span class="qtext">FILTERS</span> can be specified in the static variant, or the addition <span class="qtext">FILTER-TABLE</span> in the dynamic variant.
</P>
<P>
In the case of a context-free BAdI, the addition <span class="qtext">CONTEXT</span> cannot be specified. In the case of a context-specific BAdI, however, it must be specified.
</P>
<P>
After instancing, the program searches for <a href="javascript:call_link('abenbadi_implement_class_glosry.html')" class="grey" title="Glossary Entry">BAdI implementation classes</a> for the BAdI as follows:
</P>
<ol>
<li>
Only BAdI implementation classes are selected that are assigned to a
<a href="javascript:call_link('abenbadi_implementation_glosry.html')" class="grey" title="Glossary Entry">BAdI implementation</a> that is in the state <span class="italic">active</span>. <br>
<br></li>
<li>
Only BAdI implementation classes are selected that are assigned to a BAdI implementation (an
<a href="javascript:call_link('abenenhancement_glosry.html')" class="grey" title="Glossary Entry">enhancement</a>) that have a
<a href="javascript:call_link('abenswitch_german_glosry.html')" class="grey" title="Glossary Entry">switch</a> in the state <span class="italic">
on</span>. If no switch is assigned to a BAdI implementation, it is handled in the same way as an implementation with a switch in the state <span class="italic">on</span>. <br>
<br></li>
<li>
All BAdI implementations are selected that satisfy the above requirements and for which the filter condition
of the BAdI implementation matches the values specified after <span class="qtext">FILTERS</span> or
in <span class="qtext">ftab</span>. If no BAdI implementations are found with the filter specifications,
the system searches for BAdI implementations that are marked as standard implementations. If there are also none of these, the fallback BAdI implementation class of the BAdI is used (if one exists). <br>
<br></li>
<li>
If multiple BAdI implementation classes with matching filter conditions were found for a BAdI defined for single use,
<a href="javascript:call_link('abenconflict_resolution_glosry.html')" class="grey" title="Glossary Entry">conflict resolution</a> is performed. A successful conflict resolution produces exactly one priority
<a href="javascript:call_link('abenconflict_resol_impl_glosry.html')" class="grey" title="Glossary Entry">conflict-resolving
enhancement implementation</a> and only its BAdI implementation class is selected. If several conflict-solving
enhancement implementations have the same priority or if there are no conflict-solving enhancement implementations
at all, then a correct conflict solution is not possible and several BAdI implementation classes will remain in the hit list.
<br></li>
</ol>
<P>
If the resulting hit list is suitable for the definition of the BAdI which means:
</P>
<ul class="disc">
<li>
For a BAdI defined for a single use, the hit list must contain exactly one BAdI implementation class,
<br><br></li>
<li>
For a BAdI defined for multiple use, the hit list may contain several or no BAdI implementation classes,
<br></li>
</ul>
<P>
references to <a href="javascript:call_link('abenobject_plugin_glosry.html')" class="grey" title="Glossary Entry">object plug-ins</a> of the found BAdI implementations are saved in the BAdI object.
<a href="javascript:call_link('abenobject_plugin_glosry.html')" class="grey" title="Glossary Entry">Object plug-ins</a> that
do not yet exist are created for this purpose. Whether an existing object plug-in is reused or whether
a new object plug-in is created depends on whether the BAdI is context-free or context-dependent, and also depends on the addition <span class="qtext">CONTEXT</span>. The precise semantics are described in the addition.
</P>
<P>
If the hit list contains no or multiple BAdI implementations although the BAdI is defined for single
use, an exception occurs. If the BAdI reference variable <span class="qtext">badi</span> is given a valid BAdI reference before the statement in an exception case, this is retained, otherwise it is initialized. <br><br>
</P>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>
It is not possible to access BAdI objects directly using BAdI references. The references are only used to call the
<a href="javascript:call_link('abenbadi_method_glosry.html')" class="grey" title="Glossary Entry">BAdI methods</a> in the referenced
object plug-ins with the statement <a href="javascript:call_link('abapcall_badi.html')" class="blue"><span class="qtext">CALL BADI</span></a>. Otherwise, BAdI reference variables can be used in the same operand positions as normal
<a href="javascript:call_link('abenobject_refer_variable_glosry.html')" class="grey" title="Glossary Entry">object reference variables</a>. In particular, this means that assignments and comparisons are possible. <br>
<br></li>
<li>
The method NUMBER_OF_IMPLEMENTATIONS of the class <span class="lnkgrey">CL_BADI_QUERY</span> returns the number of BAdI implementations that are saved in a BAdI object. <br>
<br></li>
<li>
The statement <span class="qtext">GET BADI</span> prepares an
<a href="javascript:call_link('abenenhancement_spot_invoc_glosry.html')" class="grey" title="Glossary Entry">enhancement spot invocation</a>, and can therefore be seen as part of an explicit
<a href="javascript:call_link('abenenhancement_point_glosry.html')" class="grey" title="Glossary Entry">enhancement point</a> in the terminology of the
<a href="javascript:call_link('abenenhancement_concept_glosry.html')" class="grey" title="Glossary Entry">enhancement concept</a>. <br>
<br></li>
<li>
To prevent the exception for BAdIs that are defined for single use in systems in which no corresponding
enhancement is carried out, it is recommended to specify a fallback BAdI implementation class for these BAdIs. The fallback BAdI implementation class is part of the BAdI and is independent of enhancements. <br>
<br></li>
<li>
To access object plug-ins directly requires the corresponding references. These can be supplied, for example, by BAdI methods. <br>
<br></li>
<li>
The BAdI reference cannot be used to handle any instance events of a BAdI. Instead, when the
<a href="javascript:call_link('abenevent_handler_glosry.html')" class="grey" title="Glossary Entry">event handler</a> is registered,
either the addition <span class="qtext">FOR ALL INSTANCES</span> must be specified using <a href="javascript:call_link('abapset_handler.html')" class="blue">
<span class="qtext">SET HANDLER</span></a>, or an reference to an object plug-in must be entered directly. <br><br>
<br></li>
</ul>
<A NAME="@@FILTERS@@GET BADI@@"></A>
<p><span class="h3">
<A NAME="!ABAP_ADDITION_1@1@"></A> <span class="bold">Addition 1</span>
</span></p>
<P>
<span class="qtext">... FILTERS f1 = x1 f2 = x2 ...</span>   <br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<P>
After the addition <span class="qtext">FILTERS</span>, the elementary data objects <span class="qtext">x1</span>,
<span class="qtext">x2</span>, ... must be specified for all <span class="qtext">f1</span>, <span class="qtext">f2</span>,
... filters of the BAdI. If a filter in the BAdI has the property <span class="italic">Constant Filter Value at Call</span>, only
<a href="javascript:call_link('abenliteral_glosry.html')" class="grey" title="Glossary Entry">literals</a> and
<a href="javascript:call_link('abenconstant_glosry.html')" class="grey" title="Glossary Entry">constants</a> can be specified.
The data objects must be compatible with the data type of the filters. <span class="qtext">FILTERS</span> cannot be specified for a BAdI without filters. <br><br>
</P>
<A NAME="@@FILTER-TABLE@@GET BADI@@"></A>
<p><span class="h3">
<A NAME="!ABAP_ADDITION_2@2@"></A> <span class="bold">Addition 2</span>
</span></p>
<P>
<span class="qtext">... FILTER-TABLE ftab</span>   <br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<P>
Using the special internal table <span class="qtext">ftab</span>, this addition assigns values to the
filters of a dynamically specified BAdI. The internal table must have table type <span class="lnkgrey">BADI_FILTER_BINDINGS</span>
from ABAP Dictionary. When the statement <span class="qtext">GET BADI</span> is executed, the table must contain exactly one row for each of the filters of the BAdI. The table columns are:
</P>
<ul class="disc">
<li>
NAME of type <span class="qtext">c</span> and length 30 <br>for the name of the filter in uppercase letters. Declaring a nonexistent filter raises a non-handleable exception. <br>
<br></li>
<li>
VALUE of the type <span class="qtext">REF TO data</span> <br>A reference to a matching data object.
The value of the data object that the reference variable in <span class="qtext">VALUE</span> refers to is assigned to the filter specified in NAME.
<br></li>
</ul>
<P>
 The column <span class="qtext">NAME</span> is the unique key of the sorted table <span class="qtext">ftab</span>. <br><br>
</P>
<A NAME="@@CONTEXT@@GET BADI@@"></A>
<p><span class="h3">
<A NAME="!ABAP_ADDITION_3@3@"></A> <span class="bold">Addition 3</span>
</span></p>
<P>
<span class="qtext">... CONTEXT con</span>   <br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<P>
Using the addition <span class="qtext">CONTEXT</span>, for context-dependent BAdIs, an
<a href="javascript:call_link('abenobject_refer_variable_glosry.html')" class="grey" title="Glossary Entry">object reference variable</a> <span class="qtext">con</span> must be specified, the static type of which is, or includes, the
<a href="javascript:call_link('abentag_interface_glosry.html')" class="grey" title="Glossary Entry">tag interface</a> IF_BADI_CONTEXT, and which contains a reference to a
<a href="javascript:call_link('abenbadi_context_object_glosry.html')" class="grey" title="Glossary Entry">BAdI context object</a>.
If <span class="qtext">con</span> is initial, an exception is raised. The addition <span class="qtext">CONTEXT</span> cannot be entered for context-free BAdIs.
</P>
<P>
The addition <span class="qtext">CONTEXT</span> controls how the object plug-ins are created as follows:
</P>
<ul class="disc">
<li>
Without the addition <span class="qtext">CONTEXT</span>, hence for context-free BAdIs, the way the object
plug-ins are created is based on the setting of the BAdI. Either new plug-ins are created every time the statement <span class="qtext">GET BADI</span> is executed, or an object plug-in that has already been created in the current
<a href="javascript:call_link('abeninternal_session_glosry.html')" class="grey" title="Glossary Entry">internal session</a> is
reused, if it is required again. An object plug-in of this type is a singleton in terms of its BAdI implementation class. <br>
<br></li>
<li>
Using the addition <span class="qtext">CONTEXT</span>, and hence for context-dependent BAdIs, the same
object plug-ins are always used for the same content of <span class="qtext">con</span>. These object plug-ins are singletons in terms of their BAdI implementation class and a BAdI context object.
<br></li>
</ul>
<P>
If a BAdI implementation class implements multiple
<a href="javascript:call_link('abenbadi_interface_glosry.html')" class="grey" title="Glossary Entry">BAdI interfaces</a> and
<span class="qtext">GET BADI</span> is executed within one internal session for more than one of these
BAdIs, multiple BAdI objects can point to the same object plug-in. This enables the sharing of data
between different BAdIs. For context-free BAdIs, this is only the case for reuse. For context-dependent BAdIs, multiple BAdI objects from the same context can point to the same object plug-ins. <br><br>
</P>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>
The fact that object plug-ins can either be newly generated or reused can also be expressed in terms of an object plug-in being stateful or stateless with reference to a BAdI or a context. <br>
<br></li>
<li>
The tag interface IF_BADI_CONTEXT can be implemented by any class. Possible applications range from
the implementation in a local class without other components that have the sole purpose of enabling
internal program context administration for BAdIs, to the implementation in a global application class in which the objects are specifically enhanced. <br><br>
<br></li>
</ul>
<p><span class="h4">
<a href="javascript:call_link('abenabap_language_exceptions.html')" class="blue">Exceptions</a>
</span></p>
<P>
<span class="bold">Handleable Exceptions</span>
</P>
<P>
<span class="lnkgrey">CX_BADI_CONTEXT_ERROR</span>
</P>
<ul class="disc">
<li>
<span class="italic">Cause:</span> A context error has occurred in the dynamic variant of the statement.
<br></li>
</ul>
<P>
<span class="lnkgrey">CX_BADI_FILTER_ERROR</span>
</P>
<ul class="disc">
<li>
<span class="italic">Cause:</span> Incorrect information was specified about the filters of the BAdI in the dynamic variant of the statement.
<br></li>
</ul>
<P>
<span class="lnkgrey">CX_BADI_INITIAL_CONTEXT</span>
</P>
<ul class="disc">
<li>
<span class="italic">Cause:</span> The reference variable specified after <span class="qtext">CONTEXT</span> is initial.
<br></li>
</ul>
<P>
<span class="lnkgrey">CX_BADI_MULTIPLY_IMPLEMENTED</span>
</P>
<ul class="disc">
<li>
<span class="italic">Cause:</span> Multiple BAdI implementation classes were found, although the BAdI is defined for single use. Subclass of <span class="lnkgrey">CX_BADI_NOT_SINGLE_USE</span>.
<br></li>
</ul>
<P>
<span class="lnkgrey">CX_BADI_NOT_IMPLEMENTED</span>
</P>
<ul class="disc">
<li>
<span class="italic">Cause:</span> No BAdI implementation class was found, although the BAdI is defined for single use. Subclass of <span class="lnkgrey">CX_BADI_NOT_SINGLE_USE</span>.
<br></li>
</ul>
<P>
<span class="lnkgrey">CX_BADI_UNKNOWN_ERROR</span>
</P>
<ul class="disc">
<li>
<span class="italic">Cause:</span> The BAdI specified in the dynamic variant does not exist.
<br></li>
</ul>
<br>
<br>
<br>
<br>
</DIV>
<fieldset style="opacity:0">
<input id="url" type="text" />
</fieldset>
</BODY>

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abapget_badi.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:51:43 GMT -->
</html>

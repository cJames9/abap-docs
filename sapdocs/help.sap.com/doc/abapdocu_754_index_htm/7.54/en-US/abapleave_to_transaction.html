<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="EN">
<!-- ABAPLEAVE_TO_TRANSACTION -->

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abapleave_to_transaction.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:51:33 GMT -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="author" content="SAP">
<meta name="description" content="LEAVE TO TRANSACTION">
<meta name="keywords" content="ABAP, LEAVE TO CURRENT TRANSACTION">
<title>
LEAVE TO TRANSACTION - ABAP Keyword Documentation
</title>
<link rel="icon" href="ABAPIcon.ico" type="image/ico">
<link rel="shortcut icon" href="ABAPIcon.ico">
<LINK rel="stylesheet" href="abap_docu.css" type="text/css">
<script language="javascript" type="text/javascript" src="functions.js"></script>
<script type="text/JavaScript">
function urlToClipboard(id){
 try{ var loc = top.location.href;}
 catch(e){ alert( "URL cannnot be determined" ); return; }
 var field = document.getElementById(id);
 field.focus();
 if ( loc.search( ".htm" ) == -1 && loc.search( ".HTM" ) == -1  ){ loc = loc + "index.htm"; }
 if (   loc.search( "index.html" ) != -1
     || loc.search( "INDEX-2.html" ) != -1 ){
   var off = loc.search( "file=" );
   if ( off == -1  ){
     field.value = loc + "?file=abapleave_to_transaction.htm"; }
   else {
     field.value = loc.substring( 0, off ) + "file=abapleave_to_transaction.htm";
   }
 }
 else {
    field.value = loc; }
 field.setSelectionRange(0, field.value.length);
 var r = confirm( "Copy URL to clipboard?\n\n" + field.value + "\n\nCopy to clipboard does not work in all browsers." );
 if (r == true) {
   try{
     document.execCommand("copy");
   }
     catch(e){ alert( "URL could not be copied to clipboard" ); }
 }
 window.scrollTo(0,0);
}
</script>
</head>
<body>
<div class="all">
<div style="float:right;">
<input type="button" value="URL"
style="font-size:10px; width:30px; height:18px; padding:0; "
onclick="urlToClipboard('url')" title="Copy URL to Clipboard" ></div>
<p>
<input name="query" id="query" value="" type="text" title="Suchbegriff" size="30" maxlength="30" onkeyup="getInput()">&nbsp;
<input type="button" value="Search"
style="font-size:12px; width:50px; height:18px; padding:0"
onclick="call_search('search.html')" title="Search in ABAP Keyword Documentation" >
<hr style="width:100%;height:1px"></p>
<p class="copyright">AS ABAP Release 754, &copy;Copyright 2019 SAP SE. All rights reserved.</p>
<span class="path">
<a href="javascript:call_link('abenabap.html')" class="blue">ABAP Keyword Documentation</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_reference.html')" class="blue">ABAP &#x2212; Reference</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_execution.html')" class="blue">Calling and leaving program units</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_program_call.html')" class="blue">Calling Programs</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_call_transaction.html')" class="blue">Calling Transactions</a>&nbsp;&rarr;&nbsp;
</span>
<A NAME="@@LEAVE TO TRANSACTION@@!ABAP_STATEMENT!@@"></A>
<A NAME="@@LEAVE TO CURRENT TRANSACTION@@!ABAP_STATEMENT!@@"></A>
<p><span class="h1">
LEAVE TO TRANSACTION <br><br>
</span></p>
<P>
<a href="javascript:call_link('abapleave_to_transaction_shortref.html')" class="blue">Quick Reference</a> <br>
</P>
<p><span class="h2">
<span class="bold">Syntax</span>
</span></p>
<P>
<span class="qtext">LEAVE TO <i class=bn>{</i> <i class=bn>{</i>TRANSACTION ta<i class=bn>}</i> <i class=bn>|</i> <i class=bn>{</i>CURRENT TRANSACTION<i class=bn>}</i> <i class=bn>}</i> <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <i class=bn>[</i>AND SKIP FIRST SCREEN<i class=bn>]</i>.</span> <br><br>
</P>
<p><span class="h3">
Addition:
</span></p>
<P>
   <A HREF="#!ABAP_ONE_ADD@1@" class="blue"> <span class="qtext">... AND SKIP FIRST SCREEN</span> </A> <br><br>
</P>
<p><span class="h4">
Effect
</span></p>
<P>
The statement <span class="qtext">LEAVE TO TRANSACTION</span> calls either the
<a href="javascript:call_link('abentransaction_glosry.html')" class="grey" title="Glossary Entry">transaction</a>
whose transaction code is contained in data object <span class="qtext">ta</span> or the current transaction, and in doing so leaves the current
<a href="javascript:call_link('abencall_sequence_glosry.html')" class="grey" title="Glossary Entry">call sequence</a>. The data
object <span class="qtext">ta</span> must be character-like, flat and contain the transaction code in uppercase letters. The following can be specified for <span class="qtext">ta</span>:
</P>
<ul class="disc">
<li>
Literal or constant
<br></li>
</ul>
<dl>

<dd>
If the data object <span class="qtext">ta</span> is specified as a
<a href="javascript:call_link('abentext_field_literal_glosry.html')" class="grey" title="Glossary Entry">text field literal</a> or as a
<a href="javascript:call_link('abenconstant_glosry.html')" class="grey" title="Glossary Entry">constant</a>, it is evaluated as a statically specified object by tools such as the
<a href="javascript:call_link('abenextended_program_check_glosry.html')" class="grey" title="Glossary Entry">extended program check</a> or the where-used list.
</dd>
</dl>
<ul class="disc">
<li>
Variable
<br></li>
</ul>
<dl>

<dd>
If the data object <span class="qtext">ta</span> is specified as a
<a href="javascript:call_link('abenvariable_glosry.html')" class="grey" title="Glossary Entry">variable</a>, it is specified only dynamically and the content is not evaluated statically.
</dd>
</dl>
<P>
When the statement is executed, <span class="qtext">ta</span> is not evaluated until runtime (in both cases).
</P>
<P>
If <span class="qtext">CURRENT TRANSACTION</span> is specified, the current transaction is called using
the transaction code used to call the transaction using <span class="qtext">CALL TRANSACTION</span>
or <span class="qtext">LEAVE TO TRANSACTION</span>. This transaction code is contained in the system field <span class="qtext">sy-tcode</span> except in the case of
<a href="javascript:call_link('abenparameter_transaction_glosry.html')" class="grey" title="Glossary Entry">parameter transactions</a> or
<a href="javascript:call_link('abenvariant_transaction_glosry.html')" class="grey" title="Glossary Entry">variant transactions</a>.
When parameter transactions or variant transactions are used, their transaction code is used for the call and <span class="qtext">sy-tcode</span> contains the name of the implicitly called
<a href="javascript:call_link('abendialog_transaction_glosry.html')" class="grey" title="Glossary Entry">dialog transaction</a>.
</P>
<P>
When using <span class="qtext">LEAVE TO TRANSACTION</span>, the current
<a href="javascript:call_link('abencall_sequence_glosry.html')" class="grey" title="Glossary Entry">call sequence</a> is exited
completely. When the called transaction ends, the runtime environment returns to the position where the first program in the call sequence was called. The current
<a href="javascript:call_link('abensap_luw_glosry.html')" class="grey" title="Glossary Entry">SAP LUW</a> is thereby ended.
</P>
<P>
When the transaction is called, the ABAP program associated with the transaction code is loaded in a new
<a href="javascript:call_link('abeninternal_session_glosry.html')" class="grey" title="Glossary Entry">internal session</a>. All previous internal sessions are deleted from the stack. At the same time, the
<a href="javascript:call_link('abenabap_memory_glosry.html')" class="grey" title="Glossary Entry">ABAP memory</a> is deleted,
which means that <a href="javascript:call_link('abapexport_data_cluster.html')" class="blue"> <span class="qtext">EXPORT FROM
MEMORY</span></a> or <a href="javascript:call_link('abapimport_data_cluster.html')" class="blue"><span class="qtext">IMPORT TO MEMORY</span></a> do not pass data when using <span class="qtext">LEAVE TO TRANSACTION</span>.
</P>
<P>
The steps of the called dialog transaction or <a href="javascript:call_link('abenoo_transaction_glosry.html')" class="grey" title="Glossary Entry">
OO transaction</a> are the same as in <a href="javascript:call_link('abapcall_transaction.html')" class="blue"><span class="qtext">CALL
TRANSACTION</span></a>. When the called transaction is exited, the runtime environment returns to the position where the first program in the current call sequence was called.
</P>
<P>
If the transaction specified in <span class="qtext">ta</span> is not found, or if <span class="qtext">ta</span>
is initial or blank, the stack of the current call sequence is deleted and the runtime environment returns
directly to the position where the first program in the current call sequence was called. If <span class="qtext">ta</span> is not initial, an appropriate message appears in the status bar.
</P>
<P>
The statement <span class="qtext">LEAVE TO TRANSACTION</span> always terminates the current call sequence, regardless of whether or not a new transaction can be called.
</P>
<P>
Unlike in the statement <a href="javascript:call_link('abapcall_transaction.html')" class="blue"><span class="qtext">CALL TRANSACTION</span></a>,
the authorization of the current user for executing the called transaction is always checked automatically as follows when using the statement <span class="qtext">LEAVE TO TRANSACTION</span>:
</P>
<ul class="disc">
<li>
It is checked against the <a href="javascript:call_link('abenauthorization_object_glosry.html')" class="grey" title="Glossary Entry">authorization object</a> S_TCODE.
<br><br></li>
<li>
It is checked against any authorization object entered in the definition of the transaction code (in
transaction <span class="lnkgrey">SE93</span>). Fields of the authorization object for which no value is specified here are not checked.
<br></li>
</ul>
<P>
If the required authorization is missing, a <a href="javascript:call_link('abenmessage_glosry.html')" class="grey" title="Glossary Entry">message</a> with
<a href="javascript:call_link('abenmessage_type_glosry.html')" class="grey" title="Glossary Entry">message type</a> A (a
<a href="javascript:call_link('abentermination_message_glosry.html')" class="grey" title="Glossary Entry">termination message</a>) is sent and the system <a href="javascript:call_link('abenabap_messages_types.html')" class="blue">responds</a> appropriately.
</P>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>
The <span class="qtext">CURRENT TRANSACTION</span> call can be used to execute a current parameter transaction
or variant transaction with the corresponding parameters or the transaction variant. Alternatively,
the method GET_CURRENT_TRANSACTION of the class CL_DYNPRO can be used to obtain the transaction code
of the current transaction. This method returns the transaction code during a parameter transaction or variant transaction instead of the transaction code of the implicitly called dialog transaction.
<br><br></li>
<li>
<span class="qtext">LEAVE TO TRANSACTION</span> does not end the current
<a href="javascript:call_link('abendatabase_luw_glosry.html')" class="grey" title="Glossary Entry">database LUW</a>. A
<a href="javascript:call_link('abendatabase_commit_glosry.html')" class="grey" title="Glossary Entry">database commit</a> or
<a href="javascript:call_link('abendatabase_commit_glosry.html')" class="grey" title="Glossary Entry">database rollback</a> in the called program works in exactly the same way as in the current program.
<br><br></li>
<li>
If procedures are still registered at <span class="qtext">LEAVE TO TRANSACTION</span> in the current
<a href="javascript:call_link('abensap_luw_glosry.html')" class="grey" title="Glossary Entry">SAP LUW</a>, the SAP LUW is ended and the procedures are not called or rolled back. Any registered
<a href="javascript:call_link('abenupdate_function_module_glosry.html')" class="grey" title="Glossary Entry">update function
modules</a> are preserved in the database, but can no longer be executed. In cases like this, therefore,
it is advisable to execute the statement <a href="javascript:call_link('abapcommit.html')" class="blue"><span class="qtext">COMMIT
WORK</span></a> or <a href="javascript:call_link('abaprollback.html')" class="blue"><span class="qtext">ROLLBACK WORK</span></a> explicitly before the program call.
<br></li>
</ul>
<p><span class="h4">
Security Note
</span></p>
<p>
 If the name of a program unit is specified dynamically when it is called, and this name is passed to
a program from outside, the result is a serious security risk. Any names passed to a program from outside
must be checked thoroughly before being used in calls. The system class <span class="lnkgrey">CL_ABAP_DYN_PRG</span>, for example, can be used to do this. See
<a href="javascript:call_link('abendyn_call_scrty.html')" class="blue">Dynamic Calls</a>. <br><br>
</p>
<A NAME="@@AND SKIP FIRST SCREEN@@LEAVE TO TRANSACTION@@"></A>
<p><span class="h3">
<A NAME="!ABAP_ONE_ADD@1@"></A> <span class="bold">Addition</span>
</span></p>
<P>
<span class="qtext">... AND SKIP FIRST SCREEN</span> <!-- /A -->  <br>
</P>
<p><span class="h4">
Effect
</span></p>
<P>
The addition <span class="qtext">AND SKIP FIRST SCREEN</span> has the same meaning as in<a href="javascript:call_link('abapcall_transaction.html')" class="blue"><span class="qtext">CALL TRANSACTION</span></a>. <br><br>
</P>
<p><span class="h4">
Example
</span></p>
<p>
Calling transaction <span class="lnkgrey">DEMO_TRANSACTION</span>, suppressing the first screen.
</p>
<p class="qtextml1">
<span class="qtext">
LEAVE TO TRANSACTION 'DEMO_TRANSACTION' AND SKIP FIRST SCREEN. <br><br>
</span>
</p>
<br>
<br>
<br>
<br>
</DIV>
<fieldset style="opacity:0">
<input id="url" type="text" />
</fieldset>
</BODY>

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abapleave_to_transaction.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:51:33 GMT -->
</html>

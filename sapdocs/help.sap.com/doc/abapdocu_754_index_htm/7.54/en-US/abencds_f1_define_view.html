<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="EN">
<!-- ABENCDS_F1_DEFINE_VIEW -->

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abencds_f1_define_view.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:51:34 GMT -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="author" content="SAP">
<meta name="description" content="ABAP CDS - DEFINE VIEW">
<meta name="keywords" content="ABAP, CDS, DEFINE VIEW">
<title>
ABAP CDS - DEFINE VIEW - ABAP Keyword Documentation
</title>
<link rel="icon" href="ABAPIcon.ico" type="image/ico">
<link rel="shortcut icon" href="ABAPIcon.ico">
<LINK rel="stylesheet" href="abap_docu.css" type="text/css">
<script language="javascript" type="text/javascript" src="functions.js"></script>
<script type="text/JavaScript">
function urlToClipboard(id){
 try{ var loc = top.location.href;}
 catch(e){ alert( "URL cannnot be determined" ); return; }
 var field = document.getElementById(id);
 field.focus();
 if ( loc.search( ".htm" ) == -1 && loc.search( ".HTM" ) == -1  ){ loc = loc + "index.htm"; }
 if (   loc.search( "index.html" ) != -1
     || loc.search( "INDEX-2.html" ) != -1 ){
   var off = loc.search( "file=" );
   if ( off == -1  ){
     field.value = loc + "?file=abencds_f1_define_view.htm"; }
   else {
     field.value = loc.substring( 0, off ) + "file=abencds_f1_define_view.htm";
   }
 }
 else {
    field.value = loc; }
 field.setSelectionRange(0, field.value.length);
 var r = confirm( "Copy URL to clipboard?\n\n" + field.value + "\n\nCopy to clipboard does not work in all browsers." );
 if (r == true) {
   try{
     document.execCommand("copy");
   }
     catch(e){ alert( "URL could not be copied to clipboard" ); }
 }
 window.scrollTo(0,0);
}
</script>
</head>
<body>
<div class="all">
<div style="float:right;">
<input type="button" value="URL"
style="font-size:10px; width:30px; height:18px; padding:0; "
onclick="urlToClipboard('url')" title="Copy URL to Clipboard" ></div>
<p>
<input name="query" id="query" value="" type="text" title="Suchbegriff" size="30" maxlength="30" onkeyup="getInput()">&nbsp;
<input type="button" value="Search"
style="font-size:12px; width:50px; height:18px; padding:0"
onclick="call_search('search.html')" title="Search in ABAP Keyword Documentation" >
<hr style="width:100%;height:1px"></p>
<p class="copyright">AS ABAP Release 754, &copy;Copyright 2019 SAP SE. All rights reserved.</p>
<span class="path">
<a href="javascript:call_link('abenabap.html')" class="blue">ABAP Keyword Documentation</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_dictionary.html')" class="blue">ABAP - Dictionary</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abencds.html')" class="blue">ABAP CDS in ABAP Dictionary</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenddic_cds_entities.html')" class="blue">ABAP CDS - Data Definitions</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abencds_f1_ddl_syntax.html')" class="blue">ABAP CDS - DDL for Data Definitions</a>&nbsp;&rarr;&nbsp;
</span>
<A NAME="@@DEFINE VIEW@@!ABAP_CDS_STATEMENT!@@"></A>
<A NAME="@@AS@@!ABAP_CDS_DEFINE_VIEW!@@"></A>
<p><span class="h1">
ABAP CDS - DEFINE VIEW
</span></p>
<A name="@@ITOC@@ABENCDS_F1_DEFINE_VIEW_1"></A>
<p><span class="h2">
Syntax
</span></p>
<p>
<span class="qtext400"><i class=bn>[</i><a href="javascript:call_link('abencds_f1_entity_annotations.html')" class="blue">@entity_annot1</a><i class=bn>]</i> <br>
<i class=bn>[</i><a href="javascript:call_link('abencds_f1_entity_annotations.html')" class="blue">@entity_annot2</a><i class=bn>]</i> <br>
... <br><a href="javascript:call_link('abencds_f1_view_entity_annotations.html')" class="blue">@AbapCatalog.sqlViewName: 'CDS_DB_VIEW'</a> <br>
<i class=bn>[</i><a href="javascript:call_link('abencds_f1_view_entity_annotations.html')" class="blue">@view_annot1</a><i class=bn>]</i> <br>
<i class=bn>[</i><a href="javascript:call_link('abencds_f1_view_entity_annotations.html')" class="blue">@view_annot2</a><i class=bn>]</i> <br>
... <br><i class=bn>[</i>DEFINE<i class=bn>]</i> VIEW cds_entity <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;<i class=bn>[</i><a href="javascript:call_link('abencds_f1_name_list.html')" class="blue">name_list</a><i class=bn>]</i> <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<i class=bn>[</i><a href="javascript:call_link('abencds_f1_parameter_list.html')" class="blue">parameter_list</a><i class=bn>]</i> <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AS <a href="javascript:call_link('abencds_f1_select_statement.html')" class="blue">select_statement</a> <i class=bn>[</i>;<i class=bn>]</i></span>
</p>
<p><span class="h4">
Effect
</span></p>
<p>
Defines a <a href="javascript:call_link('abencds_view_glosry.html')" class="grey" title="Glossary Entry">CDS view</a> in the
<a href="javascript:call_link('abencds_ddl_glosry.html')" class="grey" title="Glossary Entry">CDS DDL</a>. A CDS view is implemented using a query <a
 href="javascript:call_link('abencds_f1_select_statement.html')" class="blue"><span class="qtext400">select_statement</span></a>. The
<a href="javascript:call_link('abencds_annotation_glosry.html')" class="grey" title="Glossary Entry">annotation</a> <a href="javascript:call_link('abencds_f1_view_entity_annotations.html')" class="blue">
<span class="qtext400">AbapCatalog.sqlViewName</span></a> must be specified before the view itself is
defined using <span class="qtext400">DEFINE VIEW</span>. Further optional annotations <a href="javascript:call_link('abencds_f1_entity_annotations.html')" class="blue">
<span class="qtext400">entity_annot1</span></a>, ..., <a href="javascript:call_link('abencds_f1_view_entity_annotations.html')" class="blue"><span class="qtext400">view_annot1</span></a>, ... can also be specified.
</p>
<p>
Two objects are created for a CDS view (of the <a href="javascript:call_link('abenabap_cds_glosry.html')" class="grey" title="Glossary Entry">
ABAP CDS</a>) that is defined using <span class="qtext400">DEFINE VIEW</span>. A name must be specified for each of the two objects:
</p>
<ul class="disc">
<li>The name <span class="qtext400">CDS_DB_VIEW</span> of the
<a href="javascript:call_link('abencds_database_view_glosry.html')" class="grey" title="Glossary Entry">CDS database view</a> must be specified in quotation marks after the
<a href="javascript:call_link('abencds_f1_view_entity_annotations.html')" class="blue">annotation</a> <span class="qtext400">@AbapCatalog.sqlViewName</span>.
This view is the technical foundation of the CDS view in ABAP Dictionary. The usual rules for ABAP Dictionary
<a href="javascript:call_link('abenddic_views.html')" class="blue">views</a> apply to this name and it is not case-sensitive
(it is transformed internally into uppercase letters). The associated SQL view is created under this
name on the database. The name given to the database view can no longer be changed after the CDS view is transported into a follow-on system.</li>
</ul>
<ul class="disc">
<li>The name <span class="qtext400">cds_entity</span> of the
<a href="javascript:call_link('abencds_entity_glosry.html')" class="grey" title="Glossary Entry">CDS entity</a> is defined after the keywords <span class="qtext400">DEFINE VIEW</span>
(<span class="qtext400">DEFINE</span> is optional). No quotation marks need to be specified. This name
follows the rules of the CDS database view, but can have 30 characters. The CDS entity represents all properties of the CDS view.</li>
</ul>
<p>
Both names are in the namespace of the global <a href="javascript:call_link('abenddic_data_types.html')" class="blue">data types</a> in ABAP Dictionary and of the global
<a href="javascript:call_link('abenobject_type_glosry.html')" class="grey" title="Glossary Entry">object types</a> in the
<a href="javascript:call_link('abenclass_library_glosry.html')" class="grey" title="Glossary Entry">class library</a> and must
each be unique. The name <span class="qtext400">cds_entity</span> of the CDS entity can be used in other CDS DDL statements or in ABAP programs to access the CDS view.
</p>
<p>
The information specified in <a href="javascript:call_link('abencds_f1_name_list.html')" class="blue"><span class="qtext400">name_list</span></a>
can be used to define the names of the elements of the view in a name list. <a href="javascript:call_link('abencds_f1_parameter_list.html')" class="blue">
<span class="qtext400">parameter_list</span></a> can be used to assign input parameters to the view.
These input parameters can be specified in operand positions of the view and can be assigned actual parameters when the view is used.
</p>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>The <a href="javascript:call_link('abencds_database_view_glosry.html')" class="grey" title="Glossary Entry">CDS database
view</a>of a CDS view defined using <span class="qtext400">DEFINE VIEW</span> can be displayed by entering the name <span class="qtext400">CDS_DB_VIEW</span> in the ABAP Dictionary
<a href="javascript:call_link('abenddic_tools.html')" class="blue">tool</a> in ABAP Workbench. However the view cannot be edited here. Furthermore, this display does not provide all information. The
<a href="javascript:call_link('abencds_entity_glosry.html')" class="grey" title="Glossary Entry">CDS entity</a> <span class="qtext400">cds_entity</span> cannot be displayed here.</li>
</ul>
<ul class="disc">
<li>The <a href="javascript:call_link('abencds_database_view_glosry.html')" class="grey" title="Glossary Entry">CDS database
view</a> <span class="qtext400">CDS_DB_VIEW</span> can also be accessed directly in the CDS DDL and in ABAP. It is strongly recommended, however, that only the
<a href="javascript:call_link('abencds_entity_glosry.html')" class="grey" title="Glossary Entry">CDS entity</a> is used, since only this entity covers all properties of the CDS view. This makes the use of the CDS database view in ABAP SQL
<a href="javascript:call_link('abenopen_sql_cds_obsolete.html')" class="blue">obsolete</a>.</li>
</ul>
<ul class="disc">
<li><a href="javascript:call_link('abencds_f1_view_entity_annotations.html')" class="blue">ABAP annotations</a> can be used to assign further technical and semantic attributes to a view in ABAP Dictionary.
<a href="javascript:call_link('abencomponent_annotation_glosry.html')" class="grey" title="Glossary Entry">Framework-specific annotations</a> can be used to give the element specific semantic attributes for other SAP frameworks.</li>
</ul>
<ul class="disc">
<li>If a <a href="javascript:call_link('abencds_role_glosry.html')" class="grey" title="Glossary Entry">CDS role</a> is defined
for a CDS entity using the CDS-DCL statement <a href="javascript:call_link('abencds_f1_define_role.html')" class="blue"><span class="qtext400">DEFINE ROLE</span></a>, implicit
<a href="javascript:call_link('abencds_access_control_glosry.html')" class="grey" title="Glossary Entry">access control</a> applies
by default when the CDS entity is accessed using ABAP SQL. CDS access control can be switched off using
the value <span class="qtext400">#NOT_ALLOWED</span> for the annotation <a href="javascript:call_link('abencds_f1_view_entity_annotations.html')" class="blue"><span
 class="qtext400">@AccessControl.authorizationCheck</span></a> and using the addition <a href="javascript:call_link('abapselect_data_source.html')" class="blue">
<span class="qtext">WITH PRIVILEGED ACCESS</span></a> in the <a href="javascript:call_link('abapfrom_clause.html')" class="blue"><span class="qtext">FROM</span></a> clause of an ABAP SQL query.</li>
</ul>
<ul class="disc">
<li>If a <a href="javascript:call_link('abencds_entity_glosry.html')" class="grey" title="Glossary Entry">CDS entity</a> is accessed
using an ABAP SQL <a href="javascript:call_link('abapselect.html')" class="blue"><span class="qtext">SELECT</span></a> statement and the name <span class="qtext400">cds_entity</span>, the syntax check is performed in
<a href="javascript:call_link('abenopensql_strict_mode_740_sp05.html')" class="blue">strict mode</a>, which handles the statement more strictly than the normal syntax check.</li>
</ul>
<ul class="disc">
<li>Every CDS view has its own <a href="javascript:call_link('abenddl_source_code_glosry.html')" class="grey" title="Glossary Entry">DDL source code</a>. The DDL source code of a CDS view is edited in a different editor than the
<a href="javascript:call_link('abenddla_source_code_glosry.html')" class="grey" title="Glossary Entry">DDLA source code</a> of an
<a href="javascript:call_link('abencds_anno_definition_glosry.html')" class="grey" title="Glossary Entry">annotation definition</a>, the
<a href="javascript:call_link('abenddlx_source_code_glosry.html')" class="grey" title="Glossary Entry">DDLX source code</a> of a
<a href="javascript:call_link('abencds_metadata_extension_glosry.html')" class="grey" title="Glossary Entry">CDS metadata extension</a>, and the
<a href="javascript:call_link('abendcl_source_code_glosry.html')" class="grey" title="Glossary Entry">DCL source code</a> of a
<a href="javascript:call_link('abencds_role_glosry.html')" class="grey" title="Glossary Entry">CDS role</a>. The
<a href="javascript:call_link('abenadt_glosry.html')" class="grey" title="Glossary Entry">ADT</a> documentation describes how the different types of source code are created. CDS source code can also be displayed in
<a href="javascript:call_link('abenrepository_browser_glosry.html')" class="grey" title="Glossary Entry">Repository Browser</a> in <a href="javascript:call_link('abenabap_workbench_glosry.html')" class="grey" title="Glossary Entry">ABAP Workbench</a>.</li>
</ul>
<ul class="disc">
<li>The DDL source code of a CDS view does not need to have the same name as the CDS entity, but it is advisable to use this name.</li>
</ul>
<ul class="disc">
<li>After a piece of DDL source code is transported, the combination of its name and the name of the CDS view defined in it and its CDS database view is defined and can no longer be modified by being renamed.</li>
</ul>
<ul class="disc">
<li> The programming of CDS views using the DDL of the Core Data Services is one of the tasks included
in the implementation of data models in ABAP Dictionary and is not usually the responsibility of regular
ABAP application programmers. Once created, CDS views are used in ABAP programs using ABAP SQL read statements and must be stable enough to allow this.</li>
</ul>
<p><span class="h4">
Example
</span></p>
<p>
The following CDS view works in exactly the same way as the classic
<a href="javascript:call_link('abenddic_projection_views.html')" class="blue">projection view</a> <span class="lnkgrey">DEMO_SPFLI</span>.
The program <span class="lnkgrey">DEMO_CDS_PROJECTION</span> uses <span class="qtext">SELECT</span>
to access the view. Unlike when the classic database view DEMO_SPFLI is accessed, no client column is
returned when the CDS entity DEMO_CDS_SPFLI is accessed. The CDS database view DEMO_CDS_PRJCTN returns the client column too.
</p>
<dl><dd>
<span class="qtext400">@AbapCatalog.sqlViewName: 'DEMO_CDS_PRJCTN' <br>@AccessControl.authorizationCheck: #NOT_REQUIRED <br>
define view demo_cds_spfli <br> as select from <br> spfli <br> { <br> key spfli.carrid, <br> key spfli.connid, <br> spfli.cityfrom, <br> spfli.cityto <br> }&nbsp;&nbsp;&nbsp;&nbsp;</span>
</dd></dl>
<br>
<br>
<!-- POSTFIX --><span class="h4">Continue</span><br>
<a href="javascript:call_link('abencds_f1_view_entity_annotations.html')" class="blue">ABAP CDS - DEFINE VIEW, view_annot</a><br>
<a href="javascript:call_link('abencds_f1_name_list.html')" class="blue">ABAP CDS - DEFINE VIEW, name_list</a><br>
<a href="javascript:call_link('abencds_f1_parameter_list.html')" class="blue">ABAP CDS - DEFINE VIEW, parameter_list</a><br>
<a href="javascript:call_link('abencds_f1_select_statement.html')" class="blue">ABAP CDS - SELECT</a><br>
<br>
<br>
</DIV>
<fieldset style="opacity:0">
<input id="url" type="text" />
</fieldset>
</BODY>

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abencds_f1_define_view.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:51:34 GMT -->
</html>

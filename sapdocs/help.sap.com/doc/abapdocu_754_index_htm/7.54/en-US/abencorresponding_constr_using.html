<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="EN">
<!-- ABENCORRESPONDING_CONSTR_USING -->

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abencorresponding_constr_using.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:51:31 GMT -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="author" content="SAP">
<meta name="description" content="CORRESPONDING - Lookup table">
<title>
CORRESPONDING - Lookup table - ABAP Keyword Documentation
</title>
<link rel="icon" href="ABAPIcon.ico" type="image/ico">
<link rel="shortcut icon" href="ABAPIcon.ico">
<LINK rel="stylesheet" href="abap_docu.css" type="text/css">
<script language="javascript" type="text/javascript" src="functions.js"></script>
<script type="text/JavaScript">
function urlToClipboard(id){
 try{ var loc = top.location.href;}
 catch(e){ alert( "URL cannnot be determined" ); return; }
 var field = document.getElementById(id);
 field.focus();
 if ( loc.search( ".htm" ) == -1 && loc.search( ".HTM" ) == -1  ){ loc = loc + "index.htm"; }
 if (   loc.search( "index.html" ) != -1
     || loc.search( "INDEX-2.html" ) != -1 ){
   var off = loc.search( "file=" );
   if ( off == -1  ){
     field.value = loc + "?file=abencorresponding_constr_using.htm"; }
   else {
     field.value = loc.substring( 0, off ) + "file=abencorresponding_constr_using.htm";
   }
 }
 else {
    field.value = loc; }
 field.setSelectionRange(0, field.value.length);
 var r = confirm( "Copy URL to clipboard?\n\n" + field.value + "\n\nCopy to clipboard does not work in all browsers." );
 if (r == true) {
   try{
     document.execCommand("copy");
   }
     catch(e){ alert( "URL could not be copied to clipboard" ); }
 }
 window.scrollTo(0,0);
}
</script>
</head>
<body>
<div class="all">
<div style="float:right;">
<input type="button" value="URL"
style="font-size:10px; width:30px; height:18px; padding:0; "
onclick="urlToClipboard('url')" title="Copy URL to Clipboard" ></div>
<p>
<input name="query" id="query" value="" type="text" title="Suchbegriff" size="30" maxlength="30" onkeyup="getInput()">&nbsp;
<input type="button" value="Search"
style="font-size:12px; width:50px; height:18px; padding:0"
onclick="call_search('search.html')" title="Search in ABAP Keyword Documentation" >
<hr style="width:100%;height:1px"></p>
<p class="copyright">AS ABAP Release 754, &copy;Copyright 2019 SAP SE. All rights reserved.</p>
<span class="path">
<a href="javascript:call_link('abenabap.html')" class="blue">ABAP Keyword Documentation</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_reference.html')" class="blue">ABAP &#x2212; Reference</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_data_working.html')" class="blue">Processing Internal Data</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenvalue_assignments.html')" class="blue">Assignments</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abencorresponding.html')" class="blue">Assigning Structure Components</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenconstructor_expr_corresponding.html')" class="blue">CORRESPONDING - Component Operator</a>&nbsp;&rarr;&nbsp;
</span>
<A NAME="@@USING@@CORRESPONDING@@"></A>
<A NAME="@@KEY@@CORRESPONDING@@"></A>
<A NAME="@@FROM@@CORRESPONDING@@"></A>
<A NAME="@@=@@CORRESPONDING@@"></A>
<p><span class="h1">
CORRESPONDING - Lookup table
</span></p>
<A name="@@ITOC@@ABENCORRESPONDING_CONSTR_USING_1"></A>
<p><span class="h2">
Syntax
</span></p>
<p>
<span class="qtext">... CORRESPONDING dtype<i class=bn>|</i>#( itab FROM lookup_tab <br>&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;USING <i class=bn>[</i>KEY key_name<i class=bn>]</i> s1 = t1 s2 = t2 ... <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<i class=bn>[</i><a href="javascript:call_link('abencorresponding_constr_mapping.html')" class="blue">mapping</a><i class=bn>]</i>&nbsp;&nbsp;) ...</span>
</p>
<p><span class="h4">
Effect
</span></p>
<p>
This variant of the component operator <a href="javascript:call_link('abenconstructor_expr_corresponding.html')" class="blue"><span class="qtext">
CORRESPONDING</span></a> can only be used for internal tables. The expression constructs an internal
table from the components of the internal table <span class="qtext">itab</span> and a lookup table <span class="qtext">
lookup_tab</span>. The lines of the internal table come from a comparison of <span class="qtext">itab</span>
and <span class="qtext">lookup_tab</span>. The target type specified using <span class="qtext">dtype</span>
or <span class="qtext">#</span> must be a table type. The parameters <span class="qtext">itab</span>
and <span class="qtext">lookup_tab</span> expect internal tables whose row type must be structured.
Also, <span class="qtext">itab</span> must be convertible to the target type. <span class="qtext">itab</span> and <span class="qtext">lookup_tab</span> are
<a href="javascript:call_link('abengeneral_expr_position_glosry.html')" class="grey" title="Glossary Entry">general expression positions</a>.
</p>
<p>
The result of the expression is created in the following steps:
</p>
<ul class="disc">
<li>First, an intermediate result of the type of the internal table <span class="qtext">itab</span>
is constructed as follows: For each row in <span class="qtext">itab</span>, a row is searched for in
lookup table <span class="qtext">lookup_tab</span> that has the same content in the columns <span class="qtext">s1</span>,
<span class="qtext">s2</span>, ... as the columns <span class="qtext">t1</span>, <span class="qtext">t2</span>,
... of the row in <span class="qtext">itab</span>. The search must take place using a sorted table key or a hash key (see below). If the key is not unique, the first row found is used.</li>
</ul>
<ul class="circlem2">
<li>If no row like this is found, a row with the unchanged content of the row in  <span class="qtext">itab</span> is inserted into the intermediate result.</li>
</ul>
<ul class="circlem2">
<li>If a row like this is found, a row is inserted into the intermediate result that is the result of
an assignment of the row found in <span class="qtext">itab</span> to the current row in <span class="qtext">lookup_tab</span>.
By default, the assignment is made in accordance with the rules of <a href="javascript:call_link('abapmove-corresponding_structure.html')" class="blue">
<span class="qtext">MOVE-CORRESPONDING</span> for structures</a> with the addition <span class="qtext">EXPANDING
NESTED TABLES</span>, with the exception that the components used for searches are not assigned by default:
The components <span class="qtext">s1</span>, <span class="qtext">s2</span>, ... from <span class="qtext">lookup_tab</span>
used for searches are by default not assigned to the identically named components of <span class="qtext">itab</span>
and the components <span class="qtext">t1</span>, <span class="qtext">t2</span>, ... from <span class="qtext">itab</span>
used for searches are not assigned the identically named components from <span class="qtext">lookup_tab</span>.</li>
</ul>
<ul class="disc">
<li>The intermediate result of the type of the table <span class="qtext">itab</span> is assigned to the result of the expression in accordance with the regular
<a href="javascript:call_link('abenconversion_rules.html')" class="blue">assignment rules</a> for internal tables and, if necessary, converted to the target type.</li>
</ul>
<p>
This means that the component by component assignment takes place between the lookup table <span class="qtext">lookup_tab</span>
as the source table and an intermediate result with the type of <span class="qtext">itab</span> as the
target table.  A mapping rule <a href="javascript:call_link('abencorresponding_constr_mapping.html')" class="blue"><span class="qtext">mapping</span></a>
can be used to override the default assignment of identically named components and the default exclusion
of the components <span class="qtext">s1</span>, <span class="qtext">s2</span>, ... and <span class="qtext">t1</span>,
<span class="qtext">t2</span>, ... It is not possible to specify the same internal table for <span class="qtext">itab</span>
and <span class="qtext">lookup_tab</span>, otherwise there can be a runtime error CORRESPONDING_SELF.
</p>
<p>
The search for the row in <span class="qtext">lookup_tab</span> must take place using a sorted table key or a hash key:
</p>
<ul class="disc">
<li>If the addition <span class="qtext">KEY</span> is not specified, a sorted table or a hashed table must be specified for <span class="qtext">lookup_tab</span>.</li>
</ul>
<ul class="disc">
<li>If the addition <span class="qtext">KEY</span> is specified, the key <span class="qtext">key_name</span> specified after it is used. The following can be specified for <span class="qtext">key_name</span>:</li>
</ul>
<ul class="circlem2">
<li>A <a href="javascript:call_link('abensecondary_key_glosry.html')" class="grey" title="Glossary Entry">secondary key</a> using its name</li>
</ul>
<ul class="circlem2">
<li>The primary key using its predefined name <span class="qtext">primary_key</span> or using an alias.
If the primary key is specified, <span class="qtext">lookup_tab</span> must be a sorted table or a hashed table.</li>
</ul>
<p>
The comparison fields <span class="qtext">s1</span>, <span class="qtext">s2</span>, ... must cover the full table key.
</p>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>Unlike the <a href="javascript:call_link('abencorresponding_constr_arg_type.html')" class="blue">basic form</a>, this variant
does not have the addition <span class="qtext">DEEP</span>. Instead, it always behaves as if <span class="qtext">DEEP</span> were specified. The addition <span class="qtext">BASE</span> cannot be specified either.</li>
</ul>
<ul class="disc">
<li>Generally, the type of <span class="qtext">itab</span> and the target type must be identical.</li>
</ul>
<ul class="disc">
<li>In one common use case, an existing internal table <span class="qtext">itab</span> is enriched with
information from the lookup table <span class="qtext">lookup_tab</span>. Here, the constructor expression
is assigned to the same internal table as specified for <span class="qtext">itab</span>. In this case,
the expression is optimized internally to work directly with <span class="qtext">itab</span> without creating an intermediate result.</li>
</ul>
<ul class="disc">
<li>If the constructor expression is not assigned to the internal table specified for <span class="qtext">itab</span>
or if this table is not known statically, the temporary intermediate result with the type <span class="qtext">itab</span> must be created in full. This produces a syntax check warning that can be hidden by a pragma.</li>
</ul>
<ul class="disc">
<li>If the same table is specified for <span class="qtext">itab</span> and <span class="qtext">lookup_tab</span>,
a temporary copy of the table must be created as a target table of the assignment and a syntax check
warning that can be hidden is produced here too. If this is not detected until runtime, the information
needed to create the necessary temporary copy of the target object is missing and runtime error CORRESPONDING_SELF occurs.</li>
</ul>
<p><span class="h4">
Example
</span></p>
<p>
Rows of internal table <span class="qtext">itab1</span> that are present in internal table <span class="qtext">itab2</span> are passed to <span class="qtext">itab1</span>.
</p>
<p class="qtextml1">
<span class="qtext">
TYPES: <br>&nbsp;&nbsp;BEGIN OF line, <br>&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;&nbsp; TYPE i, <br>&nbsp;&nbsp;&nbsp;&nbsp;comment TYPE string, <br>
&nbsp;&nbsp;END OF line, <br>&nbsp;&nbsp;itab1 type STANDARD TABLE OF line WITH EMPTY KEY, <br>&nbsp;&nbsp;itab2 TYPE HASHED TABLE OF line WITH UNIQUE KEY value. <br>
 <br>DATA(itab1) = VALUE itab1( for i = 1 UNTIL i >= 10 ( value = i ) ). <br>DATA(itab2) = VALUE itab2( ( value = 2 comment = `...` ) <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( value = 3 comment = `...` ) <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( value = 5 comment = `...` ) <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( value = 8 comment = `...` ) ). <br>
 <br>itab1 = CORRESPONDING itab1( itab1 FROM itab2 USING value = value ). <br> <br>cl_demo_output=>display( itab1 ).
</span>
</p>
<p><span class="h4">
Executable Examples
</span></p>
<ul class="disc">
<li><a href="javascript:call_link('abencorresponding_using_abexa.html')" class="blue">Component operator, lookup table</a></li>
</ul>
<ul class="disc">
<li><a href="javascript:call_link('abencorresponding_using_self_abexa.html')" class="blue">Component Operator, Reflexive Assignment</a></li>
</ul>
<br>
<br>
<br>
<br>
</DIV>
<fieldset style="opacity:0">
<input id="url" type="text" />
</fieldset>
</BODY>

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abencorresponding_constr_using.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:51:31 GMT -->
</html>

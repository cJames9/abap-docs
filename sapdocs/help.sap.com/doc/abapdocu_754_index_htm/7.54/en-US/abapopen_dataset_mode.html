<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="EN">
<!-- ABAPOPEN_DATASET_MODE -->

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abapopen_dataset_mode.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:51:37 GMT -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="author" content="SAP">
<meta name="description" content="OPEN DATASET - mode">
<title>
OPEN DATASET - mode - ABAP Keyword Documentation
</title>
<link rel="icon" href="ABAPIcon.ico" type="image/ico">
<link rel="shortcut icon" href="ABAPIcon.ico">
<LINK rel="stylesheet" href="abap_docu.css" type="text/css">
<script language="javascript" type="text/javascript" src="functions.js"></script>
<script type="text/JavaScript">
function urlToClipboard(id){
 try{ var loc = top.location.href;}
 catch(e){ alert( "URL cannnot be determined" ); return; }
 var field = document.getElementById(id);
 field.focus();
 if ( loc.search( ".htm" ) == -1 && loc.search( ".HTM" ) == -1  ){ loc = loc + "index.htm"; }
 if (   loc.search( "index.html" ) != -1
     || loc.search( "INDEX-2.html" ) != -1 ){
   var off = loc.search( "file=" );
   if ( off == -1  ){
     field.value = loc + "?file=abapopen_dataset_mode.htm"; }
   else {
     field.value = loc.substring( 0, off ) + "file=abapopen_dataset_mode.htm";
   }
 }
 else {
    field.value = loc; }
 field.setSelectionRange(0, field.value.length);
 var r = confirm( "Copy URL to clipboard?\n\n" + field.value + "\n\nCopy to clipboard does not work in all browsers." );
 if (r == true) {
   try{
     document.execCommand("copy");
   }
     catch(e){ alert( "URL could not be copied to clipboard" ); }
 }
 window.scrollTo(0,0);
}
</script>
</head>
<body>
<div class="all">
<div style="float:right;">
<input type="button" value="URL"
style="font-size:10px; width:30px; height:18px; padding:0; "
onclick="urlToClipboard('url')" title="Copy URL to Clipboard" ></div>
<p>
<input name="query" id="query" value="" type="text" title="Suchbegriff" size="30" maxlength="30" onkeyup="getInput()">&nbsp;
<input type="button" value="Search"
style="font-size:12px; width:50px; height:18px; padding:0"
onclick="call_search('search.html')" title="Search in ABAP Keyword Documentation" >
<hr style="width:100%;height:1px"></p>
<p class="copyright">AS ABAP Release 754, &copy;Copyright 2019 SAP SE. All rights reserved.</p>
<span class="path">
<a href="javascript:call_link('abenabap.html')" class="blue">ABAP Keyword Documentation</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_reference.html')" class="blue">ABAP &#x2212; Reference</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_language_external_data.html')" class="blue">Processing External Data</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_language_files.html')" class="blue">ABAP File Interface</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenfile_interface_statements.html')" class="blue">Statements for the ABAP File Interface</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abapopen_dataset.html')" class="blue">OPEN DATASET</a>&nbsp;&rarr;&nbsp;
</span>
<p><span class="h1">
OPEN DATASET - mode <br><br>
</span></p>
<P>
<a href="javascript:call_link('abapopen_dataset_shortref.html')" class="blue">Quick Reference</a> <br><br>
</P>
<p><span class="h2">
<span class="bold">Syntax</span>
</span></p>
<P>
<span class="qtext">... <i class=bn>{</i>BINARY MODE<i class=bn>}</i></span> <br><span class="qtext">
&nbsp;&nbsp;<i class=bn>|</i> <i class=bn>{</i>TEXT MODE
<a href="javascript:call_link('abapopen_dataset_encoding.html')" class="blue">encoding</a> <i class=bn>[</i><a href="javascript:call_link('abapopen_dataset_linefeed.html')" class="blue">linefeed</a><i class=bn>]</i><i class=bn>}</i></span> <br>
<span class="qtext">&nbsp;&nbsp;<i class=bn>|</i> <i class=bn>{</i>LEGACY BINARY MODE <i class=bn>[</i>
<a href="javascript:call_link('abapopen_dataset_endian.html')" class="blue">endian</a><i class=bn>]</i><i class=bn>[</i>
<a href="javascript:call_link('abapopen_dataset_code_page.html')" class="blue">CODE PAGE cp</a><i class=bn>]</i><i class=bn>}</i></span> <br>
<span class="qtext">&nbsp;&nbsp;<i class=bn>|</i> <i class=bn>{</i>LEGACY TEXT MODE <i class=bn>[</i>
<a href="javascript:call_link('abapopen_dataset_endian.html')" class="blue">endian</a><i class=bn>]</i> <i class=bn>[</i>
<a href="javascript:call_link('abapopen_dataset_code_page.html')" class="blue">CODE PAGE cp</a><i class=bn>]</i> <i class=bn>[</i>
<a href="javascript:call_link('abapopen_dataset_linefeed.html')" class="blue">linefeed</a><i class=bn>]</i><i class=bn>}</i> ...</span> <br><br>
</P>
<p><span class="h2">
Alternatives:
</span></p>
<P>
   <A HREF="#!ABAP_ALTERNATIVE_1@1@" class="blue"> 1. <span class="qtext">... BINARY MODE</span> </A> <br>
<br><A HREF="#!ABAP_ALTERNATIVE_2@2@" class="blue"> 2. <span class="qtext">... TEXT MODE</span> </A> <br>
<br><A HREF="#!ABAP_ALTERNATIVE_3@3@" class="blue"> 3. <span class="qtext">... LEGACY BINARY MODE</span> </A> <br>
<br><A HREF="#!ABAP_ALTERNATIVE_4@4@" class="blue"> 4. <span class="qtext">... LEGACY TEXT MODE</span> </A> <br><br>
</P>
<p><span class="h4">
Effect
</span></p>
<P>
These mandatory additions define whether the file is handled as a binary file or as a text file. By specifying <span class="qtext">LEGACY</span>, files can be written in the format that is expected by a non-
<a href="javascript:call_link('abenunicode_system_glosry.html')" class="grey" title="Glossary Entry">Unicode system</a>, and files that have been created by a non-Unicode-system can be read. The
<a href="javascript:call_link('abenbyte_order_glosry.html')" class="grey" title="Glossary Entry">byte order</a> or the
<a href="javascript:call_link('abencodepage_glosry.html')" class="grey" title="Glossary Entry">code page</a> must be specified explicitly. <br><br>
</P>
<A NAME="@@BINARY MODE@@OPEN DATASET@@"></A>
<p><span class="h2">
<A NAME="!ABAP_ALTERNATIVE_1@1@"></A> <span class="bold">Alternative 1</span>
</span></p>
<P>
<span class="qtext">... BINARY MODE</span> <br><br><br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<P>
The addition <span class="qtext">IN BINARY MODE</span> opens the file as a binary file. When writing
to a binary file, the binary content of a data object is passed in unchanged form to the file. When reading from a binary file, the binary content of the file is passed in unchanged form to a data object. <br><br>
</P>
<p><span class="h4">
Example
</span></p>
<p>
Opens a binary file for reads and writes. The binary data is created by converting a string to <a href="javascript:call_link('abenutf8_glosry.html')" class="grey" title="Glossary Entry">UTF-8</a>.
</p>
<p class="qtextml1">
<span class="qtext">
DATA(utf8) = <br>&nbsp;&nbsp;cl_abap_conv_codepage=>create_out( )->convert( 'Blahblahblah ...' ). <br> <br>
DATA(dset) = 'test.dat'. <br>OPEN DATASET dset FOR OUTPUT IN BINARY MODE. <br>TRANSFER utf8 TO dset. <br>
CLOSE DATASET dset. <br> <br>... <br> <br>CLEAR utf8. <br>OPEN DATASET dset FOR INPUT IN BINARY MODE <br>
READ DATASET dset INTO utf8. <br>CLOSE DATASET dset. <br> <br>cl_demo_output=>display( <br>&nbsp;&nbsp;cl_abap_conv_codepage=>create_in( )->convert( utf8 ) ). <br> <br>DELETE DATASET dset. <br><br>
</span>
</p>
<A NAME="@@TEXT MODE@@OPEN DATASET@@"></A>
<p><span class="h2">
<A NAME="!ABAP_ALTERNATIVE_2@2@"></A> <span class="bold">Alternative 2</span>
</span></p>
<P>
<span class="qtext">... TEXT MODE</span> <br><br><br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<P>
The addition <span class="qtext">IN TEXT MODE</span> opens the file as a text file. Only the content of character-like data objects can be passed to text files and read from text files.
</P>
<P>
The addition <a href="javascript:call_link('abapopen_dataset_encoding.html')" class="blue"><span class="qtext">encoding</span></a>
defines how the characters are represented in the text file. When writing to a text file, the content
of a data object is converted to the representation entered after <span class="qtext">encoding</span>, and passed to the file. If the data type is character-like and
<a href="javascript:call_link('abenflat_glosry.html')" class="grey" title="Glossary Entry">flat</a>, any trailing blanks are cut off. In the data type <span class="qtext">string</span>, trailing blanks are not cut off.
</P>
<P>
The end-of-line selection of the relevant platform is applied to the passed data by default. When reading
from a text file, the content of the file is read until the next end-of-line selection, converted from
the format specified after <span class="qtext">ENCODING</span> into the current character format, and
passed to a data object. The end-of-line selection used is controlled using the addition <a href="javascript:call_link('abapopen_dataset_linefeed.html')" class="blue"><span class="qtext">linefeed</span></a>. <br><br>
</P>
<p><span class="h4">
Example
</span></p>
<p>
Opens a text file for reads and writes. A line end marking is appended in every write in every <span class="qtext">
TRANSFER</span> statement. Any reads are performed row by row. Compare the example for the addition
<span class="qtext">NO END OF LINE</span> of the statement <a href="javascript:call_link('abaptransfer.html')" class="blue"><span class="qtext">TRANSFER</span></a>.
</p>
<p class="qtextml1">
<span class="qtext">
DATA(dset) = 'test.dat'. <br>OPEN DATASET dset FOR OUTPUT IN TEXT MODE ENCODING DEFAULT. <br>DO 5 TIMES. <br>
&nbsp;&nbsp;TRANSFER 'Blah' TO dset. <br>ENDDO. <br>CLOSE DATASET dset. <br> <br>... <br> <br>DATA text TYPE string. <br>
OPEN DATASET dset FOR INPUT IN TEXT MODE ENCODING UTF-8 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SKIPPING BYTE-ORDER MARK. <br>
DO. <br>&nbsp;&nbsp;READ DATASET dset INTO text. <br>&nbsp;&nbsp;IF sy-subrc &lt;> 0. <br>&nbsp;&nbsp;&nbsp;&nbsp;EXIT. <br>
&nbsp;&nbsp;ENDIF. <br>&nbsp;&nbsp;cl_demo_output=>write( text ). <br>ENDDO. <br>CLOSE DATASET dset. <br> <br>cl_demo_output=>display( ). <br> <br>DELETE DATASET dset. <br><br>
</span>
</p>
<A NAME="@@LEGACY BINARY MODE@@OPEN DATASET@@"></A>
<p><span class="h2">
<A NAME="!ABAP_ALTERNATIVE_3@3@"></A> <span class="bold">Alternative 3</span>
</span></p>
<P>
<span class="qtext">... LEGACY BINARY MODE</span> <br><br><br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<P>
Opening a <a href="javascript:call_link('abenlegacy_file_glosry.html')" class="grey" title="Glossary Entry">legacy file</a>.
The addition <span class="qtext">IN LEGACY BINARY MODE</span> opens the file as a legacy binary file, where <a href="javascript:call_link('abapopen_dataset_endian.html')" class="blue"><span class="qtext">endian</span></a> can be used to specify the
<a href="javascript:call_link('abenbyte_order_glosry.html')" class="grey" title="Glossary Entry">byte order</a> and <a
 href="javascript:call_link('abapopen_dataset_code_page.html')" class="blue"><span class="qtext">CODE PAGE</span></a> can be used to specify the
<a href="javascript:call_link('abencodepage_glosry.html')" class="grey" title="Glossary Entry">code page</a> that handle the content of the file. <br><br>
</P>
<p><span class="h4">
Note
</span></p>
<P>
When a flat character-like field is written to the legacy binary files, the number of bytes written
to the file is the same as the number of characters in the source field. The field content can be influenced
by this when writing texts in Eastern Asian languages. It is therefore best to only write texts opened without the addition <span class="qtext">LEGACY</span> to text files. <br><br>
</P>
<p><span class="h4">
Example
</span></p>
<p>
See the example for the addition <a href="javascript:call_link('abapopen_dataset_endian.html')" class="blue"><span class="qtext">endian</span></a>. <br><br>
</p>
<A NAME="@@LEGACY TEXT MODE@@OPEN DATASET@@"></A>
<p><span class="h2">
<A NAME="!ABAP_ALTERNATIVE_4@4@"></A> <span class="bold">Alternative 4</span>
</span></p>
<P>
<span class="qtext">... LEGACY TEXT MODE</span> <br><br><br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<P>
Opening a <a href="javascript:call_link('abenlegacy_file_glosry.html')" class="grey" title="Glossary Entry">legacy file</a>.
The addition <span class="qtext">IN LEGACY TEXT MODE</span> opens the file as a legacy text file, where
(in legacy binary files) <a href="javascript:call_link('abapopen_dataset_endian.html')" class="blue"><span class="qtext">endian</span></a>
can be used to specify the byte order and <a href="javascript:call_link('abapopen_dataset_code_page.html')" class="blue"><span class="qtext">
CODE PAGE</span></a> can be used to specify the code page that handle the content of the file. The syntax and semantics of <span class="qtext"><i
class=bn>{</i>BIG<i class=bn>|</i>LITTLE<i class=bn>}</i> ENDIAN</span> and <span class="qtext">CODE
PAGE cp</span> are the same as in legacy binary files. The syntax and meaning of <a href="javascript:call_link('abapopen_dataset_linefeed.html')" class="blue"><span class="qtext">linefeed</span></a> are the same as for regular text files.
</P>
<P>
In contrast to legacy binary files, the trailing blanks are cut off when writing character-like
<a href="javascript:call_link('abenflat_glosry.html')" class="grey" title="Glossary Entry">flat</a> data objects to a legacy text file. Also, as in the case of a text file, an
<a href="javascript:call_link('abapopen_dataset_linefeed.html')" class="blue">end-of-line selection</a> is appended to the passed
data by default. Unlike the text files opened by the addition <span class="qtext">IN TEXT MODE</span>,
there is no check on whether the data objects used in writing or reading are character-like. Also, the
<span class="qtext">LENGTH</span> additions of the statements <span class="qtext">READ DATASET</span>
and <span class="qtext">TRANSFER</span> are used for counting. In legacy text files these additions count in bytes, and an text files they count in the units of a character represented in the memory. <br><br>
</P>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>
As is the case with legacy binary files, it is possible to access text files written in non-Unicode systems as legacy text files. In this case, the content is converted accordingly.
<br><br></li>
<li>
When writing to a flat character-like field in legacy text files, the maximum number of bytes that can
be written to the file is the maximum number of characters in the source field. The field content can
be influenced by this when writing texts in Eastern Asian languages. It is therefore best to only write texts opened without the addition <span class="qtext">LEGACY</span> to text files. <br><br>
<br></li>
</ul>
<p><span class="h4">
Example
</span></p>
<p>
See the example for the addition <a href="javascript:call_link('abapopen_dataset_code_page.html')" class="blue"><span class="qtext">CODE PAGE</span></a>. <br><br>
</p>
<br>
<br>
<!-- POSTFIX --><span class="h4">Continue</span><br>
<a href="javascript:call_link('abapopen_dataset_encoding.html')" class="blue">OPEN DATASET - encoding</a><br>
<a href="javascript:call_link('abapopen_dataset_linefeed.html')" class="blue">OPEN DATASET - WITH LINEFEED</a><br>
<a href="javascript:call_link('abapopen_dataset_endian.html')" class="blue">OPEN DATASET - endian</a><br>
<a href="javascript:call_link('abapopen_dataset_code_page.html')" class="blue">OPEN DATASET - CODE PAGE</a><br>
<br>
<br>
</DIV>
<fieldset style="opacity:0">
<input id="url" type="text" />
</fieldset>
</BODY>

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abapopen_dataset_mode.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:51:37 GMT -->
</html>

<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="EN">
<!-- ABENST_XSD_TYPE -->

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abenst_xsd_type.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:52:09 GMT -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="author" content="SAP">
<meta name="description" content="ST - xsd-type, Validation">
<meta name="keywords" content="ABAP, Simple Transformations, xsd-fractionDigits">
<title>
ST - xsd-type, Validation - ABAP Keyword Documentation
</title>
<link rel="icon" href="ABAPIcon.ico" type="image/ico">
<link rel="shortcut icon" href="ABAPIcon.ico">
<LINK rel="stylesheet" href="abap_docu.css" type="text/css">
<script language="javascript" type="text/javascript" src="functions.js"></script>
<script type="text/JavaScript">
function urlToClipboard(id){
 try{ var loc = top.location.href;}
 catch(e){ alert( "URL cannnot be determined" ); return; }
 var field = document.getElementById(id);
 field.focus();
 if ( loc.search( ".htm" ) == -1 && loc.search( ".HTM" ) == -1  ){ loc = loc + "index.htm"; }
 if (   loc.search( "index.html" ) != -1
     || loc.search( "INDEX-2.html" ) != -1 ){
   var off = loc.search( "file=" );
   if ( off == -1  ){
     field.value = loc + "?file=abenst_xsd_type.htm"; }
   else {
     field.value = loc.substring( 0, off ) + "file=abenst_xsd_type.htm";
   }
 }
 else {
    field.value = loc; }
 field.setSelectionRange(0, field.value.length);
 var r = confirm( "Copy URL to clipboard?\n\n" + field.value + "\n\nCopy to clipboard does not work in all browsers." );
 if (r == true) {
   try{
     document.execCommand("copy");
   }
     catch(e){ alert( "URL could not be copied to clipboard" ); }
 }
 window.scrollTo(0,0);
}
</script>
</head>
<body>
<div class="all">
<div style="float:right;">
<input type="button" value="URL"
style="font-size:10px; width:30px; height:18px; padding:0; "
onclick="urlToClipboard('url')" title="Copy URL to Clipboard" ></div>
<p>
<input name="query" id="query" value="" type="text" title="Suchbegriff" size="30" maxlength="30" onkeyup="getInput()">&nbsp;
<input type="button" value="Search"
style="font-size:12px; width:50px; height:18px; padding:0"
onclick="call_search('search.html')" title="Search in ABAP Keyword Documentation" >
<hr style="width:100%;height:1px"></p>
<p class="copyright">AS ABAP Release 754, &copy;Copyright 2019 SAP SE. All rights reserved.</p>
<span class="path">
<a href="javascript:call_link('abenabap.html')" class="blue">ABAP Keyword Documentation</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_reference.html')" class="blue">ABAP &#x2212; Reference</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_data_communication.html')" class="blue">Data Interfaces and Communication Interfaces</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_xml.html')" class="blue">ABAP and XML</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_xml_trafos.html')" class="blue">Transformations for XML</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_st.html')" class="blue">ST - Simple Transformations</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenst_serial_deserial.html')" class="blue">ST - Serialization and Deserialization</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenst_abap_values.html')" class="blue">ST - Transformation of ABAP Values</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenst_tt_value_elementary.html')" class="blue">ST - tt:value, Elementary Data Objects</a>&nbsp;&rarr;&nbsp;
</span>
<A NAME="@@xsd-type@@!ABAP_ST_ELEMENT!@@"></A>
<A NAME="@@xsd-maxInclusive@@!ABAP_ST_ELEMENT!@@"></A>
<A NAME="@@xsd-maxExclusive@@!ABAP_ST_ELEMENT!@@"></A>
<A NAME="@@xsd-minInclusive@@!ABAP_ST_ELEMENT!@@"></A>
<A NAME="@@xsd-minExclusive@@!ABAP_ST_ELEMENT!@@"></A>
<A NAME="@@xsd-totalDigits@@!ABAP_ST_ELEMENT!@@"></A>
<A NAME="@@xsd-fractionDigits@@!ABAP_ST_ELEMENT!@@"></A>
<p><span class="h1">
ST - xsd-type, Validation
</span></p>
<A name="@@ITOC@@ABENST_XSD_TYPE_1"></A>
<p><span class="h2">
Syntax
</span></p>
<p>
<span class="qtext400">... xsd-type="type" <br>&nbsp;&nbsp; <i class=bn>[</i>xsd-maxInclusive="max"<i class=bn>]</i> <br>
&nbsp;&nbsp; <i class=bn>[</i>xsd-maxExclusive ="max"<i class=bn>]</i> <br>&nbsp;&nbsp; <i class=bn>[</i>xsd-minInclusive="min"<i class=bn>]</i> <br>
&nbsp;&nbsp; <i class=bn>[</i>xsd-minExclusive ="min"<i class=bn>]</i> <br>&nbsp;&nbsp; <i class=bn>[</i>xsd-totalDigits="dgts"<i class=bn>]</i> <br>
&nbsp;&nbsp; <i class=bn>[</i>xsd-fractionDigits="dgts"<i class=bn>]</i> ...</span>
</p>
<p><span class="h4">
Effect
</span></p>
<p>
These attributes can be used with <a href="javascript:call_link('abenst_tt_value_elementary.html')" class="blue"><span class="qtext400">tt:value</span></a>,
and <a href="javascript:call_link('abenst_tt_write.html')" class="blue"><span class="qtext400">tt:write</span></a> and <a href="javascript:call_link('abenst_tt_read.html')" class="blue"><span class="qtext400">tt:read</span></a> to validate the value.
</p>
<p>
You can use the attribute <span class="qtext400">xsd-type</span> to specify an XML schema data type
<span class="qtext400">type</span>. The serialized or deserialized value must be in the value range
of this type. If not, an exception of the class CX_ST_VALIDATION_ERROR is raised, which is not caught
directly but by using CX_ST_SERIALIZATION_ERROR, CX_ST_DESERIALIZATION_ERROR, and its superclasses instead.
The following subtypes of <span class="qtext400">xsd:decimal</span> can be specified for <span class="qtext400">type</span>:
</p>
<dl><dd>
<span class="qtext400">xsd:byte, xsd:decimal, xsd:int, xsd:integer, xsd:long, xsd:negativeInteger, xsd:nonNegativeInteger,
xsd:nonPosistiveInteger, xsd:positiveInteger, xsd:short, xsd:unsignedByte, xsd:unsignedInt, xsd:unsignedLong</span>, and <span class="qtext400">xsd:unsignedShort</span>.
</dd></dl>
<p>
Together with the attribute <span class="qtext400">xsd-type</span>, the following "constraining facets" permitted by the XML schema can be specified as further attributes:
</p>
<ul class="disc">
<li><span class="qtext400">xsd-maxInclusive</span>, <span class="qtext400">xsd-maxExclusive</span></li>
</ul>
<dl><dd>
The value must be less equal to or less than <span class="qtext400">max</span>. <span class="qtext400">max</span>
must be in the value range of the XML schema data type and cannot be less than a simultaneous lower limit <span class="qtext400">min</span>.
</dd></dl>
<ul class="disc">
<li><span class="qtext400">xsd-minInclusive</span>, <span class="qtext400">xsd-minExclusive</span></li>
</ul>
<dl><dd>
The value must be greater than or equal to or greater than <span class="qtext400">min</span>. <span class="qtext400">
min</span> must be in the value range of the XML schema data type and cannot be greater than a simultaneous upper limit <span class="qtext400">max</span>.
</dd></dl>
<ul class="disc">
<li><span class="qtext400">xsd-totalDigits</span>, <span class="qtext400">fractionDigits</span></li>
</ul>
<dl><dd>
The value can have a maximum of <span class="qtext400">dgts</span> digits or decimal places. <span class="qtext400">dgts</span> must fit the other restrictions.
</dd></dl>
<p>
After the transformation from ABAP, serializations perform the validation to XML. Before the transformation
from XML, deserializations perform the validation to ABAP. In both cases, the data type of the bound ABAP data object is ignored.
</p>
<p><span class="h4">
Example
</span></p>
<p>
Serialization of ABAP Data with Validation
</p>
<dl><dd>
<span class="qtext400">&lt;tt:transform <br>&nbsp;&nbsp;xmlns:tt="http://www.sap.com/transformation-templates"> <br>
&nbsp;&nbsp;&lt;tt:root name="NUM"/> <br>&nbsp;&nbsp;&lt;tt:template> <br>&nbsp;&nbsp;&nbsp;&nbsp;&lt;Number> <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;tt:value ref="NUM" <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xsd-type="short" xsd-minInclusive="30000"/> <br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/Number> <br>&nbsp;&nbsp;&lt;/tt:template> <br>&lt;/tt:transform></span> <br>
</dd></dl>
<p>
The transformation only accepts numbers between 30000 and 32767. The following ABAP program calls the transformation and catches the validation exceptions.
</p>
<dl><dd>
<span class="qtext">PARAMETERS int TYPE i. <br> <br>DATA xml_string TYPE string. <br> <br>TRY. <br>&nbsp;&nbsp;&nbsp;&nbsp;CALL TRANSFORMATION ... <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SOURCE num = int <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; RESULT XML xml_string. <br>
&nbsp;&nbsp;&nbsp;&nbsp;WRITE / 'OK'. <br>&nbsp;&nbsp;CATCH cx_st_error. <br>&nbsp;&nbsp;&nbsp;&nbsp;WRITE / 'Not OK'. <br>ENDTRY.</span>
</dd></dl>
<br>
<br>
<br>
<br>
</DIV>
<fieldset style="opacity:0">
<input id="url" type="text" />
</fieldset>
</BODY>

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abenst_xsd_type.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:52:09 GMT -->
</html>

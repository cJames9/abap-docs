<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="EN">
<!-- ABAPDELETE_DUPLICATES -->

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abapdelete_duplicates.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:51:33 GMT -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="author" content="SAP">
<meta name="description" content="DELETE itab - duplicates">
<title>
DELETE itab - duplicates - ABAP Keyword Documentation
</title>
<link rel="icon" href="ABAPIcon.ico" type="image/ico">
<link rel="shortcut icon" href="ABAPIcon.ico">
<LINK rel="stylesheet" href="abap_docu.css" type="text/css">
<script language="javascript" type="text/javascript" src="functions.js"></script>
<script type="text/JavaScript">
function urlToClipboard(id){
 try{ var loc = top.location.href;}
 catch(e){ alert( "URL cannnot be determined" ); return; }
 var field = document.getElementById(id);
 field.focus();
 if ( loc.search( ".htm" ) == -1 && loc.search( ".HTM" ) == -1  ){ loc = loc + "index.htm"; }
 if (   loc.search( "index.html" ) != -1
     || loc.search( "INDEX-2.html" ) != -1 ){
   var off = loc.search( "file=" );
   if ( off == -1  ){
     field.value = loc + "?file=abapdelete_duplicates.htm"; }
   else {
     field.value = loc.substring( 0, off ) + "file=abapdelete_duplicates.htm";
   }
 }
 else {
    field.value = loc; }
 field.setSelectionRange(0, field.value.length);
 var r = confirm( "Copy URL to clipboard?\n\n" + field.value + "\n\nCopy to clipboard does not work in all browsers." );
 if (r == true) {
   try{
     document.execCommand("copy");
   }
     catch(e){ alert( "URL could not be copied to clipboard" ); }
 }
 window.scrollTo(0,0);
}
</script>
</head>
<body>
<div class="all">
<div style="float:right;">
<input type="button" value="URL"
style="font-size:10px; width:30px; height:18px; padding:0; "
onclick="urlToClipboard('url')" title="Copy URL to Clipboard" ></div>
<p>
<input name="query" id="query" value="" type="text" title="Suchbegriff" size="30" maxlength="30" onkeyup="getInput()">&nbsp;
<input type="button" value="Search"
style="font-size:12px; width:50px; height:18px; padding:0"
onclick="call_search('search.html')" title="Search in ABAP Keyword Documentation" >
<hr style="width:100%;height:1px"></p>
<p class="copyright">AS ABAP Release 754, &copy;Copyright 2019 SAP SE. All rights reserved.</p>
<span class="path">
<a href="javascript:call_link('abenabap.html')" class="blue">ABAP Keyword Documentation</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_reference.html')" class="blue">ABAP &#x2212; Reference</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_data_working.html')" class="blue">Processing Internal Data</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenitab.html')" class="blue">Internal Tables</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abentable_processing_statements.html')" class="blue">Processing Statements for Internal Tables</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abapdelete_itab.html')" class="blue">DELETE itab</a>&nbsp;&rarr;&nbsp;
</span>
<A NAME="@@ADJACENT DUPLICATES@@DELETE itab@@"></A>
<p><span class="h1">
DELETE itab - duplicates <br><br>
</span></p>
<P>
<a href="javascript:call_link('abapdelete_itab_shortref.html')" class="blue">Quick Reference</a> <br><br>
</P>
<p><span class="h2">
<span class="bold">Syntax</span>
</span></p>
<P>
<span class="qtext">... ADJACENT DUPLICATES FROM itab <i class=bn>[</i>USING KEY <a href="javascript:call_link('abenkeyname.html')" class="blue">keyname</a><i class=bn>]</i></span> <br>
<span class="qtext">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <i class=bn>[</i>COMPARING <i class=bn>{</i>
<a href="javascript:call_link('abenitab_components.html')" class="blue">comp1</a>
<a href="javascript:call_link('abenitab_components.html')" class="blue">comp2</a> ...<i class=bn>}</i><i class=bn>|</i><i class=bn>{</i>ALL FIELDS<i class=bn>}</i><i class=bn>]</i> ...</span> <br><br>
</P>
<p><span class="h3">
Extras:
</span></p>
<P>
   <A HREF="#!ABAP_ADDITION_1@1@" class="blue"> 1. <span class="qtext">... USING KEY keyname</span> </A> <br>
<br><A HREF="#!ABAP_ADDITION_2@2@" class="blue"> 2. <span class="qtext">... COMPARING <i class=bn>{</i>comp1 comp2 ...<i class=bn>}</i><i class=bn>|</i><i class=bn>{</i>ALL FIELDS<i class=bn>}</i></span> </A> <br><br>
</P>
<p><span class="h4">
Effect
</span></p>
<P>
Using these additions, the statement <span class="qtext">DELETE</span> deletes all rows in certain groups
of rows, except for the first row of the group. These are groups of rows that are sequential and have
the same content in certain components. If the addition <span class="qtext">COMPARING</span> is not
specified, the groups are determined by the content of the key fields of the table key being used. If no explicit table key is specified, the
<a href="javascript:call_link('abenprimary_table_key_glosry.html')" class="grey" title="Glossary Entry">primary table key</a> is used implicitly.
</P>
<P>
The order of the table rows that are used to form the groups is determined by the table key being used.
If no key <span class="qtext">keyname</span> is specified after <span class="qtext">USING KEY</span>,
the order is the same as when processing a statement <a href="javascript:call_link('abaploop_at_itab.html')" class="blue"><span class="qtext">LOOP</span></a> without explicit specification of a key.
</P>
<P>
Rows are considered to be duplicate if the content of neighboring row is the same in the components examined. In the case of multiple duplicate rows following one another, all the rows (except for the first) are deleted.
</P>
<P>
If the <a href="javascript:call_link('abenprimary_key_glosry.html')" class="grey" title="Glossary Entry">primary table key</a> is used to access a
<a href="javascript:call_link('abenstandard_table_glosry.html')" class="grey" title="Glossary Entry">standard table</a> and the key is
<a href="javascript:call_link('abenitab_empty_key.html')" class="blue">empty</a>, no rows are deleted. If this is known statically, the syntax check produces a warning.
</P>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>
The use of <span class="qtext">ADJACENT DUPLICATES</span> usually requires a suitable sorting by the components compared in the statement.
<br><br></li>
<li>
When using the primary table key, note that this key can be the <a href="javascript:call_link('abenstandard_key_glosry.html')" class="grey" title="Glossary Entry">standard key</a>, which can also have unexpected consequences:
<br></li>
</ul>
<ul class="circlem2">
<li>For structured row types, the standard key covers all character-like and byte-like components.</li>
</ul>
<ul class="circlem2">
<li>The standard key of a standard table can be <a href="javascript:call_link('abenitab_empty_key.html')" class="blue">empty</a>.</li>
</ul>
<p><span class="h4">
Example
</span></p>
<P>
Deletes all multiple rows with respect to the primary key in the internal table <span class="qtext">city_connections</span>.
</P>
<p class="qtextml1">
<span class="qtext">
TYPES: BEGIN OF city_connection, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cityfrom TYPE spfli-cityfrom, <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cityto&nbsp;&nbsp; TYPE spfli-cityto, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; distid&nbsp;&nbsp; TYPE spfli-distid, <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; distance TYPE spfli-distance, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; END OF city_connection. <br>
 <br>DATA city_connections TYPE SORTED TABLE OF city_connection <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WITH NON-UNIQUE KEY cityfrom cityto <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;distid distance. <br>
 <br>SELECT cityfrom, cityto, distid, distance <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FROM spfli <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; INTO TABLE @city_connections. <br>
 <br>DELETE ADJACENT DUPLICATES FROM city_connections. <br> <br>cl_demo_output=>display( city_connections ). <br><br>
</span>
</p>
<A NAME="@@USING KEY@@DELETE ADJACENT DUPLICATES@@"></A>
<p><span class="h3">
<A NAME="!ABAP_ADDITION_1@1@"></A> <span class="bold">Addition 1</span>
</span></p>
<P>
<span class="qtext">... USING KEY keyname</span>   <br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<P>
The <span class="qtext">USING KEY</span> addition can be used to specify a table key in <a href="javascript:call_link('abenkeyname.html')" class="blue">
<span class="qtext">keyname</span></a> used to carry out the processing. The specified table key influences the order in which the table rows are accessed, and the evaluation of the remaining conditions.
</P>
<P>
If the <a href="javascript:call_link('abenprimary_table_key_glosry.html')" class="grey" title="Glossary Entry">primary table key</a> is specified, the processing behaves in the same way as when no key is explicitly specified. If a
<a href="javascript:call_link('abensecondary_table_key_glosry.html')" class="grey" title="Glossary Entry">secondary table key</a> is specified, the order in which the rows are accessed is as follows:
</P>
<ul class="disc">
<li>
<span class="bold"><a href="javascript:call_link('abensorted_key_glosry.html')" class="grey" title="Glossary Entry">Sorted key</a></span> specified <br>
The rows are processed by ascending row number in the <a href="javascript:call_link('abensecondary_table_index_glosry.html')" class="grey" title="Glossary Entry">secondary table index</a> <br>
<br></li>
<li>
<span class="bold"><a href="javascript:call_link('abenhash_key_glosry.html')" class="grey" title="Glossary Entry">Hash key</a></span> specified <br>The rows are processed in the order in which they were inserted into the table.
<br></li>
</ul>
<p><span class="h4">
Note
</span></p>
<P>
Unlike the processing of a hashed table when a primary key is used, a preceding sort using the statement
<span class="qtext">SORT</span> does not influence the processing order when a secondary hash key is specified. <br><br>
</P>
<p><span class="h4">
Example
</span></p>
<p>
The statement <span class="qtext">DELETE</span> deletes all multiple numbers from the internal table <span class="qtext">itab</span>. The table then contains a maximum of ten rows.
</p>
<p class="qtextml1">
<span class="qtext">
DATA itab TYPE TABLE OF i WITH EMPTY KEY <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; WITH NON-UNIQUE SORTED KEY skey COMPONENTS table_line. <br>
 <br>DATA(rnd) = cl_abap_random_int=>create( seed = + sy-uzeit <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;min&nbsp;&nbsp;= 1 <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;max&nbsp;&nbsp;= 10 ). <br>
 <br>itab = VALUE #( FOR i = 1 UNTIL i > 100 ( rnd->get_next( ) ) ). <br> <br>DELETE ADJACENT DUPLICATES FROM itab USING KEY skey. <br><br>
</span>
</p>
<A NAME="@@COMPARING@@DELETE itab@@"></A>
<A NAME="@@ALL FIELDS@@DELETE itab@@"></A>
<p><span class="h3">
<A NAME="!ABAP_ADDITION_2@2@"></A> <span class="bold">Addition 2</span>
</span></p>
<P>
<span class="qtext">... COMPARING <i class=bn>{</i>comp1 comp2 ...<i class=bn>}</i><i class=bn>|</i><i class=bn>{</i>ALL FIELDS<i class=bn>}</i></span>   <br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<P>
If the addition <span class="qtext">COMPARING</span> is specified, the groups are determined either
by the content of the specified components <span class="qtext">comp1 comp2 ...</span> or the content
of all components <span class="qtext">ALL FIELDS</span>. The specification of individual components <span class="qtext">comp</span> is made as described in the section
<a href="javascript:call_link('abenitab_components.html')" class="blue">Specification of Components</a>. Access to class attributes is possible using the object component selector. <br><br>
</P>
<p><span class="h4">
Example
</span></p>
<p>
Reads specific data from two tables in the ITF framework. Here, <span class="lnkgrey">DOKIL</span> is
the index table for <span class="lnkgrey">DOKHL</span>. After the multiple numbers are deleted, it is
expected that both tables contain the same number of rows. The table declared inline, <span class="qtext">>dokhl_tab</span>,
has an empty primary key, which means that the component <span class="qtext">object</span> is specified explicitly using <span class="qtext">COMPARING</span>.
</p>
<p class="qtextml1">
<span class="qtext">
SELECT object <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FROM dokil <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; WHERE id = 'SD' AND <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; object LIKE 'AB%' AND <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; langu = @sy-langu AND <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; typ&nbsp;&nbsp; = 'E' <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ORDER BY object <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; INTO TABLE @DATA(dokil_tab). <br> <br>SELECT object <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FROM dokhl <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; WHERE id = 'SD' AND <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; object LIKE 'AB%' AND <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; langu = @sy-langu AND <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; typ&nbsp;&nbsp; = 'E' <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ORDER BY object, dokversion DESCENDING <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; INTO TABLE @DATA(dokhl_tab). <br>
 <br>DELETE ADJACENT DUPLICATES FROM dokhl_tab COMPARING object. <br> <br>ASSERT lines( dokhl_tab ) = lines( dokil_tab ). <br><br>
</span>
</p>
<br>
<br>
<!-- POSTFIX --><span class="h4">Continue</span><br>
<img src="exa.gif" alt="Example" title="Example">
<a href="javascript:call_link('abendelete_dup_lines_abexa.html')" class="blue">Internal Tables, Deleting Duplicate Rows</a><br>
<br>
<br>
</DIV>
<fieldset style="opacity:0">
<input id="url" type="text" />
</fieldset>
</BODY>

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abapdelete_duplicates.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:51:33 GMT -->
</html>

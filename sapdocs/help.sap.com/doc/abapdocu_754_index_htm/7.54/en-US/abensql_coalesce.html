<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="EN">
<!-- ABENSQL_COALESCE -->

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abensql_coalesce.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:51:42 GMT -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="author" content="SAP">
<meta name="description" content="sql_exp - sql_coalesce">
<title>
sql_exp - sql_coalesce - ABAP Keyword Documentation
</title>
<link rel="icon" href="ABAPIcon.ico" type="image/ico">
<link rel="shortcut icon" href="ABAPIcon.ico">
<LINK rel="stylesheet" href="abap_docu.css" type="text/css">
<script language="javascript" type="text/javascript" src="functions.js"></script>
<script type="text/JavaScript">
function urlToClipboard(id){
 try{ var loc = top.location.href;}
 catch(e){ alert( "URL cannnot be determined" ); return; }
 var field = document.getElementById(id);
 field.focus();
 if ( loc.search( ".htm" ) == -1 && loc.search( ".HTM" ) == -1  ){ loc = loc + "index.htm"; }
 if (   loc.search( "index.html" ) != -1
     || loc.search( "INDEX-2.html" ) != -1 ){
   var off = loc.search( "file=" );
   if ( off == -1  ){
     field.value = loc + "?file=abensql_coalesce.htm"; }
   else {
     field.value = loc.substring( 0, off ) + "file=abensql_coalesce.htm";
   }
 }
 else {
    field.value = loc; }
 field.setSelectionRange(0, field.value.length);
 var r = confirm( "Copy URL to clipboard?\n\n" + field.value + "\n\nCopy to clipboard does not work in all browsers." );
 if (r == true) {
   try{
     document.execCommand("copy");
   }
     catch(e){ alert( "URL could not be copied to clipboard" ); }
 }
 window.scrollTo(0,0);
}
</script>
</head>
<body>
<div class="all">
<div style="float:right;">
<input type="button" value="URL"
style="font-size:10px; width:30px; height:18px; padding:0; "
onclick="urlToClipboard('url')" title="Copy URL to Clipboard" ></div>
<p>
<input name="query" id="query" value="" type="text" title="Suchbegriff" size="30" maxlength="30" onkeyup="getInput()">&nbsp;
<input type="button" value="Search"
style="font-size:12px; width:50px; height:18px; padding:0"
onclick="call_search('search.html')" title="Search in ABAP Keyword Documentation" >
<hr style="width:100%;height:1px"></p>
<p class="copyright">AS ABAP Release 754, &copy;Copyright 2019 SAP SE. All rights reserved.</p>
<span class="path">
<a href="javascript:call_link('abenabap.html')" class="blue">ABAP Keyword Documentation</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_reference.html')" class="blue">ABAP &#x2212; Reference</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_language_external_data.html')" class="blue">Processing External Data</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_sql.html')" class="blue">ABAP Database Access</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenopensql.html')" class="blue">ABAP SQL</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenopen_sql_operands.html')" class="blue">ABAP SQL - Operands and Expressions</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abapsql_expr.html')" class="blue">ABAP SQL - SQL Expressions sql_exp</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abensql_builtin_func.html')" class="blue">sql_exp - sql_func</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenopen_sql_builtin_functions.html')" class="blue">ABAP SQL - Built-In Functions sql_func</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenopen_sql_functions.html')" class="blue">ABAP SQL - SQL Functions</a>&nbsp;&rarr;&nbsp;
</span>
<A NAME="@@COALESCE@@!ABAP_OSQL_FUNC!@@"></A>
<p><span class="h1">
sql_exp - sql_coalesce
</span></p>
<p><span class="h2">
<span class="bold">Syntax</span>
</span></p>
<P>
<span class="qtext">... COALESCE( sql_exp1, sql_exp2, ..., sql_expn ) ...</span>
</P>
<p><span class="h4">
Effect
</span></p>
<p>
Calls the Coalesce function as an <a href="javascript:call_link('abapsql_expr.html')" class="blue">SQL expression</a> or operand
of an expression in ABAP SQL. The Coalesce function can have a comma-separated list with at least two
but no more than 255 arguments <span class="qtext">sql_exp1</span>, <span class="qtext">sql_exp2</span>, ..., <span class="qtext">sql_expn</span>. This function returns the values of the first argument, which does not have the
<a href="javascript:call_link('abennull_value_glosry.html')" class="grey" title="Glossary Entry">null value</a>. If every argument
has the null value, the value of the last argument <span class="qtext">sql_expn</span> is returned. A blank must be placed after the opening parenthesis and before the closing parenthesis.
</p>
<p>
The arguments can be any <a href="javascript:call_link('abapsql_expr.html')" class="blue">SQL expressions</a> of all dictionary
types except ACCP, DF16_SCL (obsolete), DF34_SCL (obsolete), LCHR, LRAW, PREC, RAWSTRING, STRING, and
GEOM_EWKB. The data types of arguments must either be the same or the data type of one argument must
represent the value of the other data types. The result has the dictionary type of the argument with the largest value range.
</p>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>The Coalesce function can be used to assign a target object a self-defined value or the result of an expression, when null values are read. The type-dependent initial value is assigned by default.</li>
</ul>
<ul class="disc">
<li>A maximum of 10 Coalesce functions can be nested.</li>
</ul>
<ul class="disc">
<li>A Coalesce function is a short from of the following <a href="javascript:call_link('abensql_searched_case.html')" class="blue">complex case distinction</a>:</li>
</ul>
<dl><dd>
<span class="qtext">CASE WHEN sql_exp1 IS NOT NULL THEN sql_exp1 <br>&nbsp;&nbsp;&nbsp;&nbsp; WHEN sql_exp2 IS NOT NULL THEN sql_exp2 <br>
&nbsp;&nbsp;&nbsp;&nbsp; ... <br>&nbsp;&nbsp;&nbsp;&nbsp; ELSE sql_expn <br>END</span>
</dd></dl>
<ul class="disc">
<li>The Coalesce function can be executed in the <a href="javascript:call_link('abentable_buffer_glosry.html')" class="grey" title="Glossary Entry">table buffer</a>.
<a href="javascript:call_link('abensap_buffering_glosry.html')" class="grey" title="Glossary Entry">Table buffering</a> is not bypassed when the Coalesce function is used.</li>
</ul>
<p><span class="h4">
Example
</span></p>
<p>
The first three <a href="javascript:call_link('abensql_simple_case.html')" class="blue"><span class="qtext">CASE</span> expressions</a>
return the null value, since no <span class="qtext">WHEN</span> condition is met and no <span class="qtext">ELSE</span>
is specified. The result of the fourth <span class="qtext">CASE</span> expression is not a null value and is returned by <span class="qtext">COALESCE</span>.
</p>
<p class="qtextml1">
<span class="qtext">
DELETE FROM demo_expressions. <br>INSERT demo_expressions FROM @( VALUE #( id = 'X' ) ). <br> <br>SELECT SINGLE <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FROM demo_expressions <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FIELDS COALESCE( CASE id WHEN 'A' THEN 'a' END, <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CASE id WHEN 'B' THEN 'b' END, <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CASE id WHEN 'B' THEN 'b' END, <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CASE id WHEN 'X' THEN 'x' END&nbsp;&nbsp;) AS coalesced <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; INTO @DATA(result).
</span>
</p>
<p><span class="h4">
Executable Example
</span></p>
<p>
<a href="javascript:call_link('abensql_expr_coalesce_abexa.html')" class="blue">SQL Expressions, Coalesce Function</a>
</p>
<br>
<br>
<!-- POSTFIX --><span class="h4">Continue</span><br>
<img src="exa.gif" alt="Example" title="Example">
<a href="javascript:call_link('abensql_expr_coalesce_abexa.html')" class="blue">SQL Expressions, Coalesce Function</a><br>
<br>
<br>
</DIV>
<fieldset style="opacity:0">
<input id="url" type="text" />
</fieldset>
</BODY>

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abensql_coalesce.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:51:42 GMT -->
</html>

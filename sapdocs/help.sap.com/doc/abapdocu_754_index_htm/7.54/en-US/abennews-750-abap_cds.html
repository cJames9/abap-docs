<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="EN">
<!-- ABENNEWS-750-ABAP_CDS -->

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abennews-750-abap_cds.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:52:59 GMT -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="author" content="SAP">
<meta name="description" content="ABAP CDS in Release 7.50">
<title>
ABAP CDS in Release 7.50 - ABAP Keyword Documentation
</title>
<link rel="icon" href="ABAPIcon.ico" type="image/ico">
<link rel="shortcut icon" href="ABAPIcon.ico">
<LINK rel="stylesheet" href="abap_docu.css" type="text/css">
<script language="javascript" type="text/javascript" src="functions.js"></script>
<script type="text/JavaScript">
function urlToClipboard(id){
 try{ var loc = top.location.href;}
 catch(e){ alert( "URL cannnot be determined" ); return; }
 var field = document.getElementById(id);
 field.focus();
 if ( loc.search( ".htm" ) == -1 && loc.search( ".HTM" ) == -1  ){ loc = loc + "index.htm"; }
 if (   loc.search( "index.html" ) != -1
     || loc.search( "INDEX-2.html" ) != -1 ){
   var off = loc.search( "file=" );
   if ( off == -1  ){
     field.value = loc + "?file=abennews-750-abap_cds.htm"; }
   else {
     field.value = loc.substring( 0, off ) + "file=abennews-750-abap_cds.htm";
   }
 }
 else {
    field.value = loc; }
 field.setSelectionRange(0, field.value.length);
 var r = confirm( "Copy URL to clipboard?\n\n" + field.value + "\n\nCopy to clipboard does not work in all browsers." );
 if (r == true) {
   try{
     document.execCommand("copy");
   }
     catch(e){ alert( "URL could not be copied to clipboard" ); }
 }
 window.scrollTo(0,0);
}
</script>
</head>
<body>
<div class="all">
<div style="float:right;">
<input type="button" value="URL"
style="font-size:10px; width:30px; height:18px; padding:0; "
onclick="urlToClipboard('url')" title="Copy URL to Clipboard" ></div>
<p>
<input name="query" id="query" value="" type="text" title="Suchbegriff" size="30" maxlength="30" onkeyup="getInput()">&nbsp;
<input type="button" value="Search"
style="font-size:12px; width:50px; height:18px; padding:0"
onclick="call_search('search.html')" title="Search in ABAP Keyword Documentation" >
<hr style="width:100%;height:1px"></p>
<p class="copyright">AS ABAP Release 754, &copy;Copyright 2019 SAP SE. All rights reserved.</p>
<span class="path">
<a href="javascript:call_link('abenabap.html')" class="blue">ABAP Keyword Documentation</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abennews.html')" class="blue">ABAP - Release-Specific Changes</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abennews-75.html')" class="blue">Changes in Releases 7.5x</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abennews-750.html')" class="blue">Changes in Release 7.50</a>&nbsp;&rarr;&nbsp;
</span>
<p><span class="h1">
ABAP CDS in Release 7.50 <br><br>
</span></p>
<P>
<br><A HREF="#!ABAP_MODIFICATION_1@1@" class="blue"> 1. CDS table functions </A>
</P>
<P>
<br><A HREF="#!ABAP_MODIFICATION_2@2@" class="blue"> 2. CDS access control </A>
</P>
<P>
<br><A HREF="#!ABAP_MODIFICATION_3@3@" class="blue"> 3. Expressions and functions </A>
</P>
<P>
<br><A HREF="#!ABAP_MODIFICATION_4@4@" class="blue"> 4. Session variables </A>
</P>
<P>
<br><A HREF="#!ABAP_MODIFICATION_5@5@" class="blue"> 5. CDS views with input parameters </A>
</P>
<P>
<br><A HREF="#!ABAP_MODIFICATION_6@6@" class="blue"> 6. Annotation for input parameters </A>
</P>
<P>
<br><A HREF="#!ABAP_MODIFICATION_7@7@" class="blue"> 7. Key fields </A>
</P>
<P>
<br><A HREF="#!ABAP_MODIFICATION_8@8@" class="blue"> 8. Evaluation of annotations </A>
</P>
<P>
<br><A HREF="#!ABAP_MODIFICATION_9@9@" class="blue"> 9. Publishing associations </A>
</P>
<P>
<br><A HREF="#!ABAP_MODIFICATION_10@10@" class="blue"> 10. Extensions </A> <br><br> <br><br>
</P>
<p><span class="h4">
<A NAME="!ABAP_MODIFICATION_1@1@"></A> <span class="bold">Modification 1</span>
</span></p>
<P>
<span class="bold">CDS Table Functions</span> <br><br><!-- /A -->
</P>
<P>
The new DDL statement <a href="javascript:call_link('abencds_f1_define_table_function.html')" class="blue"><span class="qtext400">DEFINE TABLE FUNCTION</span></a> can be used to define
<a href="javascript:call_link('abencds_table_function_glosry.html')" class="grey" title="Glossary Entry">CDS table functions</a> as a new category of
<a href="javascript:call_link('abencds_entity_glosry.html')" class="grey" title="Glossary Entry">CDS entities</a>. In platform-specific SQL, a CDS table function is implemented in an associated
<a href="javascript:call_link('abenamdp_function_method_glosry.html')" class="grey" title="Glossary Entry">AMDP function implementation</a>. <br><br> <br><br>
</P>
<p><span class="h4">
<A NAME="!ABAP_MODIFICATION_2@2@"></A> <span class="bold">Modification 2</span>
</span></p>
<P>
<span class="bold">CDS Access Control</span> <br><br><!-- /A -->
</P>
<P>
<a href="javascript:call_link('abenabap_cds_glosry.html')" class="grey" title="Glossary Entry">ABAP CDS</a>
<a href="javascript:call_link('abencds_authorizations.html')" class="blue">access control</a>, introduced in
<a href="javascript:call_link('abennews-740_sp10-abap_cds.html')" class="blue">Release 7.40, SP10</a>, was expanded to include implicit evaluations of
<a href="javascript:call_link('abencds_role_glosry.html')" class="grey" title="Glossary Entry">CDS roles</a> defined in the
<a href="javascript:call_link('abenabap_cds_glosry.html')" class="grey" title="Glossary Entry">ABAP CDS</a>
<a href="javascript:call_link('abencds_f1_dcl_syntax.html')" class="blue">DCL</a> in ABAP SQL. If a
<a href="javascript:call_link('abencds_entity_glosry.html')" class="grey" title="Glossary Entry">CDS entity</a> is associated with a CDS role, an additional
<a href="javascript:call_link('abenaccess_condition_glosry.html')" class="grey" title="Glossary Entry">access condition</a> is
checked by default when the CDS entity is accessed using ABAP SQL. Only that data is read for which the current user has an authorization or that matches a literal condition. <br><br> <br><br>
</P>
<p><span class="h4">
<A NAME="!ABAP_MODIFICATION_3@3@"></A> <span class="bold">Modification 3</span>
</span></p>
<P>
<span class="bold">Expressions and Functions</span> <br><br><!-- /A -->
</P>
<P>
The following enhancements have been implemented:
</P>
<ul class="disc">
<li>
Enhancements to the <a href="javascript:call_link('abencds_f1_cast_expression.html')" class="blue"><span class="qtext400">CAST</span> expression</a> of a
<a href="javascript:call_link('abencds_view_glosry.html')" class="grey" title="Glossary Entry">CDS view</a>:
<br></li>
</ul>
<ul class="circlem2">
<li>A <a href="javascript:call_link('abencds_f1_cast_expression.html')" class="blue"><span class="qtext400">CAST</span> expression</a> now now contain nested cast expressions and
<a href="javascript:call_link('abencds_f1_case_expression.html')" class="blue">case distinctions</a> as an operand.</li>
</ul>
<ul class="circlem2">
<li>Data elements can now be specified as the target type in <a href="javascript:call_link('abencds_f1_cast_expression.html')" class="blue">
<span class="qtext400">CAST</span> expressions</a>. This passes its semantic attributes to the result. This also makes it possible to map more built-in types to itself than previously.</li>
</ul>
<ul class="circlem2">
<li>In <a href="javascript:call_link('abencds_f1_cast_expression.html')" class="blue"><span class="qtext400">CAST</span> expressions</a>,
the restriction no longer applies that casts of operands of the types DEC, CURR, and QUAN to the same
types expect the target type to be long enough. In castes from NUMC to NUMC, however, the lengths must now match exactly.</li>
</ul>
<ul class="circlem2">
<li><a href="javascript:call_link('abencds_f1_cast_expression.html')" class="blue"><span class="qtext400">CAST</span> expressions</a>
can now be used to cast operands of the types DATS and TIMS to CHAR (if the length of the target type is sufficient).</li>
</ul>
<ul class="disc">
<li>
A one character literal with the type NUMC can now be <a href="javascript:call_link('abencds_cond_expr_types.html')" class="blue">compared</a> with a data source of the type LANG.
<br><br></li>
<li>
New SQL functions for <a href="javascript:call_link('abencds_view_glosry.html')" class="grey" title="Glossary Entry">CDS views</a>:
<br></li>
</ul>
<ul class="circlem2">
<li>String functions: <a href="javascript:call_link('abencds_f1_sql_functions_character.html')" class="blue"><span class="qtext400">CONCAT_WITH_SPACE</span></a>,
<a href="javascript:call_link('abencds_f1_sql_functions_character.html')" class="blue"><span class="qtext400">INSTR</span></a>,
<a href="javascript:call_link('abencds_f1_sql_functions_character.html')" class="blue"><span class="qtext400">LEFT</span></a>,
<a href="javascript:call_link('abencds_f1_sql_functions_character.html')" class="blue"><span class="qtext400">LENGTH</span></a>,
<a href="javascript:call_link('abencds_f1_sql_functions_character.html')" class="blue"><span class="qtext400">LTRIM</span></a>,
<a href="javascript:call_link('abencds_f1_sql_functions_character.html')" class="blue"><span class="qtext400">RIGHT</span></a>,
<a href="javascript:call_link('abencds_f1_sql_functions_character.html')" class="blue"><span class="qtext400">RPAD</span></a>,<a href="javascript:call_link('abencds_f1_sql_functions_character.html')" class="blue"><span class="qtext400">RTRIM</span></a></li>
</ul>
<ul class="circlem2">
<li>Byte string functions: <a href="javascript:call_link('abencds_f1_conv_func_types.html')" class="blue"><span class="qtext400">BINTOHEX</span></a>,
<a href="javascript:call_link('abencds_f1_conv_func_types.html')" class="blue"><span class="qtext400">HEXTOBIN</span></a></li>
</ul>
<ul class="disc">
<li>
Date functions and time functions for <a href="javascript:call_link('abencds_view_glosry.html')" class="grey" title="Glossary Entry">CDS views</a>:
<br></li>
</ul>
<ul class="circlem2">
<li>The special date functions <a href="javascript:call_link('abencds_f1_date_functions.html')" class="blue"><span class="qtext400">DATS_DAYS_BETWEEN</span></a>,
<a href="javascript:call_link('abencds_f1_date_functions.html')" class="blue"><span class="qtext400">DATS_ADD_DAYS</span></a>,
and <a href="javascript:call_link('abencds_f1_date_functions.html')" class="blue"><span class="qtext400">DATS_ADD_MONTHS</span></a> make it possible to calculate with values of the built-in dictionary type
<a href="javascript:call_link('abenddic_builtin_types.html')" class="blue">DATS</a> in <a href="javascript:call_link('abencds_view_glosry.html')" class="grey" title="Glossary Entry">CDS views</a>.</li>
</ul>
<ul class="circlem2">
<li>The new date function <a href="javascript:call_link('abencds_f1_date_functions.html')" class="blue"><span class="qtext400">DATS_IS_VALID</span></a> checks the validity of dates.</li>
</ul>
<ul class="circlem2">
<li>The new time function <a href="javascript:call_link('abencds_f1_time_functions.html')" class="blue"><span class="qtext400">TIMS_IS_VALID</span></a> checks the validity of times.</li>
</ul>
<ul class="circlem2">
<li>The new time stamp functions <a href="javascript:call_link('abencds_f1_timestamp_functions.html')" class="blue"><span class="qtext400">TSTMP_IS_VALID</span></a>,
<a href="javascript:call_link('abencds_f1_timestamp_functions.html')" class="blue"><span class="qtext400">TSTMP_CURRENT_UTCTIMESTAMP</span></a>,
<a href="javascript:call_link('abencds_f1_timestamp_functions.html')" class="blue"><span class="qtext400">TSTMP_SECONDS_BETWEEN</span></a>
and <a href="javascript:call_link('abencds_f1_timestamp_functions.html')" class="blue"><span class="qtext400">TSTMP_ADD_SECONDS</span></a> perform operations with
<a href="javascript:call_link('abentime_stamps_packed.html')" class="blue">time stamps</a> in packed numbers.</li>
</ul>
<ul class="disc">
<li>
<a href="javascript:call_link('abencds_f1_parameter.html')" class="blue">Input parameters</a> from the parameter list <a href="javascript:call_link('abencds_f1_parameter_list.html')" class="blue">
<span class="qtext400">parameter_list</span></a> of a CDS view can be passed to many arguments of <a href="javascript:call_link('abencds_f1_builtin_functions.html')" class="blue">built-in functions</a>.
<br><br></li>
<li>
In the <a href="javascript:call_link('abencds_f1_conversion_functions.html')" class="blue">conversion functions</a> <span class="qtext400">UNIT_CONVERSION</span> and <span class="qtext400">DECIMAL_SHIFT</span>, the result type was set to the data type
<a href="javascript:call_link('abenddic_builtin_types.html')" class="blue">QUAN</a> or <a href="javascript:call_link('abenddic_builtin_types.html')" class="blue">CURR</a> with length 31 and 14 decimal places. <br><br> <br><br>
<br></li>
</ul>
<p><span class="h4">
<A NAME="!ABAP_MODIFICATION_4@4@"></A> <span class="bold">Modification 4</span>
</span></p>
<P>
<span class="bold">Session Variables</span> <br><br><!-- /A -->
</P>
<P>
When a <a href="javascript:call_link('abencds_view_glosry.html')" class="grey" title="Glossary Entry">CDS view</a> is accessed using ABAP SQL, three session variables
(<a href="javascript:call_link('abencds_f1_session_variable.html')" class="blue"><span class="qtext400">$session.user</span></a>,
<a href="javascript:call_link('abencds_f1_session_variable.html')" class="blue"><span class="qtext400">$session.client</span></a>,
and <a href="javascript:call_link('abencds_f1_session_variable.html')" class="blue"><span class="qtext400">$session.system_language</span></a>)
can be accessed here. In these variables, the values of the system fields <span class="qtext">sy-uname</span>, <span class="qtext">sy-mandt</span> and <span class="qtext">sy-langu</span> are available. <br><br> <br><br>
</P>
<p><span class="h4">
<A NAME="!ABAP_MODIFICATION_5@5@"></A> <span class="bold">Modification 5</span>
</span></p>
<P>
<span class="bold">CDS Views with Input Parameters</span> <br><br><!-- /A -->
</P>
<P>
In Release 7.50 and higher, the <a href="javascript:call_link('abencds_f1_parameter_list.html')" class="blue">input parameters</a>
of CDS views are supported by all database platforms and can be used in ABAP SQL. It is no longer necessary to query property VIEWS_WITH_PARAMETERS using method USE_FEATURES of class
<a href="javascript:call_link('abencl_abap_dbfeatures.html')" class="blue">CL_ABAP_DBFEATURES</a>. Querying this property results in a warning check from the syntax check. <br><br> <br><br>
</P>
<p><span class="h4">
<A NAME="!ABAP_MODIFICATION_6@6@"></A> <span class="bold">Modification 6</span>
</span></p>
<P>
<span class="bold">Annotation for Input Parameters</span> <br><br><!-- /A -->
</P>
<P>
An <a href="javascript:call_link('abencds_f1_param.html')" class="blue">input parameter</a> of a
<a href="javascript:call_link('abencds_view_glosry.html')" class="grey" title="Glossary Entry">CDS view</a> or a
<a href="javascript:call_link('abencds_table_function_glosry.html')" class="grey" title="Glossary Entry">CDS table function</a>
can now be annotated with an annotation <a href="javascript:call_link('abencds_f1_parameter_annotations.html')" class="blue"><span class="qtext400">
@Environment.systemField</span></a>. The potential values of the annotation assign ABAP system fields to the input parameters. If a
<a href="javascript:call_link('abencds_entity_glosry.html')" class="grey" title="Glossary Entry">CDS entity</a> of this type is used a
<a href="javascript:call_link('abapselect_data_source.html')" class="blue">data source</a> in ABAP SQL, the assigned values can
be passed implicitly. In particular, the value <a href="javascript:call_link('abencds_f1_parameter_annotations.html')" class="blue"><span class="qtext400">
#CLIENT</span></a> enables the client ID of the current client to be passed implicitly, which provides support for client handling in Native SQL of the implementation of a CDS table function. <br><br> <br><br>
</P>
<p><span class="h4">
<A NAME="!ABAP_MODIFICATION_7@7@"></A> <span class="bold">Modification 7</span>
</span></p>
<P>
<span class="bold">Key Fields</span> <br><br><!-- /A -->
</P>
<ul class="disc">
<li>
The key fields of a CDS view that are defined with <a href="javascript:call_link('abencds_f1_select_list_entry.html')" class="blue"><span class="qtext400">
KEY</span></a> must now, like the key fields of a CDS table function, be placed without gaps at the start of the <a href="javascript:call_link('abencds_f1_select_list.html')" class="blue"><span class="qtext400">SELECT</span> list</a>.
<br><br></li>
<li>
The new view annotation <a href="javascript:call_link('abencds_f1_view_entity_annotations.html')" class="blue"><span class="qtext400">AbapCatalog.preserveKey</span></a>
can be used to override the default behavior of the addition <a href="javascript:call_link('abencds_f1_select_list_entry.html')" class="blue">
<span class="qtext400">KEY</span></a> for defining key fields of a CDS view. If the annotation is specified
with the value <span class="qtext400">true</span>, the key fields defined using <span class="qtext400">KEY</span> are also used for the associated CDS database view. <br><br> <br><br>
<br></li>
</ul>
<p><span class="h4">
<A NAME="!ABAP_MODIFICATION_8@8@"></A> <span class="bold">Modification 8</span>
</span></p>
<P>
<span class="bold">Evaluation of Annotations</span> <br><br><!-- /A -->
</P>
<P>
The class <span class="lnkgrey">CL_DD_DDL_ANNOTATION_SERVICE</span> contains methods for evaluating the
<a href="javascript:call_link('abencds_annotation_glosry.html')" class="grey" title="Glossary Entry">annotations</a> of <a href="javascript:call_link('abencds_entity_glosry.html')" class="grey" title="Glossary Entry">CDS entities</a>. <br><br> <br><br>
</P>
<p><span class="h4">
<A NAME="!ABAP_MODIFICATION_9@9@"></A> <span class="bold">Modification 9</span>
</span></p>
<P>
<span class="bold">Publishing Associations</span> <br><br><!-- /A -->
</P>
<P>
Path expressions can now be published with more than one association in the <a href="javascript:call_link('abencds_f1_select_list.html')" class="blue">
<span class="qtext400">SELECT</span> list</a> of a CDS view. The fields of the source data source from
the <span class="qtext400">ON</span> condition of the published associated, which then also need to be specified, must be defined using an appropriately specified path. <br><br> <br><br>
</P>
<p><span class="h4">
<A NAME="!ABAP_MODIFICATION_10@10@"></A> <span class="bold">Modification 10</span>
</span></p>
<P>
<span class="bold">Enhancements</span> <br><br><!-- /A -->
</P>
<P>
The statement <a href="javascript:call_link('abencds_f1_extend_view.html')" class="blue"><span class="qtext400">EXTEND VIEW</span></a> for
<a href="javascript:call_link('abencds_view_extend_glosry.html')" class="grey" title="Glossary Entry">CDS view extensions</a> was expanded as follows:
</P>
<ul class="disc">
<li>
<a href="javascript:call_link('abencds_f1_association.html')" class="blue">Associations</a> for the <span class="qtext400">SELECT</span> statement of the extended CDS view can now be specified after <span class="qtext400">EXTEND VIEW</span>.
<br><br></li>
<li>
The following can now be specified in the extension list <span class="qtext400">select_list_extension</span>:
<br></li>
</ul>
<ul class="circlem2">
<li><a href="javascript:call_link('abencds_f1_parameter.html')" class="blue">Input parameters</a> of the extended CDS view</li>
</ul>
<ul class="circlem2">
<li><a href="javascript:call_link('abencds_f1_path_expression.html')" class="blue">Path expressions</a> for custom associations and for associations of the extended CDS view</li>
</ul>
<ul class="circlem2">
<li><a href="javascript:call_link('abencds_special_functions.html')" class="blue">Special functions</a> <br><br> <br><br></li>
</ul>
<br>
<br>
<br>
<br>
</DIV>
<fieldset style="opacity:0">
<input id="url" type="text" />
</fieldset>
</BODY>

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abennews-750-abap_cds.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:52:59 GMT -->
</html>

<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="EN">
<!-- ABAPGENERATE_SUBR_ERROR_HANDLING -->

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abapgenerate_subr_error_handling.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:51:53 GMT -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="author" content="SAP">
<meta name="description" content="GENERATE SUBROUTINE POOL - error_handling">
<title>
GENERATE SUBROUTINE POOL - error_handling - ABAP Keyword Documentation
</title>
<link rel="icon" href="ABAPIcon.ico" type="image/ico">
<link rel="shortcut icon" href="ABAPIcon.ico">
<LINK rel="stylesheet" href="abap_docu.css" type="text/css">
<script language="javascript" type="text/javascript" src="functions.js"></script>
<script type="text/JavaScript">
function urlToClipboard(id){
 try{ var loc = top.location.href;}
 catch(e){ alert( "URL cannnot be determined" ); return; }
 var field = document.getElementById(id);
 field.focus();
 if ( loc.search( ".htm" ) == -1 && loc.search( ".HTM" ) == -1  ){ loc = loc + "index.htm"; }
 if (   loc.search( "index.html" ) != -1
     || loc.search( "INDEX-2.html" ) != -1 ){
   var off = loc.search( "file=" );
   if ( off == -1  ){
     field.value = loc + "?file=abapgenerate_subr_error_handling.htm"; }
   else {
     field.value = loc.substring( 0, off ) + "file=abapgenerate_subr_error_handling.htm";
   }
 }
 else {
    field.value = loc; }
 field.setSelectionRange(0, field.value.length);
 var r = confirm( "Copy URL to clipboard?\n\n" + field.value + "\n\nCopy to clipboard does not work in all browsers." );
 if (r == true) {
   try{
     document.execCommand("copy");
   }
     catch(e){ alert( "URL could not be copied to clipboard" ); }
 }
 window.scrollTo(0,0);
}
</script>
</head>
<body>
<div class="all">
<div style="float:right;">
<input type="button" value="URL"
style="font-size:10px; width:30px; height:18px; padding:0; "
onclick="urlToClipboard('url')" title="Copy URL to Clipboard" ></div>
<p>
<input name="query" id="query" value="" type="text" title="Suchbegriff" size="30" maxlength="30" onkeyup="getInput()">&nbsp;
<input type="button" value="Search"
style="font-size:12px; width:50px; height:18px; padding:0"
onclick="call_search('search.html')" title="Search in ABAP Keyword Documentation" >
<hr style="width:100%;height:1px"></p>
<p class="copyright">AS ABAP Release 754, &copy;Copyright 2019 SAP SE. All rights reserved.</p>
<span class="path">
<a href="javascript:call_link('abenabap.html')" class="blue">ABAP Keyword Documentation</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_reference.html')" class="blue">ABAP &#x2212; Reference</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenprogram_editing.html')" class="blue">program editing</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_language_dynamic.html')" class="blue">Dynamic Program Editing</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_generic_program.html')" class="blue">ABAP Source Code</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abapgenerate_subroutine_pool.html')" class="blue">GENERATE SUBROUTINE POOL</a>&nbsp;&rarr;&nbsp;
</span>
<p><span class="h1">
GENERATE SUBROUTINE POOL - error_handling <br><br>
</span></p>
<P>
<a href="javascript:call_link('abapgenerate_shortref.html')" class="blue">Quick Reference</a> <br><br>
</P>
<p><span class="h2">
<span class="bold">Syntax</span>
</span></p>
<P>
<span class="qtext">... <i class=bn>[</i>MESSAGE mess<i class=bn>]</i></span> <br><span class="qtext">&nbsp;&nbsp;&nbsp;&nbsp;<i class=bn>[</i>INCLUDE incl<i class=bn>]</i></span> <br>
<span class="qtext">&nbsp;&nbsp;&nbsp;&nbsp;<i class=bn>[</i>LINE lin<i class=bn>]</i></span> <br><span class="qtext">&nbsp;&nbsp;&nbsp;&nbsp;<i class=bn>[</i>WORD wrd<i class=bn>]</i></span> <br>
<span class="qtext">&nbsp;&nbsp;&nbsp;&nbsp;<i class=bn>[</i>OFFSET off<i class=bn>]</i></span> <br><span class="qtext">
&nbsp;&nbsp;&nbsp;&nbsp;<i class=bn>[</i>MESSAGE-ID mid<i class=bn>]</i></span> <br><span class="qtext">&nbsp;&nbsp;&nbsp;&nbsp;<i class=bn>[</i>SHORTDUMP-ID sid<i class=bn>]</i> ...</span> <br><br>
</P>
<p><span class="h3">
Extras:
</span></p>
<P>
   <A HREF="#!ABAP_ADDITION_1@1@" class="blue"> 1. <span class="qtext">... MESSAGE mess</span> </A> <br>
<br><A HREF="#!ABAP_ADDITION_2@2@" class="blue"> 2. <span class="qtext">... INCLUDE incl</span> </A> <br>
<br><A HREF="#!ABAP_ADDITION_3@3@" class="blue"> 3. <span class="qtext">... LINE lin</span> </A> <br><br>
<A HREF="#!ABAP_ADDITION_4@4@" class="blue"> 4. <span class="qtext">... WORD wrd</span> </A> <br><br><A HREF="#!ABAP_ADDITION_5@5@" class="blue"> 5. <span class="qtext">... OFFSET off</span> </A> <br>
<br><A HREF="#!ABAP_ADDITION_6@6@" class="blue"> 6. <span class="qtext">... MESSAGE-ID mid</span> </A> <br><br><A HREF="#!ABAP_ADDITION_7@7@" class="blue"> 7. <span class="qtext">... SHORTDUMP-ID sid</span> </A> <br><br>
</P>
<p><span class="h4">
Effect
</span></p>
<P>
These additions can be used to analyze syntax and generation errors of the <a href="javascript:call_link('abapgenerate_subroutine_pool.html')" class="blue">
<span class="qtext">GENERATE SUBROUTINE POOL</span></a> statement. Syntax errors can either arise in the source code specified in <span class="qtext">itab</span>, or in the
<a href="javascript:call_link('abeninclude_program_glosry.html')" class="grey" title="Glossary Entry">include programs</a> integrated
using the <a href="javascript:call_link('abapinclude_prog.html')" class="blue"><span class="qtext">INCLUDE</span></a> statement.
Generation errors can occur, for example, if the program contains errors in declaration statements that are not identified in the static syntax check.
</P>
<P>
The following can be specified in all operand positions behind these additions:
</P>
<ul class="disc">
<li>
An existing variable that matches the operand type.
<br><br></li>
<li>
An inline declaration <a href="javascript:call_link('abendata_inline.html')" class="blue"><span class="qtext">DATA(var)</span></a>, where a variable that matches the operand type is declared. <br><br>
<br></li>
</ul>
<A NAME="@@MESSAGE@@GENERATE SUBROUTINE POOL@@"></A>
<p><span class="h3">
<A NAME="!ABAP_ADDITION_1@1@"></A> <span class="bold">Addition 1</span>
</span></p>
<P>
<span class="qtext">... MESSAGE mess</span>   <br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<P>
If the subroutine pool contains one or more syntax errors, the text of the error message for the first syntax error is assigned to the variable <span class="qtext">mess</span>. A character-like variable or an
<a href="javascript:call_link('abendata_inline.html')" class="blue">inline declaration</a> that creates a variable of type <span class="qtext">string</span> can both be specified for <span class="qtext">mess</span>.
</P>
<P>
If a generation error occurs (see the addition <span class="qtext">SHORTDUMP-ID</span>), <span class="qtext">mess</span>
is also populated with the corresponding error message. If the subroutine pool can be generated, the content of <span class="qtext">mess</span> remains unchanged. <br><br>
</P>
<A NAME="@@INCLUDE@@GENERATE SUBROUTINE POOL@@"></A>
<p><span class="h3">
<A NAME="!ABAP_ADDITION_2@2@"></A> <span class="bold">Addition 2</span>
</span></p>
<P>
<span class="qtext">... INCLUDE incl</span>   <br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<P>
If one or more include programs are included in the subroutine pool and one of these contains the first
syntax error of the subroutine pool, the name of this include program is assigned to the variable <span class="qtext">incl</span>. A character-like variable or an
<a href="javascript:call_link('abendata_inline.html')" class="blue">inline declaration</a> that creates a variable of type <span class="qtext">PROGNAME</span> can both be specified for <span class="lnkgrey">incl</span>.
</P>
<P>
If the first syntax error in the source code occurs in <span class="qtext">itab</span>, <span class="qtext">incl</span>
is assigned the internal name that would have been returned if generation in <span class="qtext">prog</span> had been successful. This name always begins with "%_".
</P>
<P>
If a generation error occurs (see the addition <span class="qtext">SHORTDUMP-ID</span>), <span class="qtext">incl</span> is also populated with the name of the corresponding
<a href="javascript:call_link('abeninclude_program_glosry.html')" class="grey" title="Glossary Entry">include program</a>. If the subroutine pool can be generated, the content of <span class="qtext">incl</span> is not changed. <br><br>
</P>
<A NAME="@@LINE@@GENERATE SUBROUTINE POOL@@"></A>
<p><span class="h3">
<A NAME="!ABAP_ADDITION_3@3@"></A> <span class="bold">Addition 3</span>
</span></p>
<P>
<span class="qtext">... LINE lin</span>   <br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<P>
If the subroutine pool contains one or more syntax errors, the line number of the first syntax error,
with reference to the program in which it occurs (either the source code in <span class="qtext">itab</span>
or an integrated include program), is assigned to the variable <span class="qtext">lin</span>. A variable of type <span class="qtext">i</span> or an
<a href="javascript:call_link('abendata_inline.html')" class="blue">inline declaration</a> that creates a variable of this type can both be specified for <span class="qtext">lin</span>.
</P>
<P>
If a generation error occurs (see the addition <span class="qtext">SHORTDUMP-ID</span>),
 <span class="qtext">lin</span> is also populated with the corresponding line number. If the subroutine pool can be generated, the content of <span class="qtext">lin</span> is not changed. <br><br>
</P>
<A NAME="@@WORD@@GENERATE SUBROUTINE POOL@@"></A>
<p><span class="h3">
<A NAME="!ABAP_ADDITION_4@4@"></A> <span class="bold">Addition 4</span>
</span></p>
<P>
<span class="qtext">... WORD wrd</span>   <br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<P>
If the subroutine pool contains one or more syntax errors, the first token with an error is assigned to the variable <span class="qtext">wrd</span>. A character-like variable or an
<a href="javascript:call_link('abendata_inline.html')" class="blue">inline declaration</a> that creates a variable of type <span class="qtext">string</span> can both be specified for <span class="qtext">wrd</span>.
</P>
<P>
If a generation error occurs (see the addition <span class="qtext">SHORTDUMP-ID</span>), <span class="qtext">wrd</span>
is also populated with the corresponding token. If the subroutine pool can be generated, the content of <span class="qtext">wrd</span> is not changed. <br><br>
</P>
<A NAME="@@OFFSET@@GENERATE SUBROUTINE POOL@@"></A>
<p><span class="h3">
<A NAME="!ABAP_ADDITION_5@5@"></A> <span class="bold">Addition 5</span>
</span></p>
<P>
<span class="qtext">... OFFSET off</span>   <br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<P>
If the subroutine pool contains one or more syntax errors, the offset of the first token with errors,
with reference to the line in the source code, is assigned to the variable <span class="qtext">off</span>. A variable of type <span class="qtext">i</span> or an
<a href="javascript:call_link('abendata_inline.html')" class="blue">inline declaration</a> that creates a variable of this type can both be specified for <span class="qtext">off</span>.
</P>
<P>
If a generation error occurs (see the addition <span class="qtext">SHORTDUMP-ID</span>), <span class="qtext">off</span>
is also populated with the corresponding offset. If the subroutine pool can be generated, the content of <span class="qtext">off</span> is not changed. <br><br>
</P>
<A NAME="@@MESSAGE-ID@@GENERATE SUBROUTINE POOL@@"></A>
<p><span class="h3">
<A NAME="!ABAP_ADDITION_6@6@"></A> <span class="bold">Addition 6</span>
</span></p>
<P>
<span class="qtext">... MESSAGE-ID mid</span>   <br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<P>
If the subroutine pool contains one or more syntax errors, the key under which the first error message
is stored in the database table <span class="lnkgrey">TRMSG</span> is assigned to the variable <span class="qtext">mid</span>.
</P>
<P>
If a generation error occurs (see the addition <span class="qtext">SHORTDUMP-ID</span>), <span class="qtext">mid</span>
is also populated with the corresponding key. If the subroutine pool can be generated, the content of <span class="qtext">mid</span> is not changed.
</P>
<P>
The key of the database table TRMSG is made up of the components SPRAS of length 1, KEYWORD of length
20, and MSGNUMBER of length 4. The component MSGNUMBER is used for a three-character ID. The fourth
position can contain a blank character or a letter. For error messages with multiple parts that fill
more than one row in the database table TRMSG, all parts have the same three-character ID. The fourth character indicates the part of the message.
</P>
<P>
The data object <span class="qtext">mid</span> must have the data type <span class="lnkgrey">TRMSG_KEY</span>
from ABAP Dictionary, constructed from the components SPRAS with length 1, KEYWORD with length 20, and MSGNUMBER with length 3. An
<a href="javascript:call_link('abendata_inline.html')" class="blue">inline declaration</a> creates a structure like this. <br><br>
</P>
<p><span class="h4">
Note
</span></p>
<P>
The return value in <span class="qtext">mid</span> only contains the three-character ID of a syntax
error message. For example, to use <span class="qtext">SELECT</span> to read all parts of an error message
from table TRMSG, the key component MSGNUMBER must be specified generically in the <a href="javascript:call_link('abenwhere_logexp.html')" class="blue">
<span class="qtext">WHERE</span> condition</a>, for example, by using <span class="qtext">LIKE</span> and the wildcard character "%". <br><br>
</P>
<A NAME="@@SHORTDUMP-ID@@GENERATE SUBROUTINE POOL@@"></A>
<p><span class="h3">
<A NAME="!ABAP_ADDITION_7@7@"></A> <span class="bold">Addition 7</span>
</span></p>
<P>
<span class="qtext">... SHORTDUMP-ID sid</span>   <br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<P>
If the subroutine pool does not contain any statically known syntax errors, but an exception is raised
during generation, the ID of the runtime error that is assigned to the exception is assigned to the variable <span class="qtext">sid</span>. A character-like variable or an
<a href="javascript:call_link('abendata_inline.html')" class="blue">inline declaration</a> that creates a variable of type <span class="qtext">string</span> can both be specified for <span class="qtext">sid</span>.
</P>
<P>
If the subroutine pool can be generated, the content of <span class="qtext">sid</span> is not changed. <br><br>
</P>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>
An exception during generation interrupts the generation, but does not terminate the program. The runtime error is handled internally, but still causes a
<a href="javascript:call_link('abendatabase_commit_glosry.html')" class="grey" title="Glossary Entry">database rollback</a> and the <a href="javascript:call_link('abenshort_dump_glosry.html')" class="grey" title="Glossary Entry">short dump</a> to be saved.
<br><br></li>
<li>
The IDs of runtime errors are contained in the key column ERRID of the database table <span class="lnkgrey">SNAPT</span>. Texts are assigned to the errors here. <br><br>
<br></li>
</ul>
<p><span class="h4">
Example
</span></p>
<p>
Detects and displays any syntax and generation errors that occur when a subroutine pool with errors is generated.
</p>
<p class="qtextml1">
<span class="qtext">
DATA tab TYPE STANDARD TABLE OF string WITH EMPTY KEY. <br> <br>tab = VALUE #( <br>&nbsp;&nbsp;( `PROGRAM subpool.`&nbsp;&nbsp;&nbsp;&nbsp; ) <br>
&nbsp;&nbsp;( `FRM form.`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) <br>
&nbsp;&nbsp;( ` ...`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ) <br>
&nbsp;&nbsp;( `ENDFORM.`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ) ). <br>
 <br>GENERATE SUBROUTINE POOL tab NAME DATA(prog) <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MESSAGE
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DATA(mess) <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; INCLUDE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DATA(incl) <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; LINE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DATA(line) <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; WORD&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DATA(wrd) <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; OFFSET&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DATA(off) <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MESSAGE-ID&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DATA(mid) <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SHORTDUMP-ID&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DATA(sid). <br>
 <br>cl_demo_output=>display( <br>&nbsp;&nbsp;|MESSAGE:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ mess }\n| &amp;&amp; <br>
&nbsp;&nbsp;|INCLUDE:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ incl }\n| &amp;&amp; <br>&nbsp;&nbsp;|LINE:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { line }\n| &amp;&amp; <br>
&nbsp;&nbsp;|WORD:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { wrd&nbsp;&nbsp;}\n| &amp;&amp; <br>
&nbsp;&nbsp;|OFFSET:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { off&nbsp;&nbsp;}\n| &amp;&amp; <br>&nbsp;&nbsp;|MESSAGE-ID:&nbsp;&nbsp; { CONV string( mid ) }\n| &amp;&amp; <br>&nbsp;&nbsp;|SHORTDUMP-ID: { sid }| ). <br><br>
</span>
</p>
<br>
<br>
<br>
<br>
</DIV>
<fieldset style="opacity:0">
<input id="url" type="text" />
</fieldset>
</BODY>

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abapgenerate_subr_error_handling.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:51:53 GMT -->
</html>

<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="EN">
<!-- ABENNEW_CONSTRUCTOR_PARAMS_STRUCT -->

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abennew_constructor_params_struct.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:51:36 GMT -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="author" content="SAP">
<meta name="description" content="NEW - Structures">
<title>
NEW - Structures - ABAP Keyword Documentation
</title>
<link rel="icon" href="ABAPIcon.ico" type="image/ico">
<link rel="shortcut icon" href="ABAPIcon.ico">
<LINK rel="stylesheet" href="abap_docu.css" type="text/css">
<script language="javascript" type="text/javascript" src="functions.js"></script>
<script type="text/JavaScript">
function urlToClipboard(id){
 try{ var loc = top.location.href;}
 catch(e){ alert( "URL cannnot be determined" ); return; }
 var field = document.getElementById(id);
 field.focus();
 if ( loc.search( ".htm" ) == -1 && loc.search( ".HTM" ) == -1  ){ loc = loc + "index.htm"; }
 if (   loc.search( "index.html" ) != -1
     || loc.search( "INDEX-2.html" ) != -1 ){
   var off = loc.search( "file=" );
   if ( off == -1  ){
     field.value = loc + "?file=abennew_constructor_params_struct.htm"; }
   else {
     field.value = loc.substring( 0, off ) + "file=abennew_constructor_params_struct.htm";
   }
 }
 else {
    field.value = loc; }
 field.setSelectionRange(0, field.value.length);
 var r = confirm( "Copy URL to clipboard?\n\n" + field.value + "\n\nCopy to clipboard does not work in all browsers." );
 if (r == true) {
   try{
     document.execCommand("copy");
   }
     catch(e){ alert( "URL could not be copied to clipboard" ); }
 }
 window.scrollTo(0,0);
}
</script>
</head>
<body>
<div class="all">
<div style="float:right;">
<input type="button" value="URL"
style="font-size:10px; width:30px; height:18px; padding:0; "
onclick="urlToClipboard('url')" title="Copy URL to Clipboard" ></div>
<p>
<input name="query" id="query" value="" type="text" title="Suchbegriff" size="30" maxlength="30" onkeyup="getInput()">&nbsp;
<input type="button" value="Search"
style="font-size:12px; width:50px; height:18px; padding:0"
onclick="call_search('search.html')" title="Search in ABAP Keyword Documentation" >
<hr style="width:100%;height:1px"></p>
<p class="copyright">AS ABAP Release 754, &copy;Copyright 2019 SAP SE. All rights reserved.</p>
<span class="path">
<a href="javascript:call_link('abenabap.html')" class="blue">ABAP Keyword Documentation</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_reference.html')" class="blue">ABAP &#x2212; Reference</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abencreate_objects.html')" class="blue">Creating Objects and Values</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenconstructor_expression_new.html')" class="blue">NEW - Instance Operator</a>&nbsp;&rarr;&nbsp;
</span>
<A NAME="@@BASE@@NEW struct@@"></A>
<p><span class="h1">
NEW - Structures
</span></p>
<A name="@@ITOC@@ABENNEW_CONSTRUCTOR_PARAMS_STRUCT_1"></A>
<p><span class="h2">
Syntax
</span></p>
<p>
<span class="qtext">... NEW dtype<i class=bn>|</i>#( <i class=bn>[</i><a href="javascript:call_link('abaplet.html')" class="blue">let_exp</a><i class=bn>]</i> <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <i class=bn>[</i>BASE dobj<i class=bn>]</i> <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; comp1 = dobj1 comp2 = dobj2 ... ) ...</span>
</p>
<p><span class="h4">
Effect
</span></p>
<p>
If <span class="qtext">dtype</span> is a structured data type or <span class="qtext">#</span> stands
for a type like this, the individual components can be specified as named arguments <span class="qtext">comp1</span>,
<span class="qtext">comp2</span>, ... Each component of the new anonymous data object can be assigned
a data object with the same data type as the component (or whose data type can be converted to this data type). This assignment is made for all data types in accordance with the appropriate
<a href="javascript:call_link('abenconversion_rules.html')" class="blue">assignment rules</a>.
</p>
<p>
An addition <span class="qtext">BASE</span> can be specified in front of the individual component assignments, followed by a data object <span class="qtext">dobj</span>. <span class="qtext">dobj</span> is a
<a href="javascript:call_link('abenfunctional_position_glosry.html')" class="grey" title="Glossary Entry">functional operand
position</a>. The type of <span class="qtext">dobj</span> must be convertible to the type of the anonymous
data object. If <span class="qtext">BASE</span> is specified, the content of <span class="qtext">dobj</span>
is assigned to the anonymous data object before the individual components are assigned. If the character
<span class="qtext">#</span> is specified for the type of the anonymous data object and the type is
not known from the operand position of the <span class="qtext">VALUE</span> expression, the type of <span class="qtext">dobj</span> is used for this expression (if known and structured).
</p>
<p>
<span class="qtext">dobj1</span>, <span class="qtext">dobj2</span>, ... are
<a href="javascript:call_link('abengeneral_expr_position_glosry.html')" class="grey" title="Glossary Entry">general expression
positions</a>. An optional <span class="qtext">LET</span> expression <a href="javascript:call_link('abaplet.html')" class="blue"><span class="qtext">
let_exp</span></a> can be specified in front of the assignments to define local helper fields that can be used on the right side of the assignments.
</p>
<p>
If a component is structured itself, either a suitable data object can be assigned to the entire substructure or its components can be specified using the structure component selector
(<span class="qtext">-</span>). Non-specified components are ignored and keep their type-specific initial
value or the value assigned using <span class="qtext">BASE</span>. It is not possible to assign multiple
values to a component, regardless of how the component is addressed. If the addition <span class="qtext">BASE</span> is used, at least one component must be specified.
</p>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>The assignments can be specified in any order within the parentheses.</li>
</ul>
<ul class="disc">
<li>If a component with a complex data type is constructed in an argument position, the value operator
<a href="javascript:call_link('abenconstructor_expression_value.html')" class="blue"><span class="qtext">VALUE</span></a> can
be used. This affects tabular components, for example. This is also possible for structured components but is not necessary since the subcomponents can be addressed using the structure component selector.</li>
</ul>
<ul class="disc">
<li>When a constructor expression is assigned to a reference variable using <span class="qtext">NEW</span>,
the original reference is made available in the entire expression in the target variable. The target
variable is not overwritten until the expression is closed. In the case of the value operator <a href="javascript:call_link('abenvalue_constructor_params_struc.html')" class="blue">
<span class="qtext">VALUE</span></a>, however, the target variable can only be assigned to a helper variable using <span class="qtext">LET</span> and is then no longer available.</li>
</ul>
<p><span class="h4">
Example
</span></p>
<p>
Constructs an anonymous data object with a nested structure type and tabular components. The subcomponents
of <span class="qtext">col2</span> are addressed directly using the structure component selector. <a href="javascript:call_link('abenconstructor_expression_value.html')" class="blue">
<span class="qtext">VALUE</span></a> must be used to construct the tabular component <span class="qtext">col3</span>. This is because the
<a href="javascript:call_link('abennew_constructor_params_itab.html')" class="blue">syntax</a> used to construct internal tables cannot be specified directly as an argument.
</p>
<p class="qtextml1">
<span class="qtext">
TYPES: t_itab TYPE TABLE OF i WITH EMPTY KEY, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; BEGIN OF t_struct, <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; col1 TYPE i, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; BEGIN OF col2, <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; col1 TYPE i, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; col2 TYPE t_itab, <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; END OF col2, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; col3 TYPE t_itab, <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; END OF t_struct. <br> <br>DATA itab TYPE t_itab. <br> <br>DATA dref TYPE REF TO data. <br>
 <br>dref = NEW t_struct( col1 = 1 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; col2-col1 = 2 <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; col2-col2 = itab <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; col3 = VALUE #( ( 1 ) <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 2 ) <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 3 ) ) ).
</span>
</p>
<p><span class="h4">
Example
</span></p>
<p>
Uses <span class="qtext">BASE</span>. The type of the return value of <span class="qtext">base1</span>
is applied in the construction of <span class="qtext">ref1</span>. This is not possible in the construction
of <span class="qtext">ref2</span>, since <span class="qtext">base2</span> is not structured. In both
results, <span class="qtext">col1</span> and <span class="qtext">col3</span> have the values <span class="qtext400">xx</span>
or <span class="qtext400">zz</span> assigned using <span class="qtext">BASE</span>, whereas <span class="qtext">col2</span> has the directly assigned value <span class="qtext400">BB</span>.
</p>
<p class="qtextml1">
<span class="qtext">
TYPES: <br>&nbsp;&nbsp;BEGIN OF struct, <br>&nbsp;&nbsp;&nbsp;&nbsp;col1 TYPE c LENGTH 2, <br>&nbsp;&nbsp;&nbsp;&nbsp;col2 TYPE c LENGTH 2, <br>
&nbsp;&nbsp;&nbsp;&nbsp;col3 TYPE c LENGTH 2, <br>&nbsp;&nbsp;END OF struct. <br> <br>DATA(base1)&nbsp;&nbsp; = VALUE struct( col1 = 'xx' col2 = 'yy' col3 = 'zz' ). <br>
DATA(ref1)&nbsp;&nbsp;= NEW #( BASE base1 col2 = 'BB' ). <br> <br>DATA(base2)&nbsp;&nbsp; = `xxyyzz`. <br>
DATA(ref2)&nbsp;&nbsp;= NEW struct( BASE base2 col2 = 'BB' ). <br> <br>cl_demo_output=>write(&nbsp;&nbsp; ref1->* ). <br>cl_demo_output=>display( ref2->* ).
</span>
</p>
<p><span class="h4">
Example
</span></p>
<p>
See also the examples for the value operator <a href="javascript:call_link('abenvalue_constructor_params_struc.html')" class="blue"> <span class="qtext">VALUE</span></a>.
</p>
<br>
<br>
<br>
<br>
</DIV>
<fieldset style="opacity:0">
<input id="url" type="text" />
</fieldset>
</BODY>

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abennew_constructor_params_struct.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:51:36 GMT -->
</html>

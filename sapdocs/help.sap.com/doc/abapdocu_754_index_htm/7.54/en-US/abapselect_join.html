<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="EN">
<!-- ABAPSELECT_JOIN -->

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abapselect_join.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:51:34 GMT -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="author" content="SAP">
<meta name="description" content="SELECT - FROM JOIN">
<meta name="keywords" content="ABAP, Inner Join, Outer Join">
<title>
SELECT - FROM JOIN - ABAP Keyword Documentation
</title>
<link rel="icon" href="ABAPIcon.ico" type="image/ico">
<link rel="shortcut icon" href="ABAPIcon.ico">
<LINK rel="stylesheet" href="abap_docu.css" type="text/css">
<script language="javascript" type="text/javascript" src="functions.js"></script>
<script type="text/JavaScript">
function urlToClipboard(id){
 try{ var loc = top.location.href;}
 catch(e){ alert( "URL cannnot be determined" ); return; }
 var field = document.getElementById(id);
 field.focus();
 if ( loc.search( ".htm" ) == -1 && loc.search( ".HTM" ) == -1  ){ loc = loc + "index.htm"; }
 if (   loc.search( "index.html" ) != -1
     || loc.search( "INDEX-2.html" ) != -1 ){
   var off = loc.search( "file=" );
   if ( off == -1  ){
     field.value = loc + "?file=abapselect_join.htm"; }
   else {
     field.value = loc.substring( 0, off ) + "file=abapselect_join.htm";
   }
 }
 else {
    field.value = loc; }
 field.setSelectionRange(0, field.value.length);
 var r = confirm( "Copy URL to clipboard?\n\n" + field.value + "\n\nCopy to clipboard does not work in all browsers." );
 if (r == true) {
   try{
     document.execCommand("copy");
   }
     catch(e){ alert( "URL could not be copied to clipboard" ); }
 }
 window.scrollTo(0,0);
}
</script>
</head>
<body>
<div class="all">
<div style="float:right;">
<input type="button" value="URL"
style="font-size:10px; width:30px; height:18px; padding:0; "
onclick="urlToClipboard('url')" title="Copy URL to Clipboard" ></div>
<p>
<input name="query" id="query" value="" type="text" title="Suchbegriff" size="30" maxlength="30" onkeyup="getInput()">&nbsp;
<input type="button" value="Search"
style="font-size:12px; width:50px; height:18px; padding:0"
onclick="call_search('search.html')" title="Search in ABAP Keyword Documentation" >
<hr style="width:100%;height:1px"></p>
<p class="copyright">AS ABAP Release 754, &copy;Copyright 2019 SAP SE. All rights reserved.</p>
<span class="path">
<a href="javascript:call_link('abenabap.html')" class="blue">ABAP Keyword Documentation</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_reference.html')" class="blue">ABAP &#x2212; Reference</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_language_external_data.html')" class="blue">Processing External Data</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_sql.html')" class="blue">ABAP Database Access</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenopensql.html')" class="blue">ABAP SQL</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenopen_sql_reading.html')" class="blue">ABAP SQL - Reads</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenselect_clauses.html')" class="blue">SELECT clauses</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abapfrom_clause.html')" class="blue">SELECT - FROM</a>&nbsp;&rarr;&nbsp;
</span>
<A NAME="@@JOIN@@SELECT FROM@@"></A>
<A NAME="@@INNER JOIN@@SELECT FROM@@"></A>
<A NAME="@@LEFT OUTER JOIN@@SELECT FROM@@"></A>
<A NAME="@@RIGHT OUTER JOIN@@SELECT FROM@@"></A>
<A NAME="@@CROSS JOIN@@SELECT FROM@@"></A>
<A NAME="@@AS@@SELECT JOIN@@"></A>
<A NAME="@@ON@@SELECT JOIN@@"></A>
<A NAME="@@MANY TO ONE@@SELECT JOIN@@"></A>
<p><span class="h1">
SELECT - FROM JOIN <br><br>
</span></p>
<P>
<a href="javascript:call_link('abapselect_shortref.html')" class="blue">Quick Reference</a> <br><br>
</P>
<p><span class="h2">
<span class="bold">Syntax</span>
</span></p>
<P>
<span class="qtext">... <i class=bn>[</i>(<i class=bn>]</i> <i class=bn>{</i>
<a href="javascript:call_link('abapselect_data_source.html')" class="blue">data_source</a> <i class=bn>[</i>AS tabalias<i class=bn>]</i><i class=bn>}</i><i class=bn>|</i>join <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<i class=bn>{</i><i class=bn>[</i>INNER<i
class=bn>]</i> JOIN<i class=bn>}</i><i class=bn>|</i><i class=bn>{</i>LEFT<i class=bn>|</i>RIGHT <i
class=bn>[</i>OUTER <i class=bn>[</i>MANY TO ONE<i class=bn>]</i><i class=bn>]</i> JOIN<i class=bn>}</i><i class=bn>|</i><i class=bn>{</i>CROSS JOIN<i class=bn>}</i> <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <i class=bn>{</i>
<a href="javascript:call_link('abapselect_data_source.html')" class="blue">data_source</a> <i class=bn>[</i>AS tabalias<i class=bn>]</i><i class=bn>}</i><i class=bn>|</i>join <i class=bn>[</i>ON
<a href="javascript:call_link('abenwhere_logexp.html')" class="blue">sql_cond</a><i class=bn>]</i> <i class=bn>[</i>)<i class=bn>]</i> ... .</span> <br><br>
</P>
<p><span class="h3">
Extras:
</span></p>
<P>
   <A HREF="#!ABAP_ADDITION_1@1@" class="blue"> 1. <span class="qtext">... ON sql_cond</span> </A> <br><br><A HREF="#!ABAP_ADDITION_2@2@" class="blue"> 2. <span class="qtext">... MANY TO ONE</span> </A> <br><br>
</P>
<p><span class="h4">
Effect
</span></p>
<P>
Joins the columns of two or more <a href="javascript:call_link('abapselect_data_source.html')" class="blue">data sources</a> in a results set of a
<a href="javascript:call_link('abenquery_glosry.html')" class="grey" title="Glossary Entry">query</a> in a join expression. A join expression joins a left side with a right side, using
</P>
<ul class="disc">
<li>
<span class="qtext"><i class=bn>[</i>INNER<i class=bn>]</i> JOIN</span> (inner join)
<br><br></li>
<li>
<span class="qtext">LEFT<i class=bn>|</i>RIGHT <i class=bn>[</i>OUTER<i class=bn>]</i> JOIN</span> (outer join)
<br><br></li>
<li>
<span class="qtext">CROSS JOIN</span> (cross join)
<br></li>
</ul>
<P>
Every join expression for an inner or outer join must contain a join condition <a href="javascript:call_link('abenwhere_logexp.html')" class="blue">
<span class="qtext">sql_cond</span></a> after <span class="qtext">ON</span> (see below). A join expression for a cross join cannot contain any join conditions.
</P>
<P>
The following applies to entries specified on the left side and on the right side:
</P>
<ul class="disc">
<li>
<a href="javascript:call_link('abapselect_data_source.html')" class="blue"><span class="qtext">data_source</span></a> is a single data source. Database tables must be
<a href="javascript:call_link('abentransparent_table_glosry.html')" class="grey" title="Glossary Entry">transparent</a>. As when
specified as a single source after <a href="javascript:call_link('abapfrom_clause.html')" class="blue"><span class="qtext">FROM</span></a>
using <span class="qtext">AS</span>, an alias name can be specified for the data source. A data source can exist more than once within a join expression, and can have various alternative names.
<br><br></li>
<li>
A join expression can be specified for <span class="qtext">join</span> on both sides. A join expression
can therefore be nested recursively. The number of data sources linked to each other is limited. The
maximum number is set to allow the <span class="qtext">SELECT</span> statement to be executed on all
supported database systems and is currently set to 50. More than 49 joins, if known statically, produce a syntax error. If they are not known statically, they produce a runtime error.
<br></li>
</ul>
<P>
The priority in which nested join expressions are evaluated is specified as follows:
</P>
<ul class="disc">
<li>
For inner and outer joins, the priority is determined by the position of the <span class="qtext">ON</span>
conditions. From left to right, each <span class="qtext">ON</span> condition is assigned to the directly
preceding <span class="qtext">JOIN</span> and creates a join expression. Join expressions of this type can be enclosed in parentheses, <span class="qtext">(
)</span>. This is optional. Explicitly specified parentheses must match the parentheses specified implicitly by the <span class="qtext">ON</span> conditions.
<br><br></li>
<li>
By default, cross joins are evaluated from left to right. The priority of the evaluation can be influenced by parentheses <span class="qtext">( )</span>.
<br></li>
</ul>
<ul class="circlem2">
<li>If multiple cross joins are combined, the order of the evaluation is irrelevant. The result is always the same and the number of rows is the product of the number of rows of all involved data sources.</li>
</ul>
<ul class="circlem2">
<li>If cross joins are combined with inner and outer joins, the result can depend on the order of evaluation or the parentheses. <br><br></li>
</ul>
<P>
<span class="bold">Results set for inner joins</span>
</P>
<P>
In a single results set, an inner join joins the columns of the rows in the results set of the left
side with the columns of the rows in the results set of the right side. This results set contains all
combinations of rows for whose columns the join condition <a href="javascript:call_link('abenwhere_logexp.html')" class="blue"><span class="qtext">
sql_cond</span></a> is jointly true. If there are no rows in the results set of the left and right sides that meet <span class="qtext">sql_cond</span>, a row is not created in the resulting results set. <br><br>
</P>
<P>
<span class="bold">Results set for outer joins</span>
</P>
<P>
The outer join creates the same results set as the inner join. The difference is that, for each selected
row on the left side as <span class="qtext">LEFT OUTER JOIN</span> or on the right side as <span class="qtext">RIGHT
OUTER JOIN</span>, at least one row is created in the results set, even if no rows on the other side
meet the condition <span class="qtext">sql_cond</span>. The columns on the other side that do not meet the condition <a href="javascript:call_link('abenwhere_logexp.html')" class="blue"><span class="qtext">sql_cond</span></a> are filled with
<a href="javascript:call_link('abennull_value_glosry.html')" class="grey" title="Glossary Entry">null values</a>. <br><br>
</P>
<P>
<span class="bold">Results set for cross join</span>
</P>
<P>
The cross join forms a cross product of the results set of the left side and the results set of the
right side. The cross join joins the columns of the rows in the results set of the left side with the
columns of the rows in the results set of the right side. This results set contains all possible combinations
of rows. The number of rows in the results set of the cross join is the product of the number of rows of both joined results sets.
</P>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>
Certain restrictions apply to other clauses in the current <span class="qtext">SELECT</span> statement
when join expressions are used. For example, a join expression cannot be used together with the addition
<a href="javascript:call_link('abaporderby_clause.html')" class="blue"><span class="qtext">ORDER BY PRIMARY KEY</span></a>. These restrictions are documented in the clauses in question.
<br><br></li>
<li>
A <span class="qtext">WHERE</span> condition for a <span class="qtext">SELECT</span> statement with joins is applied to the results set created using the joins.
<br><br></li>
<li>
An inner join or a cross join between two individual data sources is commutative. If the left and right side are switched, the result remains the same.
<br><br></li>
<li>
A cross join behaves like an inner or outer join whose <span class="qtext">ON</span> condition is always
true. A cross join with a <span class="qtext">WHERE</span> condition has the same result as an inner
join with an identical <span class="qtext">ON</span> condition. Unlike the inner join, in a cross join
all data is read first before the condition is evaluated. In an inner join only data that meets the <span class="qtext">ON</span> condition is read.
<br><br></li>
<li>
A cross join should only be used with extreme caution. Since it is not possible to specify an <span class="qtext">
ON</span> condition, all data of all involved data sources is read. In the case of very large datasets,
the results set (whose number of rows is always the product of the number of all rows of both data sources) can quickly become very large.
<br><br></li>
<li>
A cross join of two client-specific data sources is converted internally to an inner join, whose <span class="qtext">
ON</span> condition checks whether the client columns of the left and right side are equal. If one side is not client-specific, the cross join is executed completely.
<br><br></li>
<li>
If the same column name appears in multiple data sources of a single join expression, these sources must be identified in all other additions of the <span class="qtext">SELECT</span> statement using the
<a href="javascript:call_link('abentable_comp_selector_glosry.html')" class="grey" title="Glossary Entry">column selector</a> <span class="qtext">~</span>.
<br><br></li>
<li>
Join expressions bypass <a href="javascript:call_link('abensap_buffering_glosry.html')" class="grey" title="Glossary Entry">table
buffering</a>, which is why they should not be applied to buffered tables. Instead it may be a good
idea in these cases to use the addition <a href="javascript:call_link('abenwhere_logexp_itab.html')" class="blue"><span class="qtext">FOR ALL ENTRIES</span></a>, which can access the
<a href="javascript:call_link('abentable_buffer_glosry.html')" class="grey" title="Glossary Entry">table buffer</a>.
<br><br></li>
<li>
If columns from the right side are specified as <span class="qtext">LEFT OUTER JOIN</span> or columns
from the left side are specified as <span class="qtext">RIGHT OUTER JOIN</span>, after the addition
<a href="javascript:call_link('abaporderby_clause.html')" class="blue"><span class="qtext">ORDER BY</span></a>, the sort order (in the case of null values) can depend on the database system.
<br><br></li>
<li>
The function <a href="javascript:call_link('abensql_coalesce.html')" class="blue"><span class="qtext">coalesce</span></a> can be used to replace zero values created due to an external join with other values or the result of expressions.
<br><br></li>
<li>
The syntax check is performed in <a href="javascript:call_link('abenopensql_strict_mode_740_sp05.html')" class="blue">strict mode for Release 7.40, SP05</a> in the following cases:
<br></li>
</ul>
<ul class="circlem2">
<li>Not all comparisons of an <span class="qtext">ON</span> condition contain a column from a data source specified on the right side as an operand.</li>
</ul>
<ul class="circlem2">
<li>Multiple consecutive joins are explicitly parenthesized so that a join expression (and not a data source) is on the right side of a join expression.</li>
</ul>
<ul class="circlem2">
<li><span class="qtext">RIGHT OUTER JOIN</span> is used.</li>
</ul>
<ul class="circlem2">
<li>In <span class="qtext">LEFT OUTER JOIN</span>, fields from the right side of the <span class="qtext">WHERE</span>
condition of the current <span class="qtext">SELECT</span> statement are specified. In <span class="qtext">RIGHT OUTER JOIN</span>, fields from the left side are specified.</li>
</ul>
<ul class="disc">
<li>
The syntax check is performed in <a href="javascript:call_link('abenopensql_strict_mode_740_sp08.html')" class="blue">strict mode for Release 7.40, SP08</a> in the following cases:
<br></li>
</ul>
<ul class="circlem2">
<li>Use of the additions <span class="qtext">LIKE</span>, <span class="qtext">IN</span>, and <span class="qtext">NOT</span>
plus the operators <span class="qtext">OR</span> or <span class="qtext">NOT</span> in an <span class="qtext">ON</span> condition.</li>
</ul>
<ul class="circlem2">
<li>Outer join without a comparison between columns on the left and right sides.</li>
</ul>
<ul class="disc">
<li>
The syntax check is performed in <a href="javascript:call_link('abenopensql_strict_mode_751.html')" class="blue">strict mode for Release 7.51</a> in the following cases:
<br></li>
</ul>
<ul class="circlem2">
<li>Uses <span class="qtext">CROSS JOIN</span>.</li>
</ul>
<p><span class="h4">
Example
</span></p>
<P>
Join of the columns <span class="qtext">carrname</span>, <span class="qtext">connid</span>, and <span class="qtext">
fldate</span> of the database tables <span class="qtext">scarr</span>, <span class="qtext">spfli</span>,
and <span class="qtext">sflight</span> using two inner joins. This creates a list of flights from <span class="qtext">cityfr</span> to <span class="qtext">cityto</span>. An alias name is assigned to each table.
</P>
<p class="qtextml1">
<span class="qtext">
DATA: <br>&nbsp;&nbsp;cityfr TYPE spfli-cityfrom VALUE 'FRANKFURT', <br>&nbsp;&nbsp;cityto TYPE spfli-cityto&nbsp;&nbsp; VALUE 'NEW YORK'. <br>
 <br>cl_demo_input=>new( <br>&nbsp;&nbsp;)->add_field( CHANGING field = cityfr <br>&nbsp;&nbsp;)->add_field( CHANGING field = cityto )->request( ). <br>
 <br>SELECT c~carrname, p~connid, f~fldate <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FROM ( ( scarr AS c <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; INNER JOIN spfli AS p ON p~carrid&nbsp;&nbsp; = c~carrid <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AND p~cityfrom = @cityfr <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AND p~cityto&nbsp;&nbsp; = @cityto ) <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; INNER JOIN sflight AS f ON f~carrid = p~carrid <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AND f~connid = p~connid ) <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ORDER BY c~carrname, p~connid, f~fldate <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; INTO TABLE @DATA(itab). <br><br>
</span>
</p>
<p><span class="h4">
Example
</span></p>
<P>
Joins the database tables <span class="qtext">scarr</span> and <span class="qtext">spfli</span> using
a left outer join. For all flights not departing from <span class="qtext">cityfr</span>, the value of
the column <span class="qtext">connid</span> is the null value. The <span class="qtext">WHERE</span> condition causes all airlines to be displayed that do not fly from <span class="qtext">cityfr</span>.
</P>
<p class="qtextml1">
<span class="qtext">
DATA cityfr TYPE spfli-cityfrom VALUE 'FRANKFURT'. <br>cl_demo_input=>request( CHANGING field = cityfr ). <br>
 <br>SELECT s~carrid, s~carrname <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FROM scarr AS s <br>&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp; LEFT OUTER JOIN spfli AS p ON s~carrid&nbsp;&nbsp; =&nbsp;&nbsp;p~carrid <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AND p~cityfrom = @cityfr <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; WHERE p~connid IS NULL <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ORDER BY s~carrid, s~carrname <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; INTO TABLE @DATA(itab). <br> <br>cl_demo_output=>display( itab ).
</span>
</p>
<p><span class="h4">
Example
</span></p>
<P>
Cross join of the table <span class="lnkgrey">T000</span> of all clients of an AS ABAP with the entries
for the message class SABAPDEMOS in the table <span class="lnkgrey">T100</span>. Without the <span class="qtext">WHERE</span> condition, the results set would be very large.
</P>
<p class="qtextml1">
<span class="qtext">
DATA BEGIN OF wa. <br>DATA mandt TYPE t000-mandt. <br>DATA mtext TYPE t000-mtext. <br>INCLUDE TYPE t100. <br>
DATA END OF wa. <br>DATA itab LIKE STANDARD TABLE OF wa WITH EMPTY KEY. <br> <br>SELECT t000~mandt, t000~mtext, t100~* <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FROM t000 CROSS JOIN t100 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; WHERE t100~arbgb = 'SABAPDEMOS' <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ORDER BY t000~mandt, t100~sprsl, t100~msgnr <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; INTO TABLE @itab. <br> <br>cl_demo_output=>display( itab ). <br><br>
</span>
</p>
<p><span class="h3">
<A NAME="!ABAP_ADDITION_1@1@"></A> <span class="bold">Addition 1</span>
</span></p>
<P>
<span class="qtext">... ON sql_cond</span>   <br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<P>
Join condition. A join condition must be specified for an inner or outer join. A join condition does not have to be specified for a cross join.
</P>
<P>
The syntax of the <a href="javascript:call_link('abenwhere_logexp.html')" class="blue">relational expressions</a> of a join condition
<a href="javascript:call_link('abenwhere_logexp.html')" class="blue"><span class="qtext">sql_cond</span></a> is subject to the following restrictions:
</P>
<ul class="disc">
<li>
After <span class="qtext">ON</span>, at least one comparison must be specified.
<br><br></li>
<li>
The expression <a href="javascript:call_link('abenwhere_logexp_seltab.html')" class="blue"><span class="qtext"><i class=bn>[</i>NOT<i class=bn>]</i> IN range_tab</span></a> cannot be used.
<br><br></li>
<li>
<a href="javascript:call_link('abensubquery_glosry.html')" class="grey" title="Glossary Entry">Subqueries</a> cannot be used.
<br><br></li>
<li>
<a href="javascript:call_link('abenopen_sql_path.html')" class="blue">Path expressions</a> cannot be used.
<br><br></li>
<li>
Within a <a href="javascript:call_link('abensubquery_glosry.html')" class="grey" title="Glossary Entry">subquery</a>, only columns of the
<a href="javascript:call_link('abapselect_data_source.html')" class="blue">data sources</a> of this subquery can be specified.
<br><br></li>
<li>
A dynamic condition <a href="javascript:call_link('abenwhere_logexp_dynamic.html')" class="blue"><span class="qtext">(cond_syntax)</span></a>
can be specified only if the <a href="javascript:call_link('abapfrom_clause.html')" class="blue"><span class="qtext">FROM</span> clause</a> is specified statically and is not specified dynamically as <span class="qtext">(source_syntax)</span>.
<br></li>
</ul>
<P>
A join condition is met if the logical expression <span class="qtext">sql_cond</span> is true.
</P>
<P>
<a href="javascript:call_link('abenopen_sql_client_handling.html')" class="blue">Implicit ABAP SQL client handling</a> applies.
In joins between client-specific tables, a comparison for equality between the client columns is added to the <span class="qtext">ON</span> condition implicitly. The
<a href="javascript:call_link('abenclient_column_glosry.html')" class="grey" title="Glossary Entry">client column</a> of a client-specific data source cannot be used as an operand in the <span class="qtext">ON</span> condition.
</P>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>
Comparisons between database columns or SQL expressions and database columns are performed on the database,
which means it is essential that appropriate join conditions are formulated only between operands of the same type and the same length. This avoids the need for platform-dependent conversions.
<br><br></li>
<li>
If the pattern consists of precisely one "%" character in a comparison using <a href="javascript:call_link('abenwhere_logexp_like.html')" class="blue">
<span class="qtext">LIKE</span></a>, the same optimization takes place as when using <span class="qtext">WHERE</span>.
The condition <span class="qtext">col LIKE '%'</span> is always true, even if the column <span class="qtext">col</span> contains <a href="javascript:call_link('abennull_value_glosry.html')" class="grey" title="Glossary Entry">null values</a>.
<br><br></li>
<li>
The <a href="javascript:call_link('abenclient_column_glosry.html')" class="grey" title="Glossary Entry">client column</a> of a client-specific data source can still be used in the <span class="qtext">ON</span> condition if implicit
<a href="javascript:call_link('abenclient_handling_glosry.html')" class="grey" title="Glossary Entry">client handling</a> is
disabled using the obsolete addition <a href="javascript:call_link('abapselect_client_obsolete.html')" class="blue"><span class="qtext">CLIENT SPECIFIED</span></a>.
<br><br></li>
<li>
If a <a href="javascript:call_link('abenopen_sql_host_expressions.html')" class="blue">host expression</a> occurs on the right side of the <span class="qtext">ON</span> condition, the syntax check is performed in a
<a href="javascript:call_link('abenopensql_strict_mode_750.html')" class="blue">strict mode from Release 7.50</a>, which handles the statement more strictly than the regular syntax check.
<br><br></li>
<li>
If one of the following two conditions apply:
<br></li>
</ul>
<ul class="circlem2">
<li><a href="javascript:call_link('abensql_expression_glosry.html')" class="grey" title="Glossary Entry">SQL expressions</a> are used on the left side of the <span class="qtext">ON</span> condition of any join.</li>
</ul>
<ul class="circlem2">
<li>The expression <a href="javascript:call_link('abenwhere_logexp_null.html')" class="blue"><span class="qtext">IS <i class=bn>[</i>NOT<i
class=bn>]</i> NULL</span></a> is used in the <span class="qtext">ON</span> condition of an outer join.</li>
</ul>
<dl>

<dd>
The syntax check is performed in a <a href="javascript:call_link('abenopensql_strict_mode_750.html')" class="blue">strict mode from Release 7.50</a>, which handles the statement more strictly than the regular syntax check. <br><br>
</dd>
</dl>
<p><span class="h4">
Executable Examples
</span></p>
<ul class="disc">
<li><a href="javascript:call_link('abenjoins_abexa.html')" class="blue">Inner, outer, and cross joins</a></li>
</ul>
<ul class="disc">
<li><a href="javascript:call_link('abenjoin_joins_abexa.html')" class="blue">Multiple Joins</a> <br><br></li>
</ul>
<p><span class="h3">
<A NAME="!ABAP_ADDITION_2@2@"></A> <span class="bold">Addition 2</span>
</span></p>
<P>
<span class="qtext">MANY TO ONE</span>   <br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<P>
Specifies the cardinality of a left outer join. This addition is positioned after <span class="qtext">LEFT
OUTER</span>, but is not possible after <span class="qtext">RIGHT OUTER</span>. Only certain specific database systems apply this addition.
</P>
<P>
If the addition <span class="qtext">MANY TO ONE</span> is specified, any databases that support this
addition assume that the results set defined by the left outer join matches this cardinality and SQL
Optimizer attempts to suppress any surplus joins. If the results set does not match the cardinality,
the result is undefined and may be dependent on the entries in the <a href="javascript:call_link('abapselect_list.html')" class="blue"><span class="qtext">SELECT</span> list</a>.
</P>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>
More information can be found in the documentation of the current database system. The
<a href="javascript:call_link('abenhana_database_glosry.html')" class="grey" title="Glossary Entry">SAP HANA database</a>, for example, supports the addition <span class="qtext">MANY TO ONE</span> and its description is part of the documentation of
<a href="https://help.sap.com/viewer/4fe29514fd584807ac9f2a04f6754767/2.0.03/en-US" target="blank" class="blue">HANA-specific SQL</a>.
<br><br></li>
<li>
To avoid undefined and platform-specific behavior, <span class="qtext">MANY TO ONE</span> can be specified only if the data being read meets the relevant prerequisites.
<br><br></li>
<li>
If <span class="qtext">MANY TO ONE</span> is specified, the syntax check is executed in <a href="javascript:call_link('abenopensql_strict_mode_752.html')" class="blue">strict mode as of release 7.52</a>.
<br></li>
</ul>
<p><span class="h4">
Example
</span></p>
<P>
Incorrect use of <span class="qtext">MANY TO ONE</span>. The data in the database tables <span class="lnkgrey">SCARR</span>
and <span class="lnkgrey">SPFLI</span> do not have the cardinality <span class="qtext">MANY TO ONE</span>
and have the reverse cardinality instead. On a SAP HANA database, for example, the result is dependent
on the <a href="javascript:call_link('abapselect_list.html')" class="blue"><span class="qtext">SELECT</span> list</a>. If the
left and right side are specified here, no optimization takes place. If no columns are specified on
the right side (and the aggregate function <a href="javascript:call_link('abensql_agg_func.html')" class="blue"><span class="qtext">COUNT(*)</span></a>
is used as an aggregate expression), an optimization takes place. Here, only that data is read that meets the prerequisite cardinality.
</P>
<p class="qtextml1">
<span class="qtext">
DATA(out) = cl_demo_output=>new( ). <br> <br>out->next_section( `Fields of left and right table` ). <br>
SELECT FROM scarr AS c <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LEFT OUTER MANY TO ONE JOIN spfli AS p <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ON c~carrid = p~carrid <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FIELDS c~carrid&nbsp;&nbsp; AS carrid, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c~carrname AS carrname, <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;p~connid&nbsp;&nbsp; AS connid <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ORDER BY c~carrid <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; INTO TABLE @DATA(itab). <br>
out->write( itab ). <br>out->write( sy-dbcnt ). <br> <br>out->next_section( `Fields of left table only` ). <br>
SELECT FROM scarr AS c <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LEFT OUTER MANY TO ONE JOIN spfli AS p <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ON c~carrid = p~carrid <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FIELDS c~carrid&nbsp;&nbsp; AS carrid, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c~carrname AS carrname <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ORDER BY c~carrid <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; INTO CORRESPONDING FIELDS OF TABLE @itab. <br>
out->write( itab ). <br>out->write( sy-dbcnt ). <br> <br>out->next_section( `COUNT(*)` ). <br>SELECT FROM scarr AS c <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LEFT OUTER MANY TO ONE JOIN spfli AS p <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ON c~carrid = p~carrid <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FIELDS COUNT( * ) AS count <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; INTO @DATA(count). <br>out->write( count ). <br> <br>out->display( ).
</span>
</p>
<br>
<br>
<!-- POSTFIX --><span class="h4">Continue</span><br>
<img src="exa.gif" alt="Example" title="Example">
<a href="javascript:call_link('abenjoins_abexa.html')" class="blue">Inner, Outer, and Cross Joins</a><br>
<img src="exa.gif" alt="Example" title="Example">
<a href="javascript:call_link('abenjoin_joins_abexa.html')" class="blue">Multiple Joins</a><br>
<br>
<br>
</DIV>
<fieldset style="opacity:0">
<input id="url" type="text" />
</fieldset>
</BODY>

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abapselect_join.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:51:34 GMT -->
</html>

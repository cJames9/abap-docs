<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="EN">
<!-- ABENCDS_F1_DEFINE_ANNOTATION -->

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abencds_f1_define_annotation.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:51:30 GMT -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="author" content="SAP">
<meta name="description" content="ABAP CDS - DEFINE ANNOTATION">
<meta name="keywords" content="ABAP, CDS, DEFINE ANNOTATION">
<title>
ABAP CDS - DEFINE ANNOTATION - ABAP Keyword Documentation
</title>
<link rel="icon" href="ABAPIcon.ico" type="image/ico">
<link rel="shortcut icon" href="ABAPIcon.ico">
<LINK rel="stylesheet" href="abap_docu.css" type="text/css">
<script language="javascript" type="text/javascript" src="functions.js"></script>
<script type="text/JavaScript">
function urlToClipboard(id){
 try{ var loc = top.location.href;}
 catch(e){ alert( "URL cannnot be determined" ); return; }
 var field = document.getElementById(id);
 field.focus();
 if ( loc.search( ".htm" ) == -1 && loc.search( ".HTM" ) == -1  ){ loc = loc + "index.htm"; }
 if (   loc.search( "index.html" ) != -1
     || loc.search( "INDEX-2.html" ) != -1 ){
   var off = loc.search( "file=" );
   if ( off == -1  ){
     field.value = loc + "?file=abencds_f1_define_annotation.htm"; }
   else {
     field.value = loc.substring( 0, off ) + "file=abencds_f1_define_annotation.htm";
   }
 }
 else {
    field.value = loc; }
 field.setSelectionRange(0, field.value.length);
 var r = confirm( "Copy URL to clipboard?\n\n" + field.value + "\n\nCopy to clipboard does not work in all browsers." );
 if (r == true) {
   try{
     document.execCommand("copy");
   }
     catch(e){ alert( "URL could not be copied to clipboard" ); }
 }
 window.scrollTo(0,0);
}
</script>
</head>
<body>
<div class="all">
<div style="float:right;">
<input type="button" value="URL"
style="font-size:10px; width:30px; height:18px; padding:0; "
onclick="urlToClipboard('url')" title="Copy URL to Clipboard" ></div>
<p>
<input name="query" id="query" value="" type="text" title="Suchbegriff" size="30" maxlength="30" onkeyup="getInput()">&nbsp;
<input type="button" value="Search"
style="font-size:12px; width:50px; height:18px; padding:0"
onclick="call_search('search.html')" title="Search in ABAP Keyword Documentation" >
<hr style="width:100%;height:1px"></p>
<p class="copyright">AS ABAP Release 754, &copy;Copyright 2019 SAP SE. All rights reserved.</p>
<span class="path">
<a href="javascript:call_link('abenabap.html')" class="blue">ABAP Keyword Documentation</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_dictionary.html')" class="blue">ABAP - Dictionary</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abencds.html')" class="blue">ABAP CDS in ABAP Dictionary</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abencds_annotations.html')" class="blue">ABAP CDS - Annotations</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abencds_anno_definition.html')" class="blue">ABAP CDS - Definition of Annotations</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abencds_f1_ddla_syntax.html')" class="blue">ABAP CDS - DDL for Annotation Definitions</a>&nbsp;&rarr;&nbsp;
</span>
<A NAME="@@:@@!ABAP_CDS_DEFINE_ANNO!@@"></A>
<A NAME="@@DEFINE ANNOTATION@@!ABAP_CDS_STATEMENT!@@"></A>
<A NAME="@@{ }@@!ABAP_CDS_DEFINE_ANNO!@@"></A>
<A NAME="@@ARRAY OF@@!ABAP_CDS_DEFINE_ANNO!@@"></A>
<p><span class="h1">
ABAP CDS - DEFINE ANNOTATION
</span></p>
<A name="@@ITOC@@ABENCDS_F1_DEFINE_ANNOTATION_1"></A>
<p><span class="h2">
Syntax
</span></p>
<p>
<span class="qtext400"><i class=bn>[</i><a href="javascript:call_link('abencds_f1_define_anno_annos.html')" class="blue">@annotation_annot1</a><i class=bn>]</i> <br>
<i class=bn>[</i><a href="javascript:call_link('abencds_f1_define_anno_annos.html')" class="blue">@annotation_annot2</a><i class=bn>]</i> <br>
... <br><i class=bn>[</i>define<i class=bn>]</i> annotation Anno <i class=bn>{</i>&nbsp;&nbsp;:&nbsp;&nbsp; <a href="javascript:call_link('abencds_f1_define_annotation_type.html')" class="blue">type</a>; <i class=bn>}</i> <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp; <i class=bn>|</i> <i class=bn>{</i> <i class=bn>[</i>:<i class=bn>]</i>
{<a href="javascript:call_link('abencds_f1_define_annotation_sub.html')" class="blue">subannos</a>}<i class=bn>[</i>;<i class=bn>]</i> <i class=bn>}</i> <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp; <i class=bn>|</i> <i class=bn>{</i>&nbsp;&nbsp;:&nbsp;&nbsp; array of <a href="javascript:call_link('abencds_f1_define_annotation_arr.html')" class="blue">arrelem</a> <i class=bn>}</i></span> <br><br>
</p>
<p><span class="h4">
Effect
</span></p>
<p>
The statement <span class="qtext400">define annotation</span> defines a
<a href="javascript:call_link('abencds_annotation_glosry.html')" class="grey" title="Glossary Entry">CDS annotation</a> with the name <span class="qtext400">Anno</span> in the
<a href="javascript:call_link('abencds_ddl_glosry.html')" class="grey" title="Glossary Entry">CDS DDL</a> in the
<a href="javascript:call_link('abenddla_source_code_glosry.html')" class="grey" title="Glossary Entry">DDLA source code</a>. The annotation <span class="qtext400">Anno</span> is the
<a href="javascript:call_link('abenmain_annotation_glosry.html')" class="grey" title="Glossary Entry">main annotation</a> of the current
<a href="javascript:call_link('abencds_anno_definition_glosry.html')" class="grey" title="Glossary Entry">annotation definition</a>, which can be structured with optional
<a href="javascript:call_link('abensub_annotation_glosry.html')" class="grey" title="Glossary Entry">subannotations</a>. The
DDLA source code of an annotation definition can contain the definition of exactly one main annotation,
whose name must match the name of the DDLA source code. The names are case-sensitive. Annotations of
the definition annotation, <a href="javascript:call_link('abencds_f1_define_anno_annos.html')" class="blue"><span class="qtext400">@annotation_annot1</span></a>,
<a href="javascript:call_link('abencds_f1_define_anno_annos.html')" class="blue"><span class="qtext400">@annotation_annot2</span></a>,
..., can be specified before the statement <span class="qtext400">define annotation</span>. These are inherited by subannotations or overwritten there.
</p>
<p>
The statement <span class="qtext400">define annotation</span> creates the annotation <span class="qtext400">Anno</span> as a
<a href="javascript:call_link('abencds_object_glosry.html')" class="grey" title="Glossary Entry">CDS object</a>, which is transported
using the DDLA source code. The definition of the annotation <span class="qtext400">Anno</span> describes how it is to be used in other CDS source code in
<a href="javascript:call_link('abencds_annotation_syntax_glosry.html')" class="grey" title="Glossary Entry">annotation syntax</a>:
</p>
<ul class="disc">
<li><span class="qtext400">Anno</span> is the name of the annotation. It can contain letters, numbers, and underscores, and must start with a letter. Only annotations with names defined in this way should be
<a href="javascript:call_link('abencds_annotations_syntax.html')" class="blue">used</a>.</li>
</ul>
<ul class="disc">
<li>One of the following must be specified after the name:</li>
</ul>
<ul class="circlem2">
<li>A colon (<span class="qtext400">:</span>) followed by the definition of the type <a href="javascript:call_link('abencds_f1_define_annotation_type.html')" class="blue">
<span class="qtext400">type</span></a> of the annotation. Enumerations and a default value can be defined when the type is specified. The type specification must be closed using a (<span class="qtext400">;</span>).</li>
</ul>
<ul class="circlem2">
<li>An optional colon (<span class="qtext400">:</span>) followed by the structuring of the annotation using
<a href="javascript:call_link('abensub_annotation_glosry.html')" class="grey" title="Glossary Entry">subannotations</a> <a href="javascript:call_link('abencds_f1_define_annotation_sub.html')" class="blue">
<span class="qtext400">subannos</span></a> in curly brackets <span class="qtext400">{...}</span>. This can be closed using an optional semicolon (<span class="qtext400">;</span>).</li>
</ul>
<ul class="circlem2">
<li>A colon (<span class="qtext400">:</span>) followed by the definition of the elements of an array using <span class="qtext400">array of</span>.  This makes the annotation <span class="qtext400">Anno</span> into an
<a href="javascript:call_link('abenannotation_array_glosry.html')" class="grey" title="Glossary Entry">annotation array</a> of
the elements defined using <a href="javascript:call_link('abencds_f1_define_annotation_arr.html')" class="blue"><span class="qtext400">arrelem</span></a>. These elements can be a type specification or subannotations.</li>
</ul>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>Put simply, an annotation definition dictates how the annotation needs to be specified in CDS source code in
<a href="javascript:call_link('abencds_annotation_syntax_glosry.html')" class="grey" title="Glossary Entry">annotation syntax</a>.
When annotations are specified, the annotation definitions are used for the color of the source code and for code completion.</li>
</ul>
<ul class="circlem2">
<li>The type specification determines which <a href="javascript:call_link('abenannotation_value_glosry.html')" class="grey" title="Glossary Entry">annotation values</a> can be specified in the annotation syntax when the annotation is used.</li>
</ul>
<ul class="circlem2">
<li>In the annotation syntax, subannotations are specified either as
<a href="javascript:call_link('abencds_annotations_syntax_subanno.html')" class="blue">comma-separated lists in curly brackets</a> or as <a href="javascript:call_link('abencds_annotations_syntax_name.html')" class="blue">structured names</a>.</li>
</ul>
<ul class="circlem2">
<li>The elements of an array are specified in annotation syntax as <a href="javascript:call_link('abencds_annotations_syntax_array.html')" class="blue">comma-separated lists in square brackets</a>.</li>
</ul>
<ul class="disc">
<li>The syntax check in <a href="javascript:call_link('abencds_ddl_glosry.html')" class="grey" title="Glossary Entry">CDS DDL</a> for data definitions currently ignores annotation definitions. It checks only the formal correctness of any names,
<a href="javascript:call_link('abenannotation_value_glosry.html')" class="grey" title="Glossary Entry">annotation values</a>,
<a href="javascript:call_link('abensub_annotation_glosry.html')" class="grey" title="Glossary Entry">subannotations</a>, and
<a href="javascript:call_link('abenannotation_array_glosry.html')" class="grey" title="Glossary Entry">annotation arrays</a> specified.</li>
</ul>
<ul class="disc">
<li>When <a href="javascript:call_link('abencds_semantics_annotation_abexa.html')" class="blue">annotations are evaluated</a> in a
<a href="javascript:call_link('abencds_entity_glosry.html')" class="grey" title="Glossary Entry">CDS entity</a> using the class <span class="lnkgrey">CL_DD_DDL_ANNOTATION_SERVICE</span>, the annotations are respected as specified in the
<a href="javascript:call_link('abenddl_source_code_glosry.html')" class="grey" title="Glossary Entry">DDL source code</a> of the entity. The associated annotation definitions are ignored.</li>
</ul>
<ul class="disc">
<li>Alongside the rules defined by the statement <span class="qtext400">define annotation</span>, an
annotation definition also has annotation documentation that describes its meaning and how it is used by the framework in question.</li>
</ul>
<p><span class="h4">
Example
</span></p>
<p>
Defines a structured annotation. The <a href="javascript:call_link('abenmain_annotation_glosry.html')" class="grey" title="Glossary Entry">main annotation</a> <span class="qtext400">DemoAnnoStruct</span> has
<a href="javascript:call_link('abensub_annotation_glosry.html')" class="grey" title="Glossary Entry">subannotations</a> <span class="qtext400">
subAnno1</span> to <span class="qtext400">subAnno4</span>. The subannotations <span class="qtext400">subAnno3</span> and <span class="qtext400">subAnno4</span> are
<a href="javascript:call_link('abenannotation_array_glosry.html')" class="grey" title="Glossary Entry">annotation arrays</a>. (Here, <span class="qtext400">subAnno4</span> is structured.)
</p>
<dl><dd>
<span class="qtext400">@Scope:[#VIEW, #EXTEND_VIEW]&nbsp;&nbsp;<br>define annotation DemoAnnoStruct&nbsp;&nbsp;<br>
&nbsp;&nbsp;{ subAnno1 : Boolean default true;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;subAnno2 : Integer enum { I1; I2; I3; } default #I1;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;subAnno3 : array of String(10);&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;subAnno4 : array of { comp1 : String(1);&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;comp2 : String(2);&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};&nbsp;&nbsp;<br>&nbsp;&nbsp;};</span>
</dd></dl>
<p>
The annotation defined in this way permits the following to be specified in
<a href="javascript:call_link('abencds_annotation_syntax_glosry.html')" class="grey" title="Glossary Entry">annotation syntax</a> in a piece of
<a href="javascript:call_link('abenddl_source_code_glosry.html')" class="grey" title="Glossary Entry">DDL source code</a> that defines a
<a href="javascript:call_link('abencds_view_glosry.html')" class="grey" title="Glossary Entry">CDS view</a> or a
<a href="javascript:call_link('abencds_table_function_glosry.html')" class="grey" title="Glossary Entry">CDS table function</a> as a
<a href="javascript:call_link('abencds_f1_view_entity_annotations.html')" class="blue">view annotation</a> or as a <a href="javascript:call_link('abencds_f1_function_annotations.html')" class="blue">function annotation</a>:
</p>
<ul class="disc">
<li>Specifies the subannotation <span class="qtext400">subAnno1</span> once (the default value <span class="qtext400">true</span> is used here implicitly):</li>
</ul>
<dl><dd>
<span class="qtext400">@DemoAnnoStruct.subAnno1</span>
</dd></dl>
<ul class="disc">
<li>Specifies the subannotations <span class="qtext400">subAnno1</span> and <span class="qtext400">subAnno2</span> together in curly brackets (the default values are overwritten by explicit
<a href="javascript:call_link('abenannotation_value_glosry.html')" class="grey" title="Glossary Entry">annotation values</a> here. In <span class="qtext400">subAnno2</span>, one of the fixed enumeration values is used:</li>
</ul>
<dl><dd>
<span class="qtext400">@DemoAnnoStruct:{subAnno1:false, subAnno2:#I2}</span>
</dd></dl>
<ul class="disc">
<li>Specifies annotation values for the annotation array <span class="qtext400">subAnno3</span>. The values within the quotation marks can have a maximum of ten characters:</li>
</ul>
<dl><dd>
<span class="qtext400">@DemoAnnoStruct.subAnno3:['a','abc','abcdefghij']</span>
</dd></dl>
<ul class="disc">
<li>Specifies annotation values for the structured annotation array <span class="qtext400">subAnno4</span>.</li>
</ul>
<dl><dd>
<span class="qtext400">@DemoAnnoStruct.subAnno4:[ {comp1: 'a', comp2: 'b' }, <br>&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {comp1: 'c', comp2: 'd' }, <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {comp1: 'e', comp2: &#x2018;f' } ]</span> <br><br>
</dd></dl>
<br>
<br>
<!-- POSTFIX --><span class="h4">Continue</span><br>
<a href="javascript:call_link('abencds_f1_define_anno_annos.html')" class="blue">ABAP CDS - DEFINE ANNOTATION, annotation_annot</a><br>
<a href="javascript:call_link('abencds_f1_define_annotation_type.html')" class="blue">ABAP CDS - DEFINE ANNOTATION, type</a><br>
<a href="javascript:call_link('abencds_f1_define_annotation_sub.html')" class="blue">ABAP CDS - DEFINE ANNOTATION, subannos</a><br>
<a href="javascript:call_link('abencds_f1_define_annotation_arr.html')" class="blue">ABAP CDS - DEFINE ANNOTATION, arrelem</a><br>
<br>
<br>
</DIV>
<fieldset style="opacity:0">
<input id="url" type="text" />
</fieldset>
</BODY>

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abencds_f1_define_annotation.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:51:30 GMT -->
</html>

<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="EN">
<!-- ABENCDS_F1_PATH_EXPRESSION -->

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abencds_f1_path_expression.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:51:30 GMT -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="author" content="SAP">
<meta name="description" content="ABAP CDS - path_expr">
<meta name="keywords" content="ABAP, ABAP CDS, Path Expression">
<title>
ABAP CDS - path_expr - ABAP Keyword Documentation
</title>
<link rel="icon" href="ABAPIcon.ico" type="image/ico">
<link rel="shortcut icon" href="ABAPIcon.ico">
<LINK rel="stylesheet" href="abap_docu.css" type="text/css">
<script language="javascript" type="text/javascript" src="functions.js"></script>
<script type="text/JavaScript">
function urlToClipboard(id){
 try{ var loc = top.location.href;}
 catch(e){ alert( "URL cannnot be determined" ); return; }
 var field = document.getElementById(id);
 field.focus();
 if ( loc.search( ".htm" ) == -1 && loc.search( ".HTM" ) == -1  ){ loc = loc + "index.htm"; }
 if (   loc.search( "index.html" ) != -1
     || loc.search( "INDEX-2.html" ) != -1 ){
   var off = loc.search( "file=" );
   if ( off == -1  ){
     field.value = loc + "?file=abencds_f1_path_expression.htm"; }
   else {
     field.value = loc.substring( 0, off ) + "file=abencds_f1_path_expression.htm";
   }
 }
 else {
    field.value = loc; }
 field.setSelectionRange(0, field.value.length);
 var r = confirm( "Copy URL to clipboard?\n\n" + field.value + "\n\nCopy to clipboard does not work in all browsers." );
 if (r == true) {
   try{
     document.execCommand("copy");
   }
     catch(e){ alert( "URL could not be copied to clipboard" ); }
 }
 window.scrollTo(0,0);
}
</script>
</head>
<body>
<div class="all">
<div style="float:right;">
<input type="button" value="URL"
style="font-size:10px; width:30px; height:18px; padding:0; "
onclick="urlToClipboard('url')" title="Copy URL to Clipboard" ></div>
<p>
<input name="query" id="query" value="" type="text" title="Suchbegriff" size="30" maxlength="30" onkeyup="getInput()">&nbsp;
<input type="button" value="Search"
style="font-size:12px; width:50px; height:18px; padding:0"
onclick="call_search('search.html')" title="Search in ABAP Keyword Documentation" >
<hr style="width:100%;height:1px"></p>
<p class="copyright">AS ABAP Release 754, &copy;Copyright 2019 SAP SE. All rights reserved.</p>
<span class="path">
<a href="javascript:call_link('abenabap.html')" class="blue">ABAP Keyword Documentation</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_dictionary.html')" class="blue">ABAP - Dictionary</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abencds.html')" class="blue">ABAP CDS in ABAP Dictionary</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenddic_cds_entities.html')" class="blue">ABAP CDS - Data Definitions</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abencds_f1_ddl_syntax.html')" class="blue">ABAP CDS - DDL for Data Definitions</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abencds_f1_define_view.html')" class="blue">ABAP CDS - DEFINE VIEW</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abencds_f1_select_statement.html')" class="blue">ABAP CDS - SELECT</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abencds_f1_association.html')" class="blue">ABAP CDS - SELECT, ASSOCIATION</a>&nbsp;&rarr;&nbsp;
</span>
<A NAME="@@.@@!ABAP_CDS_PATH_EXPR!@@"></A>
<p><span class="h1">
ABAP CDS - path_expr
</span></p>
<A name="@@ITOC@@ABENCDS_F1_PATH_EXPRESSION_1"></A>
<p><span class="h2">
Syntax
</span></p>
<p>
<span class="qtext400">... <i class=bn>[</i>source.<i class=bn>]</i>_assoc1<i class=bn>[</i>
<a href="javascript:call_link('abencds_f1_select_parameters.html')" class="blue">parameters</a><i class=bn>]</i><i class=bn>[</i><a href="javascript:call_link('abencds_path_expression_attr.html')" class="blue">attributes</a><i class=bn>]</i> <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <i class=bn>[</i>._assoc2<i class=bn>[</i>
<a href="javascript:call_link('abencds_f1_select_parameters.html')" class="blue">parameters</a><i class=bn>]</i><i class=bn>[</i>
<a href="javascript:call_link('abencds_path_expression_attr.html')" class="blue">attributes</a><i class=bn>]</i> ... <i class=bn>]</i> ...</span>
</p>
<p><span class="h4">
Effect
</span></p>
<p>
Specifies an <a href="javascript:call_link('abencds_path_expression_glosry.html')" class="grey" title="Glossary Entry">SQL path expression</a> in a <span class="qtext400">SELECT</span> statement of a
<a href="javascript:call_link('abencds_view_glosry.html')" class="grey" title="Glossary Entry">CDS view</a>. A path expression of the
<a href="javascript:call_link('abencds_ddl_glosry.html')" class="grey" title="Glossary Entry">CDS DDL</a> is a string of
<a href="javascript:call_link('abencds_association_glosry.html')" class="grey" title="Glossary Entry">CDS associations</a> separated by periods
(<span class="qtext400">.</span>) whose names are specified using <span class="qtext400">_assoc1</span>,
<span class="qtext400">_assoc2</span>, and so on. The name of the CDS entity <span class="qtext400">source</span>
in which the first CDS association is defined or published can be specified in front of this CDS association. The first CDS association of a path expression must be either:
</p>
<ul class="disc">
<li>Defined in the current CDS view.</li>
</ul>
<ul class="disc">
<li>Published as an element of the <span class="qtext400">SELECT</span> list or as an
<a href="javascript:call_link('abencds_f1_hiera_element_list.html')" class="blue">element list</a> in a CDS view or CDS hierarchy that is a data source of the current view.</li>
</ul>
<p>
All further CDS associations must be published in the target data source of the directly prefixed CDS association in the path expression. No CDS associations can be used in a path expression that are defined in an
<a href="javascript:call_link('abenabstract_entity_glosry.html')" class="grey" title="Glossary Entry">abstract CDS entity</a>.
</p>
<p>
<a href="javascript:call_link('abencds_path_expression_attr.html')" class="blue"><span class="qtext400">attributes</span></a>
can be used to specify attributes in angle brackets after every CDS association. These attributes define the following further properties of this section of the path expression:
</p>
<ul class="disc">
<li>Declaration of monovalency</li>
</ul>
<ul class="disc">
<li>Type of the join expression defined when used</li>
</ul>
<ul class="disc">
<li>Specified filter conditions</li>
</ul>
<p>
If the data source <span class="qtext400">target</span> of a specified
<a href="javascript:call_link('abencds_association_glosry.html')" class="grey" title="Glossary Entry">CDS association</a> is a CDS entity with
<a href="javascript:call_link('abencds_f1_param.html')" class="blue">input parameters</a>, <a href="javascript:call_link('abencds_f1_select_parameters.html')" class="blue">
<span class="qtext400">parameters</span></a> must be used after the name <span class="qtext400">_assoc</span> to pass actual parameters to them. No parameters can be specified for a CDS association published as an
<a href="javascript:call_link('abencds_f1_select_list_entry.html')" class="blue">element</a> of a <a href="javascript:call_link('abencds_f1_select_list.html')" class="blue"><span class="qtext400">SELECT</span></a> list.
</p>
<p>
<span class="bold">Use of Path Expressions</span>
</p>
<p>
Path expressions can be used as follows in the CDS DDL in ABAP CDS:
</p>
<ul class="disc">
<li>Path expressions with CDS associations of any target data sources can
<a href="javascript:call_link('abencds_f1_select_list_association.html')" class="blue">publish</a> their final CDS associations as
<a href="javascript:call_link('abencds_f1_select_list_entry.html')" class="blue">elements</a> of <a href="javascript:call_link('abencds_f1_select_list.html')" class="blue">
<span class="qtext400">SELECT</span> lists</a> for use in other CDS entities or in ABAP SQL.</li>
</ul>
<ul class="disc">
<li>Path expressions with CDS associations whose target data source is not an <a href="javascript:call_link('abenabstract_entity_glosry.html')" class="grey" title="Glossary Entry">abstract CDS entity</a> can be used as follows:</li>
</ul>
<ul class="circlem2">
<li>To specify the target data source of the final CDS association as the data source <a href="javascript:call_link('abencds_f1_data_source.html')" class="blue">
<span class="qtext400">data_source</span></a> after <a href="javascript:call_link('abencds_f1_select_statement.html')" class="blue"><span class="qtext400">FROM</span></a>. The path expression represents an inner join
(<span class="qtext400">INNER JOIN</span>) by default.</li>
</ul>
<ul class="circlem2">
<li>To specify an appended element <span class="qtext400">.element</span> of the target data source of the last CDS association as an
<a href="javascript:call_link('abencds_f1_select_list_entry.html')" class="blue">element</a> of a <a href="javascript:call_link('abencds_f1_select_list.html')" class="blue">
<span class="qtext400">SELECT</span> list</a>. The path expression represents a right outer join
(<span class="qtext400">LEFT OUTER JOIN</span>) by default.</li>
</ul>
<ul class="circlem2">
<li>To specify an appended element <span class="qtext400">.element</span> of the target data source
of the last CDS association as an operand of <a href="javascript:call_link('abencds_f1_where_clause.html')" class="blue"><span class="qtext400">
WHERE</span></a> or <a href="javascript:call_link('abencds_f1_having_clause.html')" class="blue"><span class="qtext400">HAVING</span></a>
conditions, and <a href="javascript:call_link('abencds_f1_searched_case_expr.html')" class="blue"><span class="qtext400">WHEN</span> conditions</a>. The path expression represents a right outer join
(<span class="qtext400">LEFT OUTER JOIN</span>) by default.</li>
</ul>
<dl><dd>
In the case of self associations in which the target data source is the same as the source data source, these usages are not possible in the CDS entity where they are defined.
</dd></dl>
<p>
When a non-aggregated element of a <span class="qtext400">SELECT</span> list is specified with
<a href="javascript:call_link('abencds_f1_aggregate_functions.html')" class="blue">aggregate expressions</a> and in a <span class="qtext400">WHERE</span>
condition or <span class="qtext400">HAVING</span> condition, the result of the path expression must be monovalent. This means that the cardinality of all CDS associations used is either "to 1" or the path expression can contain only
<a href="javascript:call_link('abencds_path_expression_attr.html')" class="blue">filter conditions</a> that are declared as monovalent using the addition <span class="qtext400">1:</span>.
</p>
<p>
The following is evaluated when a CDS entity is accessed using a path expression:
</p>
<ul class="disc">
<li>The joins defined by the CDS associations, from left to right.</li>
</ul>
<ul class="disc">
<li>All other conditions of the CDS entities in question.</li>
</ul>
<p>
The path expression addresses the full result of this evaluation or a single element appended using <span class="qtext400">.element</span>.
</p>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>The most simple path expression is the name of a single CDS association.</li>
</ul>
<ul class="disc">
<li>When joins in path expressions are defined by CDS associations, note that their left side is always
the CDS entity that publishes the CDS association. This applies particularly to CDS associations that are published in data sources of CDS entities and passed.</li>
</ul>
<ul class="disc">
<li>CDS DDL path expressions can also be used in <a href="javascript:call_link('abencds_dcl_role_conditions.html')" class="blue">conditions</a> in the ABAP
<a href="javascript:call_link('abencds_dcl_glosry.html')" class="grey" title="Glossary Entry">CDS DCL</a> of ABAP CDS.</li>
</ul>
<ul class="disc">
<li>A CDS association whose target data source does not publish a CDS association cannot be followed
by any further associations in a path expression. More specifically, no further CDS associations can
be made into a path expression after CDS associations whose target data sources are database tables or classic views.</li>
</ul>
<ul class="disc">
<li>When the CDS associations of the path expressions of a view are defined as joins, they are mapped to as few join expressions as possible. The
<a href="javascript:call_link('abencore_annotation_glosry.html')" class="grey" title="Glossary Entry">ABAP annotation</a> <a href="javascript:call_link('abencds_f1_view_entity_annotations.html')" class="blue"><span
 class="qtext400">AbapCatalog.compiler.compareFilter</span></a> is used as support here. The value <span class="qtext400">true</span> guarantees that CDS associations with semantically identical
<a href="javascript:call_link('abencds_path_expression_attr.html')" class="blue">filter conditions</a> do not produce differing join expressions.</li>
</ul>
<ul class="disc">
<li>Path expressions with CDS associations whose target data source is an
<a href="javascript:call_link('abenabstract_entity_glosry.html')" class="grey" title="Glossary Entry">abstract CDS entity</a> cannot be used anywhere where they could produce instances of join expressions.</li>
</ul>
<p><span class="h4">
Example
</span></p>
<p>
The following CDS view contains the simple path expression <span class="qtext400">_scarr[inner].carrname</span>
in the <span class="qtext400">SELECT</span> list, whereby the attribute <a href="javascript:call_link('abencds_path_expression_attr.html')" class="blue">
<span class="qtext400">INNER</span></a> is specified that controls the type of join. The program <span class="lnkgrey">
DEMO_FROM_JOIN_TO_ASSOCIATION</span> demonstrates that this view returns the same result as a directly programmed inner join in ABAP CDS or in ABAP SQL.
</p>
<dl><dd>
<span class="qtext400">@AbapCatalog.sqlViewName: 'DEMO_CDS_JN2' <br>@AccessControl.authorizationCheck: #NOT_REQUIRED <br>
define view demo_cds_join2 <br>&nbsp;&nbsp;as select from spfli <br>&nbsp;&nbsp;association to scarr as _scarr on <br>
&nbsp;&nbsp;&nbsp;&nbsp;spfli.carrid = _scarr.carrid <br>&nbsp;&nbsp;{ <br>&nbsp;&nbsp;&nbsp;&nbsp;_scarr[inner].carrname as carrier, <br>
&nbsp;&nbsp;&nbsp;&nbsp;spfli.connid&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; as flight, <br>
&nbsp;&nbsp;&nbsp;&nbsp;spfli.cityfrom&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; as departure, <br>
&nbsp;&nbsp;&nbsp;&nbsp;spfli.cityto&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; as arrival <br>&nbsp;&nbsp;}&nbsp;&nbsp;<br>&nbsp;&nbsp; <br>&nbsp;&nbsp; <br></span>
</dd></dl>
<p><span class="h4">
Example
</span></p>
<p>
This example shows three CDS views, <span class="qtext400">sales_order</span>, <span class="qtext400">business_partner</span>,
and <span class="qtext400">invoice</span>. The CDS view <span class="qtext400">invoice</span> uses its own CDS association and CDS associations from the other two views in path expressions:
</p>
<ul class="disc">
<li>The CDS association <span class="qtext400">sales_order</span> of the CDS view <span class="qtext400">business_partner</span>
is specified as a data source after <span class="qtext400">FROM</span>. A filter condition guarantees that only certain orders can be used as data sources.</li>
</ul>
<ul class="disc">
<li>The separate CDS association <span class="qtext400">invoice_header</span> is used in a path expression as an operand in the <span class="qtext400">WHERE</span> condition.</li>
</ul>
<ul class="disc">
<li>The CDS association <span class="qtext400">note_header</span> of the CDS view <span class="qtext400">sales_order</span>
is addressed using the alternative name <span class="qtext400">bpa</span> in <span class="qtext400">business_partner</span>
and defined as an element of the <span class="qtext400">SELECT</span> list. This means this CDS association can also be used in CDS views that use <span class="qtext400">invoice</span> as a data source.</li>
</ul>
<dl><dd>
<span class="qtext400">@AbapCatalog.sqlViewName: 'SALES_ORDER_VW' <br>define view sales_order as <br>&nbsp;&nbsp;select from snwd_so <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; association [0..1] to snwd_text_key as _note_header <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; on snwd_so.note_guid = _note_header.node_key <br>&nbsp;&nbsp;{ * } // Include all fields from snwd_text_key</span>
</dd></dl>
<p>

</p>
<dl><dd>
<span class="qtext400">@AbapCatalog.sqlViewName: 'BPA_VW' <br>define view business_partner as <br>&nbsp;&nbsp;select from snwd_bpa <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; association [0..*] to sales_order <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; on snwd_bpa.node_key = sales_order.buyer_guid <br>
&nbsp;&nbsp;{ * }</span>
</dd></dl>
<p>

</p>
<dl><dd>
<span class="qtext400">@AbapCatalog.sqlViewName: 'SALESO_INV_VW' <br>define view invoice as <br>&nbsp;&nbsp;select from <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /* Association "sales_order" with filter as data source */ <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; business_partner.sales_order[ <br>&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; lifecycle_status &lt;> 'C' and lifecycle_status &lt;> 'X'] <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; as bpa_so //alias for data source <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /* Association only used in this view definition */ <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; association [0..1] to snwd_so_inv_head as _invoice_header <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; on bpa_so.node_key = _invoice_header.so_guid <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ key bpa_so.node_key, //Field from ON-condition in _invoice_header <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bpa_so.so_id, <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bpa_so.note_guid, //Field from ON-condition in note_header <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bpa_so.lifecycle_status, <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/* Association is not published, but its element */ <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_invoice_header.dunning_level, <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/* Association from data source is published here */ <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bpa_so.note_header } <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/* Path expression in WHERE clause */ <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;where _invoice_header.dunning_level > '0';</span>
</dd></dl>
<p><span class="h4">
Executable Example
</span></p>
<p>
<a href="javascript:call_link('abenpath_expr_in_colspec_abexa.html')" class="blue">Path Expressions, Use in the <span class="qtext">SELECT</span> List</a>
</p>
<br>
<br>
<!-- POSTFIX --><span class="h4">Continue</span><br>
<a href="javascript:call_link('abencds_path_expression_attr.html')" class="blue">ABAP CDS - path_expr, attributes</a><br>
<img src="exa.gif" alt="Example" title="Example">
<a href="javascript:call_link('abencds_assoc_join_abexa.html')" class="blue">ABAP CDS - Joins of Associations</a><br>
<br>
<br>
</DIV>
<fieldset style="opacity:0">
<input id="url" type="text" />
</fieldset>
</BODY>

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abencds_f1_path_expression.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:51:30 GMT -->
</html>

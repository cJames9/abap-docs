<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="EN">
<!-- ABENNEW_CONSTRUCTOR_PARAMS_ITAB -->

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abennew_constructor_params_itab.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:51:36 GMT -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="author" content="SAP">
<meta name="description" content="NEW - Internal Tables">
<title>
NEW - Internal Tables - ABAP Keyword Documentation
</title>
<link rel="icon" href="ABAPIcon.ico" type="image/ico">
<link rel="shortcut icon" href="ABAPIcon.ico">
<LINK rel="stylesheet" href="abap_docu.css" type="text/css">
<script language="javascript" type="text/javascript" src="functions.js"></script>
<script type="text/JavaScript">
function urlToClipboard(id){
 try{ var loc = top.location.href;}
 catch(e){ alert( "URL cannnot be determined" ); return; }
 var field = document.getElementById(id);
 field.focus();
 if ( loc.search( ".htm" ) == -1 && loc.search( ".HTM" ) == -1  ){ loc = loc + "index.htm"; }
 if (   loc.search( "index.html" ) != -1
     || loc.search( "INDEX-2.html" ) != -1 ){
   var off = loc.search( "file=" );
   if ( off == -1  ){
     field.value = loc + "?file=abennew_constructor_params_itab.htm"; }
   else {
     field.value = loc.substring( 0, off ) + "file=abennew_constructor_params_itab.htm";
   }
 }
 else {
    field.value = loc; }
 field.setSelectionRange(0, field.value.length);
 var r = confirm( "Copy URL to clipboard?\n\n" + field.value + "\n\nCopy to clipboard does not work in all browsers." );
 if (r == true) {
   try{
     document.execCommand("copy");
   }
     catch(e){ alert( "URL could not be copied to clipboard" ); }
 }
 window.scrollTo(0,0);
}
</script>
</head>
<body>
<div class="all">
<div style="float:right;">
<input type="button" value="URL"
style="font-size:10px; width:30px; height:18px; padding:0; "
onclick="urlToClipboard('url')" title="Copy URL to Clipboard" ></div>
<p>
<input name="query" id="query" value="" type="text" title="Suchbegriff" size="30" maxlength="30" onkeyup="getInput()">&nbsp;
<input type="button" value="Search"
style="font-size:12px; width:50px; height:18px; padding:0"
onclick="call_search('search.html')" title="Search in ABAP Keyword Documentation" >
<hr style="width:100%;height:1px"></p>
<p class="copyright">AS ABAP Release 754, &copy;Copyright 2019 SAP SE. All rights reserved.</p>
<span class="path">
<a href="javascript:call_link('abenabap.html')" class="blue">ABAP Keyword Documentation</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_reference.html')" class="blue">ABAP &#x2212; Reference</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abencreate_objects.html')" class="blue">Creating Objects and Values</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenconstructor_expression_new.html')" class="blue">NEW - Instance Operator</a>&nbsp;&rarr;&nbsp;
</span>
<A NAME="@@BASE@@NEW itab@@"></A>
<p><span class="h1">
NEW - Internal Tables
</span></p>
<A name="@@ITOC@@ABENNEW_CONSTRUCTOR_PARAMS_ITAB_1"></A>
<p><span class="h2">
Syntax
</span></p>
<p>
<span class="qtext">... NEW dtype<i class=bn>|</i>#( <i class=bn>[</i><a href="javascript:call_link('abaplet.html')" class="blue">let_exp</a><i class=bn>]</i> <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <i class=bn>[</i>BASE itab<i class=bn>]</i> <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <i class=bn>[</i><a href="javascript:call_link('abenfor.html')" class="blue">FOR for_exp1</a> <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="javascript:call_link('abenfor.html')" class="blue">FOR for_exp2</a> <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;... <i class=bn>]</i> <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( <a href="javascript:call_link('abennew_constructor_params_lspc.html')" class="blue">line_spec1</a> ) <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( <a href="javascript:call_link('abennew_constructor_params_lspc.html')" class="blue">line_spec2</a> ) <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ... ) ...</span> <br><br>
</p>
<p><span class="h3">
Extras:
</span></p>
<P>
   <A HREF="#!ABAP_ADDITION_1@1@" class="blue"> 1. <span class="qtext">... BASE itab</span> </A> <br><br><A HREF="#!ABAP_ADDITION_2@2@" class="blue"> 2. <span class="qtext">... FOR for_exp</span> </A> <br><br>
</P>
<p><span class="h4">
Effect
</span></p>
<p>
If <span class="qtext">dtype</span> is a tabular data type or <span class="qtext">#</span> stands for a type like this, the table rows of the constructed table are created as follows:
</p>
<ul class="disc">
<li>Firstly, an optional <span class="qtext">LET</span> expression <a href="javascript:call_link('abaplet.html')" class="blue"><span class="qtext">
let_exp</span></a> can be specified to define local auxiliary fields whose values can be used to construct the table rows.</li>
</ul>
<ul class="disc">
<li>An optional start value for the content can be specified for the content of the internal table after <span class="qtext">BASE</span> (see below).</li>
</ul>
<ul class="disc">
<li>One more optional consecutive <a href="javascript:call_link('abeniteration_expression_glosry.html')" class="grey" title="Glossary Entry">
iteration expressions</a> can then be specified using <a href="javascript:call_link('abenfor.html')" class="blue"><span class="qtext">FOR</span></a> (see below).</li>
</ul>
<ul class="disc">
<li>The table rows are then constructed in one or more sets of internal parentheses by specifying <a href="javascript:call_link('abennew_constructor_params_lspc.html')" class="blue">
<span class="qtext">line_spec</span></a>. Each set of inner parentheses constructs one or more rows
in accordance with the information in <span class="qtext">line_spec</span> and inserts them into the new internal table in accordance with the rules for the statement <span class="qtext">
<a href="javascript:call_link('abapinsert_itab.html')" class="blue">INSERT</a> ... <a href="javascript:call_link('abapinsert_itab_position.html')" class="blue">INTO TABLE</a></span>. The object is inserted in the order of the parentheses.</li>
</ul>
<p>
The constructed rows must meet the requirements of the statement <a href="javascript:call_link('abapinsert_itab.html')" class="blue"><span class="qtext">
INSERT</span></a> for inserting work areas using table keys and therefore be compatible with the row type. There is one exception to this: When constructing a
<a href="javascript:call_link('abenstandard_table_glosry.html')" class="grey" title="Glossary Entry">standard table</a>, where
the rows are only appended, the value can be shorter than the row length (for row types <span class="qtext">c</span>
and <span class="qtext">x</span>), in which case it is padded on the right with blanks or hexadecimal 0.
</p>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>When a constructor expression is assigned to a reference variable using <span class="qtext">NEW</span>,
the original reference is made available in the entire expression in the target variable. The target
variable is not overwritten until the expression is closed. In the case of the value operator <a href="javascript:call_link('abenvalue_constructor_params_itab.html')" class="blue">
<span class="qtext">VALUE</span></a>, however, the target variable can only be assigned to a helper variable using <span class="qtext">LET</span> and is then no longer available.</li>
</ul>
<ul class="disc">
<li>The operand type for <a href="javascript:call_link('abennew_constructor_params_lspc.html')" class="blue"><span class="qtext">line_spec</span></a>
in the inner parentheses is the row type of the table type specified using <span class="qtext">dtype</span>
or <span class="qtext">#</span>, which means it is always uniquely identifiable. Constructor expressions in this place can therefore always derive the required data type using <span class="qtext">#</span>. <br><br></li>
</ul>
<p><span class="h4">
Example
</span></p>
<p>
Constructs an anonymous internal table with a structured row type with substructures and tabular components.
</p>
<p class="qtextml1">
<span class="qtext">
TYPES: BEGIN OF t_struct1, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; col1 TYPE i, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; col2 TYPE i, <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; END OF t_struct1, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; BEGIN OF t_struct2, <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; col1 TYPE i, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; col2 TYPE t_struct1, <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; col3 TYPE TABLE OF t_struct1 WITH EMPTY KEY, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; END OF t_struct2, <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; t_itab TYPE TABLE OF t_struct2 WITH EMPTY KEY. <br> <br>DATA dref TYPE REF TO data. <br>
 <br>dref = NEW t_itab( ( col1 = 1 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; col2-col1 = 1 <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; col2-col2 = 2 <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; col3 = VALUE #( ( col1 = 1 col2 = 2 ) <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( col1 = 3 col2 = 4 ) ) ) <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( col1 = 2 <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; col2-col1 = 2 <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; col2-col2 = 4 <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; col3 = VALUE #( ( col1 = 2 col2 = 4 ) <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( col1 = 6 col2 = 8 ) ) ) ).
</span>
</p>
<p><span class="h4">
Examples
</span></p>
<p>
See also the examples for the value operator <a href="javascript:call_link('abenvalue_constructor_params_itab.html')" class="blue"> <span class="qtext">VALUE</span></a>. <br><br>
</p>
<p><span class="h3">
<A NAME="!ABAP_ADDITION_1@1@"></A> <span class="bold">Addition 1</span>
</span></p>
<P>
<span class="qtext">... BASE itab</span>   <br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<p>
An addition, <span class="qtext">BASE</span>, followed by an internal table, <span class="qtext">itab</span>, can be specified in front of the lines that you want to insert. This is a
<a href="javascript:call_link('abenfunctional_position_glosry.html')" class="grey" title="Glossary Entry">functional operand
position</a>. The row type of <span class="qtext">itab</span> must be convertible to the row type of
the return value. If <span class="qtext">BASE</span> is specified, the content of <span class="qtext">itab</span>
is assigned to the return value before the individual rows are inserted. If the character <span class="qtext">#</span>
is specified for the type of the return value and the type cannot be determined from the operand position
of the constructor expression, the type of <span class="qtext">itab</span> is used for this expression (if identifiable). <br><br>
</p>
<p><span class="h4">
Example
</span></p>
<p>
Constructs three anonymous internal tables with an elementary row type. The first table is filled with
three rows. The second row is initial. The second and third tables are filled with the rows of the first
table and three further rows. Using <span class="qtext">BASE</span> and <a href="javascript:call_link('abennew_constructor_params_lspc.html')" class="blue"><span class="qtext">LINES OF</span></a> here has the same effect.
</p>
<p class="qtextml1">
<span class="qtext">
TYPES t_itab TYPE TABLE OF i WITH EMPTY KEY. <br> <br>DATA(dref1) = NEW t_itab( ( 1 ) (&nbsp;&nbsp;) ( 3 ) ). <br>
 <br>DATA(dref2) = NEW t_itab( BASE dref1->* <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&nbsp;&nbsp; ) ( 5 ) (&nbsp;&nbsp;) ). <br>
 <br>DATA(dref3) = NEW t_itab( ( LINES OF dref1->* ) <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&nbsp;&nbsp; ) ( 5 ) (&nbsp;&nbsp;) ). <br>
 <br>cl_demo_output=>write(&nbsp;&nbsp; dref1->* ). <br>cl_demo_output=>write(&nbsp;&nbsp; dref2->* ). <br>cl_demo_output=>display( dref3->* ). <br><br>
</span>
</p>
<p><span class="h3">
<A NAME="!ABAP_ADDITION_2@2@"></A> <span class="bold">Addition 2</span>
</span></p>
<P>
<span class="qtext">... FOR for_exp</span>   <br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<p>
If one or more <a href="javascript:call_link('abeniteration_expression_glosry.html')" class="grey" title="Glossary Entry">iteration
expressions</a> are specified consecutively using <a href="javascript:call_link('abenfor.html')" class="blue"><span class="qtext">FOR</span></a>,
this means that the rows constructed in <a href="javascript:call_link('abennew_constructor_params_lspc.html')" class="blue"><span class="qtext">
line_spec</span></a> for every iteration of the last <span class="qtext">FOR</span> expression are inserted
into the target table. When constructing table rows in <a href="javascript:call_link('abennew_constructor_params_lspc.html')" class="blue">
<span class="qtext">line_spec</span></a>, the visible local work areas and field symbols of the iteration expressions can be used to construct table rows.
</p>
<ul class="disc">
<li>If <a href="javascript:call_link('abenfor_conditional.html')" class="blue">conditional iterations</a> are used, the new table rows are created in freely defined iteration steps.</li>
</ul>
<ul class="disc">
<li>If <a href="javascript:call_link('abenfor_itab.html')" class="blue">table iterations</a> are used, the rows of existing internal tables are evaluated. These are known as
<a href="javascript:call_link('abentable_comprehension_glosry.html')" class="grey" title="Glossary Entry">table comprehensions</a>, since in this case new table rows can be constructed from the rows of existing internal tables.</li>
</ul>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>The term "table comprehension" is derived from similar concepts used in many other languages, where it is also known as "list comprehension".</li>
</ul>
<ul class="disc">
<li><a href="javascript:call_link('abentable_filtering_glosry.html')" class="grey" title="Glossary Entry">Table filtering</a> can be implemented more efficiently using the
<a href="javascript:call_link('abenfilter_operator_glosry.html')" class="grey" title="Glossary Entry">filter operator</a> <a href="javascript:call_link('abenconstructor_expression_filter.html')" class="blue"><span class="qtext">FILTER</span></a>.</li>
</ul>
<ul class="disc">
<li>Conditional iterations and table comprehensions are also possible with <a href="javascript:call_link('abenmesh_for.html')" class="blue"><span class="qtext">FOR</span> expressions</a> for
<a href="javascript:call_link('abenmesh_path_glosry.html')" class="grey" title="Glossary Entry">mesh paths</a>. <br><br></li>
</ul>
<p><span class="h4">
Example
</span></p>
<p>
Constructs an anonymous internal table with an elementary row type and fills it with square numbers using an iteration expression.
</p>
<p class="qtextml1">
<span class="qtext">
TYPES t_itab TYPE TABLE OF i WITH EMPTY KEY. <br> <br>DATA(dref) = NEW t_itab( FOR i = 1 UNTIL i > 10 <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( ipow( base = i exp = 2 ) ) ). <br>
 <br>cl_demo_output=>display( dref->* ). <br><br>
</span>
</p>
<p><span class="h4">
Executable Examples
</span></p>
<p>
<a href="javascript:call_link('abentable_comprehensions_abexas.html')" class="blue">Examples of Table Comprehensions</a>
</p>
<br>
<br>
<!-- POSTFIX --><span class="h4">Continue</span><br>
<a href="javascript:call_link('abennew_constructor_params_lspc.html')" class="blue">NEW - line_spec</a><br>
<br>
<br>
</DIV>
<fieldset style="opacity:0">
<input id="url" type="text" />
</fieldset>
</BODY>

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abennew_constructor_params_itab.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:51:36 GMT -->
</html>

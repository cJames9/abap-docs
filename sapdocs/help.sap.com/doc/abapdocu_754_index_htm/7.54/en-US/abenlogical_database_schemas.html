<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="EN">
<!-- ABENLOGICAL_DATABASE_SCHEMAS -->

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abenlogical_database_schemas.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:52:52 GMT -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="author" content="SAP">
<meta name="description" content="Logical Schemas for SAP HANA">
<title>
Logical Schemas for SAP HANA - ABAP Keyword Documentation
</title>
<link rel="icon" href="ABAPIcon.ico" type="image/ico">
<link rel="shortcut icon" href="ABAPIcon.ico">
<LINK rel="stylesheet" href="abap_docu.css" type="text/css">
<script language="javascript" type="text/javascript" src="functions.js"></script>
<script type="text/JavaScript">
function urlToClipboard(id){
 try{ var loc = top.location.href;}
 catch(e){ alert( "URL cannnot be determined" ); return; }
 var field = document.getElementById(id);
 field.focus();
 if ( loc.search( ".htm" ) == -1 && loc.search( ".HTM" ) == -1  ){ loc = loc + "index.htm"; }
 if (   loc.search( "index.html" ) != -1
     || loc.search( "INDEX-2.html" ) != -1 ){
   var off = loc.search( "file=" );
   if ( off == -1  ){
     field.value = loc + "?file=abenlogical_database_schemas.htm"; }
   else {
     field.value = loc.substring( 0, off ) + "file=abenlogical_database_schemas.htm";
   }
 }
 else {
    field.value = loc; }
 field.setSelectionRange(0, field.value.length);
 var r = confirm( "Copy URL to clipboard?\n\n" + field.value + "\n\nCopy to clipboard does not work in all browsers." );
 if (r == true) {
   try{
     document.execCommand("copy");
   }
     catch(e){ alert( "URL could not be copied to clipboard" ); }
 }
 window.scrollTo(0,0);
}
</script>
</head>
<body>
<div class="all">
<div style="float:right;">
<input type="button" value="URL"
style="font-size:10px; width:30px; height:18px; padding:0; "
onclick="urlToClipboard('url')" title="Copy URL to Clipboard" ></div>
<p>
<input name="query" id="query" value="" type="text" title="Suchbegriff" size="30" maxlength="30" onkeyup="getInput()">&nbsp;
<input type="button" value="Search"
style="font-size:12px; width:50px; height:18px; padding:0"
onclick="call_search('search.html')" title="Search in ABAP Keyword Documentation" >
<hr style="width:100%;height:1px"></p>
<p class="copyright">AS ABAP Release 754, &copy;Copyright 2019 SAP SE. All rights reserved.</p>
<span class="path">
<a href="javascript:call_link('abenabap.html')" class="blue">ABAP Keyword Documentation</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_reference.html')" class="blue">ABAP &#x2212; Reference</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_language_external_data.html')" class="blue">Processing External Data</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_sql.html')" class="blue">ABAP Database Access</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_hana.html')" class="blue">ABAP and SAP HANA</a>&nbsp;&rarr;&nbsp;
</span>
<p><span class="h1">
Logical Schemas for SAP HANA
</span></p>
<p>
A <a href="javascript:call_link('abenlogical_schema_glosry.html')" class="grey" title="Glossary Entry">logical schema</a> is a symbolic name for a
<a href="javascript:call_link('abendatabase_schema_glosry.html')" class="grey" title="Glossary Entry">database schema</a> in the
<a href="javascript:call_link('abenhana_database_glosry.html')" class="grey" title="Glossary Entry">SAP HANA database</a> that can be used in an <a href="javascript:call_link('abenamdp_macro_glosry.html')" class="grey" title="Glossary Entry">AMDP macro</a>.
</p>
<ul class="disc">
<li><A HREF="#@@ITOC@@ABENLOGICAL_DATABASE_SCHEMAS_1" class="blue">Definition</A></li>
</ul>
<ul class="disc">
<li><A HREF="#@@ITOC@@ABENLOGICAL_DATABASE_SCHEMAS_2" class="blue">Mapping of Physical Database Schemas</A></li>
</ul>
<ul class="circlem2">
<li><A HREF="#@@ITOC@@ABENLOGICAL_DATABASE_SCHEMAS_3" class="blue">Mapping to a Logical Database Schema</A></li>
</ul>
<ul class="circlem2">
<li><A HREF="#@@ITOC@@ABENLOGICAL_DATABASE_SCHEMAS_4" class="blue">Mapping to a Logical HDI Container</A></li>
</ul>
<ul class="disc">
<li><A HREF="#@@ITOC@@ABENLOGICAL_DATABASE_SCHEMAS_5" class="blue">Use</A></li>
</ul>
<A name="@@ITOC@@ABENLOGICAL_DATABASE_SCHEMAS_1"></A>
<p><span class="h2">
Definition
</span></p>
<p>
There are two types of logical schema:
</p>
<ul class="disc">
<li><span class="bold">Logical database schema</span></li>
</ul>
<dl><dd>
A <a href="javascript:call_link('abenlogical_database_schema_glosry.html')" class="grey" title="Glossary Entry">logical database
schema</a> makes it possible to map a physical database schema in a mapping table. A logical database schema is represented by a transportable
<a href="javascript:call_link('abenrepository_object_glosry.html')" class="grey" title="Glossary Entry">repository object</a> that developers must create in the
<a href="javascript:call_link('abenadt_glosry.html')" class="grey" title="Glossary Entry">ABAP Development Tools (ADT)</a>. The repository object has the following attributes:
</dd></dl>
<ul class="circlem2">
<li>A name used to map a physical database schema to the object, so making the object usable.</li>
</ul>
<ul class="circlem2">
<li>An optional flag that permits the mapping of the <a href="javascript:call_link('abenabap_db_schema_glosry.html')" class="grey" title="Glossary Entry">ABAP database schema</a>.</li>
</ul>
<dl><dd>
Developers with development authorization can create and modify a logical database schema as a repository object.
</dd></dl>
<ul class="disc">
<li><span class="bold">Logical HDI Container</span></li>
</ul>
<dl><dd>
A <a href="javascript:call_link('abenlogical_hdi_container_glosry.html')" class="grey" title="Glossary Entry">logical HDI container</a> is part of the definition of an
<a href="javascript:call_link('abenamhc_glosry.html')" class="grey" title="Glossary Entry">ABAP-managed HDI container (AMHC)</a>, namely a
<a href="javascript:call_link('abenhdi_container_glosry.html')" class="grey" title="Glossary Entry">HDI container</a> managed by ABAP. A logical HDI container does not have a repository object.
</dd></dl>
<A name="@@ITOC@@ABENLOGICAL_DATABASE_SCHEMAS_2"></A>
<p><span class="h2">
Mapping of Physical Database Schemas
</span></p>
<p>
Mappings of physical database schemas to logical database schemas can be distinguished from mappings of physical database schemas to logical HDI schemas.
</p>
<A name="@@ITOC@@ABENLOGICAL_DATABASE_SCHEMAS_3"></A>
<p><span class="h3">
Mapping to a Logical Database Schema
</span></p>
<p>
The mapping of physical database schema to an existing logical database schema is defined in the mapping
table <span class="lnkgrey">AMDP_SCHEMA_MAP</span> in the documented transaction <span class="lnkgrey">DB_SCHEMA_MAP</span>. A mapping of this type is currently only possible on an AS ABAP whose
<a href="javascript:call_link('abenstandard_db_glosry.html')" class="grey" title="Glossary Entry">standard database</a> is a SAP HANA database. The physical database schema is case-sensitive.
</p>
<p>
A mapping made using the transaction DB_SCHEMA_MAP is usually a local mapping, but can be transported
with some restrictions. Transports like this are usually only made from systems with an SAP HANA database
and should only be made into systems in which the specified physical database schemas exist. Transports
should only be made between systems in the same enterprise. Any mappings made by SAP are not delivered to customers. The cross-client mapping table AMDP_SCHEMA_MAP has the
<a href="javascript:call_link('abenddic_database_tables_delivery.html')" class="blue">delivery class</a> <span class="qtext400">C</span>.
</p>
<p>
An <a href="javascript:call_link('abenabap_db_schema_glosry.html')" class="grey" title="Glossary Entry">ABAP database schema</a> is mapped using the predefined name <span class="qtext400">:abap_db_schema</span>:
</p>
<ul class="disc">
<li>This name is used as a placeholder for the real name of the ABAP database schema and can be evaluated accordingly by frameworks.</li>
</ul>
<ul class="disc">
<li>The associated flag must be set for the logical database schema before the mapping can take place.</li>
</ul>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>System administrators with appropriate authorizations can map physical database schemas to logical database schemas.</li>
</ul>
<ul class="disc">
<li>The mappings exist in systems that do not have an SAP HANA database as a standard database, but cannot be edited and are ignored.</li>
</ul>
<ul class="disc">
<li>Only the predefined name <span class="qtext400">:abap_db_schema</span> should be used for the mapping of the current
<a href="javascript:call_link('abenabap_db_schema_glosry.html')" class="grey" title="Glossary Entry">ABAP database schema</a>.
If the associated flag is set, it would be possible to speciiy the real name, but this name cannot be transported properly and the logical database schema would not be usable in AMDP.</li>
</ul>
<A name="@@ITOC@@ABENLOGICAL_DATABASE_SCHEMAS_4"></A>
<p><span class="h3">
Mapping to a Logical HDI Container
</span></p>
<p>
A physical database schema is mapped to a logical HDI container in transaction <span class="lnkgrey">SCTS_AMHC</span> (used to define
<a href="javascript:call_link('abenamhc_glosry.html')" class="grey" title="Glossary Entry">ABAP-managed HDI containers (AMHCs)</a>). An AMHC is a special
<a href="javascript:call_link('abenhdi_container_glosry.html')" class="grey" title="Glossary Entry">HDI container</a> that uses
<a href="javascript:call_link('abenhta_glosry.html')" class="grey" title="Glossary Entry">SAP HANA Transport for ABAP (HTA)</a> as an interface to the
<a href="javascript:call_link('abencts_glosry.html')" class="grey" title="Glossary Entry">Change and Transport System (CTS)</a> (for its
<a href="javascript:call_link('abenhdi_object_glosry.html')" class="grey" title="Glossary Entry">HDI objects</a> too). The logical
HDI container is a symbolic name for the physical AMHC database schema. There are no entries in the
mapping table <span class="lnkgrey">AMDP_SCHEMA_MAP</span> for a logical HDI container. The logical
HDI containers in AS ABAP can be displayed in transaction <span class="lnkgrey">DB_SCHEMA_MAP</span>, but mappings cannot be edited.
</p>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>Mappings of physical <a href="javascript:call_link('abenhdi_container_glosry.html')" class="grey" title="Glossary Entry">HDI containers</a> to logical HDI schemas are usually predefined in a system.</li>
</ul>
<ul class="disc">
<li>The database schema of a <a href="javascript:call_link('abenamhc_glosry.html')" class="grey" title="Glossary Entry">AMHC</a> is never the
<a href="javascript:call_link('abenabap_db_schema_glosry.html')" class="grey" title="Glossary Entry">ABAP database schema</a>.</li>
</ul>
<A name="@@ITOC@@ABENLOGICAL_DATABASE_SCHEMAS_5"></A>
<p><span class="h2">
Use
</span></p>
<p>
A logical schema can be used by frameworks for variable access to a physical database schema in Native SQL. More specifically, the use of logical schemas is are supported by the
<a href="javascript:call_link('abenabap_managed_db_proc_glosry.html')" class="grey" title="Glossary Entry">ABAP Managed Database Procedures (AMDP)</a>:
</p>
<ul class="disc">
<li>A special <a href="javascript:call_link('abenamdp_macro_glosry.html')" class="grey" title="Glossary Entry">AMDP macro</a>
(<a href="javascript:call_link('abenamdp_logical_db_schemas.html')" class="blue"><span class="qtext400">$ABAP.schema</span></a>) can be used in
<a href="javascript:call_link('abenamdp_method_glosry.html')" class="grey" title="Glossary Entry">AMDP methods</a> to specify logical schemas. At runtime, the macro is replaced by the name of the mapped physical database schema.</li>
</ul>
<ul class="disc">
<li>If the current <a href="javascript:call_link('abenabap_db_schema_glosry.html')" class="grey" title="Glossary Entry">ABAP
database schema</a> is entered implicitly as a physical database schema of a logical database schema
using the predefined name <span class="qtext400">:abap_db_schema</span>, the macro <a href="javascript:call_link('abenamdp_logical_db_schemas.html')" class="blue">
<span class="qtext400">$ABAP.schema</span></a> is skipped in the evaluation and hence the current ABAP database schema accessed implicitly.</li>
</ul>
<ul class="disc">
<li>If the current <a href="javascript:call_link('abenabap_db_schema_glosry.html')" class="grey" title="Glossary Entry">ABAP
database schema</a> is mapped to a logical schema using its real name, it is used for the macro <a href="javascript:call_link('abenamdp_logical_db_schemas.html')" class="blue">
<span class="qtext400">$ABAP.schema</span></a> in the evaluation of this macro. It is not possible to specify the current ABAP database schema explicitly in AMDP, which means that a syntax error occurs.</li>
</ul>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>If a logical database schema to which the <a href="javascript:call_link('abenabap_db_schema_glosry.html')" class="grey" title="Glossary Entry">
ABAP database schema</a> is mapped is used in the macro <a href="javascript:call_link('abenamdp_logical_db_schemas.html')" class="blue"><span class="qtext400">
$ABAP.schema</span></a>, the schema must be declared using the addition <a href="javascript:call_link('abapmethod_by_db_proc.html')" class="blue">
<span class="qtext">USING SCHEMA</span></a> of the statement <span class="qtext">METHOD</span> in the
current AMDP emthod. Conversely, this addition can only be used for logical database schemas to wohic the ABAP database schema can be mapped. For this reason, if the flag that allows mappings of the
<a href="javascript:call_link('abenabap_db_schema_glosry.html')" class="grey" title="Glossary Entry">ABAP database schema</a> is changed for an existing logical database schema, syntax errors are incurred in
<a href="javascript:call_link('abenamdp_class_glosry.html')" class="grey" title="Glossary Entry">AMDP classes</a> that already use this schema.</li>
</ul>
<ul class="disc">
<li><a href="javascript:call_link('abenlogical_hdi_container_glosry.html')" class="grey" title="Glossary Entry">Logical HDI containers</a>
are used in the macro <a href="javascript:call_link('abenamdp_logical_db_schemas.html')" class="blue"><span class="qtext400">$ABAP.schema</span></a> for simple access to
<a href="javascript:call_link('abenhdi_object_glosry.html')" class="grey" title="Glossary Entry">HDI objects</a> in <a href="javascript:call_link('abenxsa_glosry.html')" class="grey" title="Glossary Entry">SAP HANA XSA</a>.</li>
</ul>
<ul class="disc">
<li>The transaction <span class="lnkgrey">DB_SCHEMA_MAP</span> also displays a logical schema with the predefined name <span class="qtext400">SAP_ABAP</span> to which the current
<a href="javascript:call_link('abenabap_db_schema_glosry.html')" class="grey" title="Glossary Entry">ABAP database schema</a> is always mapped. This schema is only for internal
<a href="javascript:call_link('abenhdi_glosry.html')" class="grey" title="Glossary Entry">HDI</a> use and cannot be used in the
<a href="javascript:call_link('abenamdp_macro_glosry.html')" class="grey" title="Glossary Entry">AMDP macro</a> <a href="javascript:call_link('abenamdp_logical_db_schemas.html')" class="blue"><span class="qtext400">$ABAP.schemas</span></a>.</li>
</ul>
<br>
<br>
<br>
<br>
</DIV>
<fieldset style="opacity:0">
<input id="url" type="text" />
</fieldset>
</BODY>

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abenlogical_database_schemas.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:52:52 GMT -->
</html>

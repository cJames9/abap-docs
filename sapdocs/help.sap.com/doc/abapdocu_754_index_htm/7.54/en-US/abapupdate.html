<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="EN">
<!-- ABAPUPDATE -->

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abapupdate.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:52:08 GMT -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="author" content="SAP">
<meta name="description" content="UPDATE dbtab">
<meta name="keywords" content="ABAP, Database Table, Edit">
<title>
UPDATE dbtab - ABAP Keyword Documentation
</title>
<link rel="icon" href="ABAPIcon.ico" type="image/ico">
<link rel="shortcut icon" href="ABAPIcon.ico">
<LINK rel="stylesheet" href="abap_docu.css" type="text/css">
<script language="javascript" type="text/javascript" src="functions.js"></script>
<script type="text/JavaScript">
function urlToClipboard(id){
 try{ var loc = top.location.href;}
 catch(e){ alert( "URL cannnot be determined" ); return; }
 var field = document.getElementById(id);
 field.focus();
 if ( loc.search( ".htm" ) == -1 && loc.search( ".HTM" ) == -1  ){ loc = loc + "index.htm"; }
 if (   loc.search( "index.html" ) != -1
     || loc.search( "INDEX-2.html" ) != -1 ){
   var off = loc.search( "file=" );
   if ( off == -1  ){
     field.value = loc + "?file=abapupdate.htm"; }
   else {
     field.value = loc.substring( 0, off ) + "file=abapupdate.htm";
   }
 }
 else {
    field.value = loc; }
 field.setSelectionRange(0, field.value.length);
 var r = confirm( "Copy URL to clipboard?\n\n" + field.value + "\n\nCopy to clipboard does not work in all browsers." );
 if (r == true) {
   try{
     document.execCommand("copy");
   }
     catch(e){ alert( "URL could not be copied to clipboard" ); }
 }
 window.scrollTo(0,0);
}
</script>
</head>
<body>
<div class="all">
<div style="float:right;">
<input type="button" value="URL"
style="font-size:10px; width:30px; height:18px; padding:0; "
onclick="urlToClipboard('url')" title="Copy URL to Clipboard" ></div>
<p>
<input name="query" id="query" value="" type="text" title="Suchbegriff" size="30" maxlength="30" onkeyup="getInput()">&nbsp;
<input type="button" value="Search"
style="font-size:12px; width:50px; height:18px; padding:0"
onclick="call_search('search.html')" title="Search in ABAP Keyword Documentation" >
<hr style="width:100%;height:1px"></p>
<p class="copyright">AS ABAP Release 754, &copy;Copyright 2019 SAP SE. All rights reserved.</p>
<span class="path">
<a href="javascript:call_link('abenabap.html')" class="blue">ABAP Keyword Documentation</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_reference.html')" class="blue">ABAP &#x2212; Reference</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_language_external_data.html')" class="blue">Processing External Data</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_sql.html')" class="blue">ABAP Database Access</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenopensql.html')" class="blue">ABAP SQL</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenopen_sql_writing.html')" class="blue">ABAP SQL - Write Accesses</a>&nbsp;&rarr;&nbsp;
</span>
<A NAME="@@UPDATE dbtab@@!ABAP_STATEMENT_OSQL!@@"></A>
<p><span class="h1">
UPDATE dbtab <br><br>
</span></p>
<P>
<a href="javascript:call_link('abapupdate_shortref.html')" class="blue">Quick Reference</a> <br><br>
</P>
<p><span class="h2">
<span class="bold">Syntax</span>
</span></p>
<P>
<span class="qtext">UPDATE <span class="lnkgrey">target</span> <i class=bn>[</i><span class="lnkgrey">connection</span><i class=bn>]</i> <a href="javascript:call_link('abapupdate_source.html')" class="blue">source</a>.</span> <br><br>
</P>
<p><span class="h4">
Effect
</span></p>
<P>
The <a href="javascript:call_link('abenopen_sql_glosry.html')" class="grey" title="Glossary Entry">ABAP SQL</a> statement <span class="qtext">
UPDATE</span> changes the content of one or more rows of the database table specified in <span class="lnkgrey"><span class="qtext">
target</span></span>. The entries in <a href="javascript:call_link('abapupdate_source.html')" class="blue"><span class="qtext">source</span></a> determine which columns of which rows are changed, and how they are changed. <br>
The addition <span class="lnkgrey"><span class="qtext">connection</span></span> can be used to specify a
<a href="javascript:call_link('abensecondary_db_connection_glosry.html')" class="grey" title="Glossary Entry">secondary connection</a>. <br><br>
</P>
<P>
<span class="bold">System Fields</span> <br><br>The statement <span class="qtext">UPDATE</span> sets the values of the system fields <span class="qtext">sy-subrc</span> and <span class="qtext">sy-dbcnt</span>. <br><br>
</P>
<table border>
<tr>
<td><span class="qtext"><span class="bold">sy-subrc</span></span></td>
<td><span class="bold">Meaning</span></td>
</tr>
<tr>
<td>0</td>
<td>When <span class="qtext">SET</span> was specified in <span class="qtext">source</span>, at least
one row was changed. When a work area was specified in <span class="qtext">source</span>, the specified
row was changed. When an internal table was specified in <span class="qtext">source</span>, all specified rows were changed or the internal table is empty.</td>
</tr>
<tr>
<td>2</td>
<td>If a <a href="javascript:call_link('abenlob_handle_structure_glosry.html')" class="grey" title="Glossary Entry">LOB handle</a> structure with a component for
<a href="javascript:call_link('abenwriter_stream_glosry.html')" class="grey" title="Glossary Entry">writer streams</a> or a reference
variable for writer streams was specified after <span class="qtext">SET</span>, the components which
are not associated with writer streams were not yet written to the database, but instead are passed
when the stream is closed at latest. Whether this situation occurs or not depends on the database. See <span class="lnkgrey">LOB handles</span>.</td>
</tr>
<tr>
<td>4</td>
<td>When <span class="qtext">SET</span> or a work area was specified in <span class="qtext">source</span>,
no row was changed; or when an internal table was specified in <span class="qtext">source</span>, not
all specified rows were changed. This is either because no appropriate row was found, or because the change would created a row that produces duplicate entries in the
<a href="javascript:call_link('abenprimary_key_glosry.html')" class="grey" title="Glossary Entry">primary key</a> or a unique
<a href="javascript:call_link('abensecondary_index_glosry.html')" class="grey" title="Glossary Entry">secondary index</a> in the database table.</td>
</tr>
</table><br>
<P>
The statement <span class="qtext">UPDATE</span> sets <span class="qtext">sy-dbcnt</span> to the number
of changed rows. If an overflow occurs because the number or rows is greater than 2,147,483,647, <span class="qtext">
sy-dbcnt</span> is set to -1. If <span class="qtext">sy-subrc</span> is 2, <span class="qtext">sy-dbcnt</span> is also set to the value -1 (for undefined). <br><br>
</P>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>
The changes are committed to the database by the next
<a href="javascript:call_link('abendatabase_commit_glosry.html')" class="grey" title="Glossary Entry">database commit</a>. Until that point, they can still be undone using a
<a href="javascript:call_link('abendatabase_rollback_glosry.html')" class="grey" title="Glossary Entry">database rollback</a> The current
<a href="javascript:call_link('abendb_isolation.html')" class="blue">isolation level</a> defines whether the modified data can be read into other
<a href="javascript:call_link('abendatabase_luw_glosry.html')" class="grey" title="Glossary Entry">database LUWs</a> before or only after the database commit.
<br><br></li>
<li>
The statement <span class="qtext">UPDATE</span> sets a
<a href="javascript:call_link('abendatabase_lock_glosry.html')" class="grey" title="Glossary Entry">database lock</a> as an
<a href="javascript:call_link('abenexclusive_lock_glosry.html')" class="grey" title="Glossary Entry">exclusive lock</a> until the next database commit or rollback. If used incorrectly, this can produce a
<a href="javascript:call_link('abendeadlock_glosry.html')" class="grey" title="Glossary Entry">deadlock</a>.
<br><br></li>
<li>
The number of rows that can be modified in the tables of a database within a
<a href="javascript:call_link('abendatabase_luw_glosry.html')" class="grey" title="Glossary Entry">database LUW</a> is limited, since a database system can only manage a limited amount of locks and data in the rollback area.
<br><br></li>
<li>
The statement <span class="qtext">UPDATE</span> cannot be applied to the system table TRDIR. <br><br>
<br></li>
</ul>
<p><span class="h4">
Example
</span></p>
<p>
The statement <span class="qtext">UPDATE</span> overwrites the content of the columns of a database
table row specified by a key with values from a work area created using the value operator <span class="qtext">VALUE</span>.
</p>
<p class="qtextml1">
<span class="qtext">
DELETE FROM demo_update. <br>INSERT demo_update FROM @( VALUE #( id = 'X' ) ). <br> <br>UPDATE demo_update FROM @( VALUE #( id = 'X' col1 = 100 <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; col2 = 200 <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; col3 = 300 <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; col4 = 400 ) ).
</span>
</p>
<br>
<br>
<!-- POSTFIX --><span class="h4">Continue</span><br>
<a href="javascript:call_link('abapupdate_source.html')" class="blue">UPDATE dbtab - source</a><br>
<br>
<br>
</DIV>
<fieldset style="opacity:0">
<input id="url" type="text" />
</fieldset>
</BODY>

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abapupdate.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:52:08 GMT -->
</html>

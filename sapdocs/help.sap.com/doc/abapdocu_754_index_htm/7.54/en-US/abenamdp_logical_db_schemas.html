<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="EN">
<!-- ABENAMDP_LOGICAL_DB_SCHEMAS -->

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abenamdp_logical_db_schemas.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:52:09 GMT -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="author" content="SAP">
<meta name="description" content="AMDP - Macro for Logical Schemas">
<meta name="keywords" content="ABAP, $ABAP.schema, AMDP Macro">
<title>
AMDP - Macro for Logical Schemas - ABAP Keyword Documentation
</title>
<link rel="icon" href="ABAPIcon.ico" type="image/ico">
<link rel="shortcut icon" href="ABAPIcon.ico">
<LINK rel="stylesheet" href="abap_docu.css" type="text/css">
<script language="javascript" type="text/javascript" src="functions.js"></script>
<script type="text/JavaScript">
function urlToClipboard(id){
 try{ var loc = top.location.href;}
 catch(e){ alert( "URL cannnot be determined" ); return; }
 var field = document.getElementById(id);
 field.focus();
 if ( loc.search( ".htm" ) == -1 && loc.search( ".HTM" ) == -1  ){ loc = loc + "index.htm"; }
 if (   loc.search( "index.html" ) != -1
     || loc.search( "INDEX-2.html" ) != -1 ){
   var off = loc.search( "file=" );
   if ( off == -1  ){
     field.value = loc + "?file=abenamdp_logical_db_schemas.htm"; }
   else {
     field.value = loc.substring( 0, off ) + "file=abenamdp_logical_db_schemas.htm";
   }
 }
 else {
    field.value = loc; }
 field.setSelectionRange(0, field.value.length);
 var r = confirm( "Copy URL to clipboard?\n\n" + field.value + "\n\nCopy to clipboard does not work in all browsers." );
 if (r == true) {
   try{
     document.execCommand("copy");
   }
     catch(e){ alert( "URL could not be copied to clipboard" ); }
 }
 window.scrollTo(0,0);
}
</script>
</head>
<body>
<div class="all">
<div style="float:right;">
<input type="button" value="URL"
style="font-size:10px; width:30px; height:18px; padding:0; "
onclick="urlToClipboard('url')" title="Copy URL to Clipboard" ></div>
<p>
<input name="query" id="query" value="" type="text" title="Suchbegriff" size="30" maxlength="30" onkeyup="getInput()">&nbsp;
<input type="button" value="Search"
style="font-size:12px; width:50px; height:18px; padding:0"
onclick="call_search('search.html')" title="Search in ABAP Keyword Documentation" >
<hr style="width:100%;height:1px"></p>
<p class="copyright">AS ABAP Release 754, &copy;Copyright 2019 SAP SE. All rights reserved.</p>
<span class="path">
<a href="javascript:call_link('abenabap.html')" class="blue">ABAP Keyword Documentation</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_reference.html')" class="blue">ABAP &#x2212; Reference</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_language_external_data.html')" class="blue">Processing External Data</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_sql.html')" class="blue">ABAP Database Access</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenamdp.html')" class="blue">AMDP - ABAP Managed Database Procedures</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenamdp_macros.html')" class="blue">AMDP Macros</a>&nbsp;&rarr;&nbsp;
</span>
<p><span class="h1">
AMDP - Macro for Logical Schemas
</span></p>
<A name="@@ITOC@@ABENAMDP_LOGICAL_DB_SCHEMAS_1"></A>
<p><span class="h2">
Syntax
</span></p>
<p>
<span class="qtext400">... "$ABAP.schema( <i class=bn>[</i>name =<i class=bn>]</i> schema_name <br>&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <i class=bn>[</i>quote = SINGLE|DOUBLE<i class=bn>]</i> )" ...</span>
</p>
<p><span class="h4">
Effect
</span></p>
<p>
Specifies the predefined <a href="javascript:call_link('abenamdp_macro_glosry.html')" class="grey" title="Glossary Entry">AMDP macro</a> <a
 href="javascript:call_link('abenlogical_schema_glosry.html')" class="grey" title="Glossary Entry"><span class="qtext400">
<a href="javascript:call_link('abenlogical_schema_glosry.html')" class="grey" title="Glossary Entry">$ABAP.schema</a></span></a> for a <a href="javascript:call_link('abenlogical_schema_glosry.html')" class="grey" title="Glossary Entry">logical schema</a>.
</p>
<p>
In an AMDP method implemented in SQLScript, a full qualified name can be specified to access objects in a different
<a href="javascript:call_link('abendatabase_schema_glosry.html')" class="grey" title="Glossary Entry">database schema</a>. Here, the AMDP framework supports the
<a href="javascript:call_link('abenlogical_database_schemas.html')" class="blue">logical schemas</a> for the SAP HANA database.
The AMDP macro <span class="qtext400">$ABAP.schema</span> can be used to specify a logical schema to which a physical name is mapped instead of the physical name of a database schema.
</p>
<ul class="disc">
<li>If an explicit name of a physical database schema is mapped to the logical schema specified using
<span class="qtext400">schema_name</span>, the ABAP runtime environment replaces this expression (including
the quotation marks) with the physical database schema in the implementation on the database. The specified
logical schema is not case-sensitive, but the mapped physical database schema is. When replaced, the
physical database schema is set in double quotation marks by default if required. This can be overwritten
by the optional addition <span class="qtext400">quote</span>. If <span class="qtext400">SINGLE</span>
is specified, the physical database schema is always set in single quotation marks. <span class="qtext400">DOUBLE</span> is the default behavior.</li>
</ul>
<ul class="disc">
<li>If the predefined name <span class="qtext400">:abap_db_schema</span> is used to <span class="lnkgrey">map</span> the current
<a href="javascript:call_link('abenabap_db_schema_glosry.html')" class="grey" title="Glossary Entry">ABAP database schema</a> to a
<a href="javascript:call_link('abenlogical_database_schema_glosry.html')" class="grey" title="Glossary Entry">logical database
schema</a> specified using <span class="qtext400">schema_name</span>, the ABAP runtime environment removes
the full database schema and the current ABAP database schema is accessed implicitly. In this case,
the optional addition <span class="qtext400">quote</span> cannot be specified using <span class="qtext400">SINGLE</span>, since this would enclose the empty content in single quotation marks.</li>
</ul>
<p>
The specified logical schema must exist as a <a href="javascript:call_link('abenlogical_database_schema_glosry.html')" class="grey" title="Glossary Entry">logical database schema</a> or as a
<a href="javascript:call_link('abenlogical_hdi_container_glosry.html')" class="grey" title="Glossary Entry">logical HDI container</a>.
If a physical database schema is mapped to the logical schema, the physical schema must exist on the
current database. If no physical database schema is mapped to the logical schema, a syntax check warning
occurs. When the AMDP method is executed, an exception of the class <span class="lnkgrey">CX_AMDP_DBPROC_GENERATE_FAILED</span> is raised.
</p>
<p>
If the mapping of the <a href="javascript:call_link('abenabap_db_schema_glosry.html')" class="grey" title="Glossary Entry">ABAP database schema</a> is allowed for a
<a href="javascript:call_link('abenlogical_database_schema_glosry.html')" class="grey" title="Glossary Entry">logical database
schema</a>, the addition <a href="javascript:call_link('abapmethod_by_db_proc.html')" class="blue"><span class="qtext">USING SCHEMA</span></a> must be specified for the logical database schema in the implementation of the AMDP method.
</p>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>When database objects in the current database schema are accessed, the name of this schema cannot
be specified explicitly (either directly or using logical schemas) More specifically, the logical schema
with the predefined name SAP_ABAP cannot be used. A logical database schema to which the ABAP database schema is mapped using the predefined name <span class="qtext400">:abap_db_schema</span> can, however, be used.</li>
</ul>
<ul class="disc">
<li>If a logical database schema is deleted or the mapping of a physical database schema is modified, the ABAP runtime environment checks all consumer AMDP classes.</li>
</ul>
<ul class="disc">
<li>In AMDP, a <a href="javascript:call_link('abenlogical_hdi_container_glosry.html')" class="grey" title="Glossary Entry">
logical HDI container</a> can be used  for simple access to <a href="javascript:call_link('abenxsa_glosry.html')" class="grey" title="Glossary Entry">
<a href="javascript:call_link('abenhdi_object_glosry.html')" class="grey" title="Glossary Entry">XSA</a></a> <a href="javascript:call_link('abenxsa_glosry.html')" class="grey" title="Glossary Entry">
<a href="javascript:call_link('abenhdi_object_glosry.html')" class="grey" title="Glossary Entry">HDI</a> objects</a> in an <a href="javascript:call_link('abenamhc_glosry.html')" class="grey" title="Glossary Entry">ABAP-managed HDI container</a>.</li>
</ul>
<p><span class="h4">
Executable Example
</span></p>
<p>
<a href="javascript:call_link('abenamdp_db_schema_abexa.html')" class="blue">Access to Database Schemas</a>
</p>
<br>
<br>
<br>
<br>
</DIV>
<fieldset style="opacity:0">
<input id="url" type="text" />
</fieldset>
</BODY>

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abenamdp_logical_db_schemas.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:52:09 GMT -->
</html>

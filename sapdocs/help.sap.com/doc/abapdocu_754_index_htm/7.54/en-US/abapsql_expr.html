<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="EN">
<!-- ABAPSQL_EXPR -->

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abapsql_expr.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:52:25 GMT -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="author" content="SAP">
<meta name="description" content="ABAP SQL - SQL Expressions sql_exp">
<meta name="keywords" content="ABAP, SQL Expressions">
<title>
ABAP SQL - SQL Expressions sql_exp - ABAP Keyword Documentation
</title>
<link rel="icon" href="ABAPIcon.ico" type="image/ico">
<link rel="shortcut icon" href="ABAPIcon.ico">
<LINK rel="stylesheet" href="abap_docu.css" type="text/css">
<script language="javascript" type="text/javascript" src="functions.js"></script>
<script type="text/JavaScript">
function urlToClipboard(id){
 try{ var loc = top.location.href;}
 catch(e){ alert( "URL cannnot be determined" ); return; }
 var field = document.getElementById(id);
 field.focus();
 if ( loc.search( ".htm" ) == -1 && loc.search( ".HTM" ) == -1  ){ loc = loc + "index.htm"; }
 if (   loc.search( "index.html" ) != -1
     || loc.search( "INDEX-2.html" ) != -1 ){
   var off = loc.search( "file=" );
   if ( off == -1  ){
     field.value = loc + "?file=abapsql_expr.htm"; }
   else {
     field.value = loc.substring( 0, off ) + "file=abapsql_expr.htm";
   }
 }
 else {
    field.value = loc; }
 field.setSelectionRange(0, field.value.length);
 var r = confirm( "Copy URL to clipboard?\n\n" + field.value + "\n\nCopy to clipboard does not work in all browsers." );
 if (r == true) {
   try{
     document.execCommand("copy");
   }
     catch(e){ alert( "URL could not be copied to clipboard" ); }
 }
 window.scrollTo(0,0);
}
</script>
</head>
<body>
<div class="all">
<div style="float:right;">
<input type="button" value="URL"
style="font-size:10px; width:30px; height:18px; padding:0; "
onclick="urlToClipboard('url')" title="Copy URL to Clipboard" ></div>
<p>
<input name="query" id="query" value="" type="text" title="Suchbegriff" size="30" maxlength="30" onkeyup="getInput()">&nbsp;
<input type="button" value="Search"
style="font-size:12px; width:50px; height:18px; padding:0"
onclick="call_search('search.html')" title="Search in ABAP Keyword Documentation" >
<hr style="width:100%;height:1px"></p>
<p class="copyright">AS ABAP Release 754, &copy;Copyright 2019 SAP SE. All rights reserved.</p>
<span class="path">
<a href="javascript:call_link('abenabap.html')" class="blue">ABAP Keyword Documentation</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_reference.html')" class="blue">ABAP &#x2212; Reference</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_language_external_data.html')" class="blue">Processing External Data</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_sql.html')" class="blue">ABAP Database Access</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenopensql.html')" class="blue">ABAP SQL</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenopen_sql_operands.html')" class="blue">ABAP SQL - Operands and Expressions</a>&nbsp;&rarr;&nbsp;
</span>
<p><span class="h1">
ABAP SQL - SQL Expressions sql_exp
</span></p>
<p><span class="h2">
<span class="bold">Syntax</span>
</span></p>
<P>
<span class="qtext">... <a href="javascript:call_link('abensql_elem.html')" class="blue">sql_elem</a> <br>&nbsp;&nbsp;<i class=bn>|</i> <a href="javascript:call_link('abensql_builtin_func.html')" class="blue">sql_func</a> <br>
&nbsp;&nbsp;<i class=bn>|</i> <a href="javascript:call_link('abensql_arith.html')" class="blue">sql_arith</a> <br>&nbsp;&nbsp;<i class=bn>|</i> <a href="javascript:call_link('abensql_cast.html')" class="blue">sql_cast</a> <br>
&nbsp;&nbsp;<i class=bn>|</i> <a href="javascript:call_link('abensql_string.html')" class="blue">sql_string</a> <br>&nbsp;&nbsp;<i class=bn>|</i> <a href="javascript:call_link('abensql_case.html')" class="blue">sql_case</a> <br>
&nbsp;&nbsp;<i class=bn>|</i> <a href="javascript:call_link('abapselect_aggregate.html')" class="blue">sql_agg</a> <br>&nbsp;&nbsp;<i class=bn>|</i> <a href="javascript:call_link('abapselect_over.html')" class="blue">sql_win</a>...</span> <br><br>
</P>
<p><span class="h4">
Effect
</span></p>
<P>
SQL expressions are expressions that can be specified in the following positions of ABAP SQL statements:
</P>
<ul class="disc">
<li>
As <a href="javascript:call_link('abapselect_clause_col_spec.html')" class="blue">columns specified</a> in the <a href="javascript:call_link('abapselect_list.html')" class="blue"><span class="qtext">SELECT</span> list</a>
<br><br></li>
<li>
As arguments of certain <a href="javascript:call_link('abapselect_aggregate.html')" class="blue">aggregate expressions</a> in
the <a href="javascript:call_link('abapselect_list.html')" class="blue"><span class="qtext">SELECT</span> list</a> and in the <a href="javascript:call_link('abaphaving_clause.html')" class="blue"><span class="qtext">HAVING</span> clause</a>
<br><br></li>
<li>
As operands of <span class="lnkgrey">SQL conditions</span>:
<br></li>
</ul>
<ul class="circlem2">
<li>On the left side of an <a href="javascript:call_link('abenwhere_logexp.html')" class="blue">SQL condition for statements</a></li>
</ul>
<ul class="circlem2">
<li>On the left and right side of an <a href="javascript:call_link('abenosql_expr_logexp.html')" class="blue">SQL condition for expressions</a></li>
</ul>
<ul class="disc">
<li>
As a grouping criterion after <a href="javascript:call_link('abapgroupby_clause.html')" class="blue"><span class="qtext">GROUP BY</span></a>
<br><br></li>
<li>
As a window criterion after <a href="javascript:call_link('abapselect_over.html')" class="blue"><span class="qtext">PARTITION</span></a>
<br></li>
</ul>
<P>
SQL expressions are passed to the database system, executed there, and the result is passed to the AS ABAP if requested.
</P>
<P>
In general, the operands of SQL expressions can also be SQL expressions, the result of which must have a suitable data type. There are restrictions to individual operand positions, which are described for these.
</P>
<P>
The following SQL expressions exist:
</P>
<ul class="disc">
<li>
<a href="javascript:call_link('abensql_elem.html')" class="blue">Elementary SQL expressions</a>
<br><br></li>
<li>
<a href="javascript:call_link('abenopen_sql_functions.html')" class="blue">Calls of built-in SQL functions</a>
<br><br></li>
<li>
<a href="javascript:call_link('abensql_arith.html')" class="blue">Arithmetic expressions</a>
<br><br></li>
<li>
<a href="javascript:call_link('abensql_cast.html')" class="blue">Cast expressions</a>
<br><br></li>
<li>
<a href="javascript:call_link('abensql_string.html')" class="blue">String expressions</a>
<br><br></li>
<li>
<a href="javascript:call_link('abensql_case.html')" class="blue">Case distinctions</a>
<br><br></li>
<li>
<a href="javascript:call_link('abapselect_aggregate.html')" class="blue">Aggregate expressions</a>
<br><br></li>
<li>
<a href="javascript:call_link('abapselect_over.html')" class="blue">Window expressions</a>
<br></li>
</ul>
<P>
Every expression can be enclosed in <a href="javascript:call_link('abensql_exp_parentheses.html')" class="blue">parentheses</a>.
The result of an expression is used in the ABAP SQL statement in accordance with the operand position, with the data type in nested expressions being specified by the outermost expression.
</P>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>
No alias names defined using <a href="javascript:call_link('abapselect_list.html')" class="blue"><span class="qtext">AS</span></a>
can be used as operands of SQL expressions. This also means that none of the expressions used in a <span class="qtext">SELECT</span> list can be specified as operands using their alias names.
<br><br></li>
<li>
SQL expressions cannot currently be used together with the addition <a href="javascript:call_link('abenwhere_logexp_itab.html')" class="blue">
<span class="qtext">FOR ALL ENTRIES</span></a>. An exception to this rule are individual columns and an individually specified aggregate expression <span class="qtext">COUNT( * )</span>.
<br><br></li>
<li>
<a href="javascript:call_link('abenbuffer_expressions.html')" class="blue">Certain SQL expressions</a> can be calculated in the
<a href="javascript:call_link('abentable_buffer_glosry.html')" class="grey" title="Glossary Entry">table buffer</a>. If any other SQL expressions are used,
<a href="javascript:call_link('abensap_buffering_glosry.html')" class="grey" title="Glossary Entry">table buffering</a> is bypassed.
<br><br></li>
<li>
When SQL expressions are used except for individually specified columns or individually specified aggregate expressions, the syntax check is performed in a
<a href="javascript:call_link('abenopensql_strict_mode_740_sp05.html')" class="blue">strict mode as of Release 7.40, SP05</a>, which handles the statement more strictly than the regular syntax check. If other SQL expressions are specified along with
<a href="javascript:call_link('abapselect_aggregate.html')" class="blue">aggregate expressions</a> or
the addition <a href="javascript:call_link('abapgroupby_clause.html')" class="blue"><span class="qtext">GROUP BY</span></a>, the syntax check is performed in
<a href="javascript:call_link('abenopensql_strict_mode_740_sp08.html')" class="blue">strict mode as of Release 7.40, SP08</a>. Using
<a href="javascript:call_link('abapselect_aggregate.html')" class="blue">aggregate expressions</a> as operands of SQL expressions results in the
<a href="javascript:call_link('abenopensql_strict_mode_754.html')" class="blue">strict mode as of Release 7.54</a>.
<br></li>
</ul>
<p><span class="h4">
Example
</span></p>
<p>
Syntax example for specifying SQL expressions in different operand positions in a <a href="javascript:call_link('abapselect.html')" class="blue"><span class="qtext">SELECT</span></a> statement
</p>
<p class="qtextml1">
<span class="qtext">
SELECT FROM sflight <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FIELDS CONCAT( carrid, connid ) AS key, <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MAX( seatsmax - seatsocc ) AS max_free, <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MIN( seatsmax - seatsocc ) AS min_free <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GROUP BY carrid, connid <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;HAVING SUM( seatsmax - seatsocc ) > 100 <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ORDER BY key <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INTO TABLE @DATA(itab).
</span>
</p>
<br>
<br>
<br>
<span class="trans"
>
<br>This translation does not reflect the current version of the documentation.<br>
</span><br>
<!-- POSTFIX --><span class="h4">Continue</span><br>
<a href="javascript:call_link('abensql_elem.html')" class="blue">sql_exp - sql_elem</a><br>
<a href="javascript:call_link('abensql_builtin_func.html')" class="blue">sql_exp - sql_func</a><br>
<a href="javascript:call_link('abensql_arith.html')" class="blue">sql_exp - sql_arith</a><br>
<a href="javascript:call_link('abensql_cast.html')" class="blue">sql_exp - sql_cast</a><br>
<a href="javascript:call_link('abensql_string.html')" class="blue">sql_exp - sql_string</a><br>
<a href="javascript:call_link('abensql_case.html')" class="blue">sql_exp - sql_case</a><br>
<a href="javascript:call_link('abapselect_aggregate.html')" class="blue">sql_exp - sql_agg</a><br>
<a href="javascript:call_link('abapselect_over.html')" class="blue">sql_exp - sql_win</a><br>
<a href="javascript:call_link('abensql_exp_parentheses.html')" class="blue">sql_exp - ( )</a><br>
<br>
<br>
</DIV>
<fieldset style="opacity:0">
<input id="url" type="text" />
</fieldset>
</BODY>

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abapsql_expr.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:52:25 GMT -->
</html>

<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="EN">
<!-- ABENDATA_OBJECTS_STRUCTURE -->

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abendata_objects_structure.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:52:16 GMT -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="author" content="SAP">
<meta name="description" content="Structures">
<meta name="keywords" content="ABAP, Deep Structures, Flat Structures, Structures">
<title>
Structures - ABAP Keyword Documentation
</title>
<link rel="icon" href="ABAPIcon.ico" type="image/ico">
<link rel="shortcut icon" href="ABAPIcon.ico">
<LINK rel="stylesheet" href="abap_docu.css" type="text/css">
<script language="javascript" type="text/javascript" src="functions.js"></script>
<script type="text/JavaScript">
function urlToClipboard(id){
 try{ var loc = top.location.href;}
 catch(e){ alert( "URL cannnot be determined" ); return; }
 var field = document.getElementById(id);
 field.focus();
 if ( loc.search( ".htm" ) == -1 && loc.search( ".HTM" ) == -1  ){ loc = loc + "index.htm"; }
 if (   loc.search( "index.html" ) != -1
     || loc.search( "INDEX-2.html" ) != -1 ){
   var off = loc.search( "file=" );
   if ( off == -1  ){
     field.value = loc + "?file=abendata_objects_structure.htm"; }
   else {
     field.value = loc.substring( 0, off ) + "file=abendata_objects_structure.htm";
   }
 }
 else {
    field.value = loc; }
 field.setSelectionRange(0, field.value.length);
 var r = confirm( "Copy URL to clipboard?\n\n" + field.value + "\n\nCopy to clipboard does not work in all browsers." );
 if (r == true) {
   try{
     document.execCommand("copy");
   }
     catch(e){ alert( "URL could not be copied to clipboard" ); }
 }
 window.scrollTo(0,0);
}
</script>
</head>
<body>
<div class="all">
<div style="float:right;">
<input type="button" value="URL"
style="font-size:10px; width:30px; height:18px; padding:0; "
onclick="urlToClipboard('url')" title="Copy URL to Clipboard" ></div>
<p>
<input name="query" id="query" value="" type="text" title="Suchbegriff" size="30" maxlength="30" onkeyup="getInput()">&nbsp;
<input type="button" value="Search"
style="font-size:12px; width:50px; height:18px; padding:0"
onclick="call_search('search.html')" title="Search in ABAP Keyword Documentation" >
<hr style="width:100%;height:1px"></p>
<p class="copyright">AS ABAP Release 754, &copy;Copyright 2019 SAP SE. All rights reserved.</p>
<span class="path">
<a href="javascript:call_link('abenabap.html')" class="blue">ABAP Keyword Documentation</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_reference.html')" class="blue">ABAP &#x2212; Reference</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_data_working.html')" class="blue">Processing Internal Data</a>&nbsp;&rarr;&nbsp;
</span>
<p><span class="h1">
Structures
</span></p>
<p>
Structures are data objects (comprised of components of any data type) that are saved one after the other in the memory. The data type of a structure is a
<a href="javascript:call_link('abenstructured_type_glosry.html')" class="grey" title="Glossary Entry">structured</a> type or a structure defined in
<a href="javascript:call_link('abenabap_dictionary_glosry.html')" class="grey" title="Glossary Entry">ABAP Dictionary</a>.
</p>
<p>
In a program, a structured type or structure is created using the additions <a href="javascript:call_link('abaptypes_struc.html')" class="blue">
<span class="qtext">BEGIN OF ... END OF</span></a> of the statements <span class="qtext">TYPES</span>, <span class="qtext">DATA</span>, and so on. Types can be created dynamically using the
<a href="javascript:call_link('abenrun_time_type_creation_glosry.html')" class="grey" title="Glossary Entry">RTTC</a> methods. In ABAP Dictionary, structures appear as
<a href="javascript:call_link('abenddic_structures.html')" class="blue">standalone data types</a>, as types of
<a href="javascript:call_link('abenddic_database_tables.html')" class="blue">database tables</a>, of
<a href="javascript:call_link('abenddic_classical_views.html')" class="blue">classic views</a> or of <a href="javascript:call_link('abenddic_cds_entities.html')" class="blue">CDS entities</a>.
</p>
<ul class="disc">
<li><A HREF="#@@ITOC@@ABENDATA_OBJECTS_STRUCTURE_1" class="blue">Types of Structures</A></li>
</ul>
<ul class="disc">
<li><A HREF="#@@ITOC@@ABENDATA_OBJECTS_STRUCTURE_2" class="blue">Using Structures</A></li>
</ul>
<ul class="circlem2">
<li><A HREF="#@@ITOC@@ABENDATA_OBJECTS_STRUCTURE_3" class="blue">Using Deep Structures</A></li>
</ul>
<ul class="circlem2">
<li><A HREF="#@@ITOC@@ABENDATA_OBJECTS_STRUCTURE_4" class="blue">Using Deep ABAP Dictionary Structures</A></li>
</ul>
<ul class="disc">
<li><A HREF="#@@ITOC@@ABENDATA_OBJECTS_STRUCTURE_5" class="blue">Boxed Components</A></li>
</ul>
<p><span class="h4">
Programming Guidelines
</span></p>
<ul class="disc">
<li>
<a href="javascript:call_link('abenstruc_comp_names_guidl.html')" class="lnkpurple" title="Guideline">Names of Structure Components</a>
<br><br></li>
<li>
<a href="javascript:call_link('abenincluding_structures_guidl.html')" class="lnkpurple" title="Guideline">Do not include components from structures</a>
<br></li>
</ul>
<A name="@@ITOC@@ABENDATA_OBJECTS_STRUCTURE_1"></A>
<p><span class="h2">
Types of Structures
</span></p>
<p>
Structures are named as follows (depending on the type of the component):
</p>
<ul class="disc">
<li><span class="bold">Flat structures</span> do not contain any
<a href="javascript:call_link('abendeep_glosry.html')" class="grey" title="Glossary Entry">deep</a> components. They only contain
components with flat data types, such as elementary types <span class="qtext">c</span>, <span class="qtext">n</span>,
<span class="qtext">d</span>, <span class="qtext">t</span>, <span class="qtext">decfloat16</span>, <span class="qtext">
decfloat34</span>, <span class="qtext">f</span>, <span class="qtext">i</span>, <span class="qtext">int8</span>,
<span class="qtext">p</span>, <span class="qtext">x</span>, <span class="qtext">utclong</span>, plus <span class="qtext">b</span>, <span class="qtext">s</span>, or structures with these types.</li>
</ul>
<ul class="disc">
<li><span class="bold">Flat character-like structures</span> are flat structures that contain only <a href="javascript:call_link('abencharlike_data_object_glosry.html')" class="grey" title="Glossary Entry">character-like</a> components.</li>
</ul>
<ul class="disc">
<li><span class="bold">Nested structures</span> contain at least one
<a href="javascript:call_link('abensubstructure_glosry.html')" class="grey" title="Glossary Entry">substructure</a>. A nested structure is flat or character-like, depending on the attributes of all components.</li>
</ul>
<ul class="disc">
<li><span class="bold">Deep structures</span> contain at least one
<a href="javascript:call_link('abendeep_glosry.html')" class="grey" title="Glossary Entry">deep</a> component, at any nesting level. Possible deep components include strings, internal tables, boxed components, data or object references.</li>
</ul>
<p>
A structure that contains static or dynamic components is (formally) a
<a href="javascript:call_link('abenstatic_data_object_glosry.html')" class="grey" title="Glossary Entry">static</a> or
<a href="javascript:call_link('abendynamic_data_object_glosry.html')" class="grey" title="Glossary Entry">dynamic data object</a>, respectively.
</p>
<p>
The following figure illustrates a deep structure.
</p>
<p>

</p>
<span class="border1"><img src="abdoc_deep_structure.gif" width="00567" height="00255" alt="Figure"></span>
<p>

</p>
<p><span class="h4">
Note
</span></p>
<p>
The term "nested structure" must not be confused with the term "deep structure". A nested structure
is flat if it only contains flat components and subcomponents. A nested structure is deep when it has at least one deep component or subcomponent.
</p>
<p><span class="h4">
Example
</span></p>
<p>
Nested structure. The substructure is created using a reference to the dictionary structure <span class="lnkgrey">SCARR</span> for the second component. The components are accessed using the structure component selector
(<span class="qtext">-</span>).
</p>
<p class="qtextml1">
<span class="qtext">
DATA: <br>&nbsp;&nbsp;BEGIN OF struct, <br>&nbsp;&nbsp;&nbsp;&nbsp;name&nbsp;&nbsp;TYPE c LENGTH 10 VALUE 'SCARR', <br>
&nbsp;&nbsp;&nbsp;&nbsp;scarr TYPE scarr, <br>&nbsp;&nbsp;END OF struct. <br> <br>SELECT SINGLE * <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FROM scarr <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; WHERE carrid = 'LH' <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; INTO CORRESPONDING FIELDS OF @struct-scarr. <br>
 <br>cl_demo_output=>new( <br>)->write_data( struct-name <br>)->write_data( struct-scarr-carrid <br>)->write_data( struct-scarr-carrname <br>)->display( ).
</span>
</p>
<p><span class="h4">
Example
</span></p>
<p>
Deep structure. The following structure contains deep components only.
</p>
<p class="qtextml1">
<span class="qtext">
DATA: <br>&nbsp;&nbsp;BEGIN OF struct, <br>&nbsp;&nbsp;&nbsp;&nbsp;text TYPE string, <br>&nbsp;&nbsp;&nbsp;&nbsp;hex&nbsp;&nbsp;TYPE xstring, <br>
&nbsp;&nbsp;&nbsp;&nbsp;tab&nbsp;&nbsp;TYPE STANDARD TABLE OF i WITH EMPTY KEY, <br>&nbsp;&nbsp;&nbsp;&nbsp;dref TYPE REF TO i, <br>&nbsp;&nbsp;&nbsp;&nbsp;iref TYPE REF TO if_demo_output, <br>&nbsp;&nbsp;END OF struct.
</span>
</p>
<A name="@@ITOC@@ABENDATA_OBJECTS_STRUCTURE_2"></A>
<p><span class="h2">
Using Structures
</span></p>
<p>
Structures are addressed either fully or by component, at appropriate operand positions. The
<a href="javascript:call_link('abenstructure_component_sel_glosry.html')" class="grey" title="Glossary Entry">structure component selector</a>
(<span class="qtext">-</span>) is used for the latter case. In the case of data reference variables
that are typed as a structure, the components of the structure to which the data reference variable points are addressed using the object component selector (<span class="qtext">-></span>).
</p>
<p>
Special <a href="javascript:call_link('abenconversion_struc.html')" class="blue">conversion</a> and
<a href="javascript:call_link('abenlogexp_rules_operands_struc.html')" class="blue">comparison rules</a> apply to assignments that involve structures. Flat character-like structures differ in that they can be used like
<a href="javascript:call_link('abencharlike_data_object_glosry.html')" class="grey" title="Glossary Entry">character-like data
objects</a> in many operand positions and included in the generic ABAP type <a href="javascript:call_link('abenbuilt_in_types_generic.html')" class="blue">
<span class="qtext">clike</span></a>. They can be specified in almost all operand positions where elementary
character-like data objects are possible. The ABAP runtime environment then interprets the structure
as an elementary field of the type <span class="qtext">c</span> in the length of the structure. An exception to this are operand positions of
<a href="javascript:call_link('abapcompute_string.html')" class="blue">string expressions</a> and <a href="javascript:call_link('abenstring_functions.html')" class="blue">string functions</a>.
</p>
<p>
For the assignment of structure components, there is a special statement <a href="javascript:call_link('abapmove-corresponding.html')" class="blue">
<span class="qtext">MOVE-CORRESPONDING</span></a>, a constructor operator <a href="javascript:call_link('abenconstructor_expr_corresponding.html')" class="blue"><span class="qtext">CORRESPONDING</span></a>, and a system class
<a href="javascript:call_link('abencl_abap_corresponding.html')" class="blue">CL_ABAP_CORRESPONDING</a>. The <a href="javascript:call_link('abapinto_clause.html')" class="blue">
<span class="qtext">INTO</span></a> clause of ABAP SQL also has an addition <span class="qtext">CORRESPONDING</span>.
The statement <a href="javascript:call_link('abapassign.html')" class="blue"><span class="qtext">ASSIGN</span></a> has a special
variant <a href="javascript:call_link('abapassign_mem_area_dynamic_dobj.html')" class="blue"><span class="qtext">COMPONENT OF STRUCTURE</span></a> for dynamic access to structure components.
</p>
<p><span class="h4">
Example
</span></p>
<p>
Inline declaration of a structure <span class="qtext">wa</span> in a <span class="qtext">SELECT</span>
statement with reference to the database table <span class="lnkgrey">SCARR</span> in ABAP Dictionary. The components of the structure are accessed using the structure component selector (<span class="qtext">-</span>). .
</p>
<p class="qtextml1">
<span class="qtext">
SELECT carrid, carrname <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FROM scarr <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; INTO @DATA(wa). <br>
&nbsp;&nbsp;cl_demo_output=>write( |{ wa-carrid WIDTH = 5 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }{ wa-carrname }| ). <br>ENDSELECT. <br>cl_demo_output=>display( ).
</span>
</p>
<p><span class="h4">
Example
</span></p>
<p>
Creates a structure as an <a href="javascript:call_link('abenanonymous_data_object_glosry.html')" class="grey" title="Glossary Entry">
anonymous data object</a> with the type of the database table <span class="lnkgrey">SCARR</span> in
ABAP Dictionary pointed to by the data reference variable <span class="qtext">dref</span>. Used as the target area of a <span class="qtext">SELECT</span> statement by applying the
<a href="javascript:call_link('abendereferencing_operat_glosry.html')" class="grey" title="Glossary Entry">dereferencing operator</a>
(<span class="qtext">->*</span>). The components of the structure are accessed using the object component selector (<span class="qtext">-></span>).
</p>
<p class="qtextml1">
<span class="qtext">
DATA(dref) = NEW scarr( ). <br> <br>SELECT * <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FROM scarr <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; INTO @dref->*. <br>
&nbsp;&nbsp;cl_demo_output=>write( |{ dref->carrid WIDTH = 5 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }{ dref->carrname }| ). <br>ENDSELECT. <br>cl_demo_output=>display( ).
</span>
</p>
<p><span class="h4">
Example
</span></p>
<p>
The following example demonstrates that a flat structure with character-like-only components can behave like a structure and like a character-like data object.
</p>
<p class="qtextml1">
<span class="qtext">
DATA: <br>&nbsp;&nbsp;BEGIN OF struct, <br>&nbsp;&nbsp;&nbsp;&nbsp;col1 TYPE c LENGTH 5 VALUE '12345', <br>
&nbsp;&nbsp;&nbsp;&nbsp;col2 TYPE c LENGTH 5 VALUE 'abcde', <br>&nbsp;&nbsp;END OF struct. <br> <br>cl_demo_output=>new( <br>
&nbsp;&nbsp;)->write_data( struct <br>&nbsp;&nbsp;)->write_data( struct-col1 <br>&nbsp;&nbsp;)->write_data( struct-col2 <br>&nbsp;&nbsp;)->write_data( CONV string( struct ) <br>&nbsp;&nbsp;)->display( ).
</span>
</p>
<A name="@@ITOC@@ABENDATA_OBJECTS_STRUCTURE_3"></A>
<p><span class="h3">
Using Deep Structures
</span></p>
<p>
The data content of deep structures is not saved completely within the memory bounds of the structure
and the deep components are just references to the actual data instead. This means that some general restrictions apply when using deep structures (unlike flat structures):
</p>
<ul class="disc">
<li>Deep structures must be <a href="javascript:call_link('abencompatibility.html')" class="blue">compatible</a> in
<a href="javascript:call_link('abenvalue_assignments.html')" class="blue">assignments</a> and <a href="javascript:call_link('abenlogexp_comp.html')" class="blue">comparisons</a>.</li>
</ul>
<ul class="disc">
<li><a href="javascript:call_link('abenoffset_length.html')" class="blue">Substring access</a> using offset/lengths is not possible for deep structures.</li>
</ul>
<ul class="disc">
<li>Deep structures cannot be used as character-like data objects in operand positions and are not included
in the generic ABAP type <a href="javascript:call_link('abenbuilt_in_types_generic.html')" class="blue"><span class="qtext">clike</span></a>. This applies in particular to structures that contain
<a href="javascript:call_link('abenstring_glosry.html')" class="grey" title="Glossary Entry">strings</a>.</li>
</ul>
<ul class="disc">
<li>When data objects are cast with <a href="javascript:call_link('abapassign_casting.html')" class="blue"><span class="qtext">ASSIGN</span></a>,
the type, position in the type of the data object, and the position in the type of the field symbol must match for deep components in deep structures.</li>
</ul>
<ul class="disc">
<li>The <a href="javascript:call_link('abenopen_sql_wa.html')" class="blue">work area</a> of ABAP SQL statements cannot contain any deep components other than strings or
<a href="javascript:call_link('abenlob_handle_glosry.html')" class="grey" title="Glossary Entry">LOB handles</a>.</li>
</ul>
<ul class="disc">
<li>The target or source field of the statements <a href="javascript:call_link('abapopen_dataset.html')" class="blue"><span class="qtext">OPEN
DATASET</span></a> and <a href="javascript:call_link('abaptransfer.html')" class="blue"><span class="qtext">TRANSFER</span></a> cannot be a deep structure.</li>
</ul>
<ul class="disc">
<li>Internal tables with a deep row type cannot be passed to a <span class="qtext">TABLES</span> parameter in a
<a href="javascript:call_link('abenremote_function_call_glosry.html')" class="grey" title="Glossary Entry">remote function call</a>.
Deep structures can be passed to the other parameters, as long as they do not contain any reference variables.</li>
</ul>
<p><span class="h4">
Note
</span></p>
<p>
These restrictions are particularly important if single components in existing flat character-like structures are converted to strings, which makes the entire structure deep.
</p>
<p><span class="h4">
Example
</span></p>
<p>
The following two deep structures are not compatible and cannot be converted to each other.
</p>
<dl><dd>
<span class="qtext">DATA: <br>&nbsp;&nbsp;BEGIN OF struct1, <br>&nbsp;&nbsp;&nbsp;&nbsp;col1 TYPE c LENGTH 4, <br>
&nbsp;&nbsp;&nbsp;&nbsp;col2 TYPE REF TO data, <br>&nbsp;&nbsp;END OF struct1, <br>&nbsp;&nbsp;BEGIN OF struct2, <br>
&nbsp;&nbsp;&nbsp;&nbsp;col1a TYPE c LENGTH 2, <br>&nbsp;&nbsp;&nbsp;&nbsp;col1b TYPE c LENGTH 2, <br>&nbsp;&nbsp;&nbsp;&nbsp;col2 TYPE REF TO data, <br>
&nbsp;&nbsp;END OF struct2. <br> <br>struct1 = struct2. "Syntax error</span>
</dd></dl>
<A name="@@ITOC@@ABENDATA_OBJECTS_STRUCTURE_4"></A>
<p><span class="h3">
Using Deep ABAP Dictionary Structures
</span></p>
<p>
The same restrictions apply to deep structures defined in ABAP Dictionary as to deep structures defined
in ABAP programs. Further restrictions apply only when the following language elements forbidden in classes (in which only flat ABAP Dictionary structures can be specified) are used:
</p>
<ul class="disc">
<li>Statement <a href="javascript:call_link('abaptables.html')" class="blue"><span class="qtext">TABLES</span></a> for table work areas.</li>
</ul>
<ul class="disc">
<li>Obsolete use of <span class="qtext">LIKE</span> instead of <span class="qtext">TYPE</span> as a reference to data types in ABAP Dictionary with
<a href="javascript:call_link('abaptypes.html')" class="blue">type declarations</a> and <a href="javascript:call_link('abentyping_complete.html')" class="blue">typings</a></li>
</ul>
<ul class="disc">
<li>Obsolete use of <a href="javascript:call_link('abapinclude_type.html')" class="blue"><span class="qtext">INCLUDE STRUCTURE</span></a></li>
</ul>
<ul class="disc">
<li>Obsolete use of <span class="qtext">STRUCTURE</span> to force a structure to
<a href="javascript:call_link('abapfield-symbols.html')" class="blue">field symbols</a> or interface parameters of
<a href="javascript:call_link('abenfunction_parameters.html')" class="blue">function modules</a> or <a href="javascript:call_link('abapform_parameters.html')" class="blue">subroutines</a>.</li>
</ul>
<A name="@@ITOC@@ABENDATA_OBJECTS_STRUCTURE_5"></A>
<p><span class="h2">
Boxed Components
</span></p>
<p>
The substructures of nested structures and structured components of classes or interfaces can be declared as <a href="javascript:call_link('abenboxed_components.html')" class="blue">boxed components</a>.
</p>
<p>

</p>
<br>
<br>
<!-- POSTFIX --><span class="h4">Continue</span><br>
<a href="javascript:call_link('abenboxed_components.html')" class="blue">Boxed Components</a><br>
<a href="javascript:call_link('abenstructure_abexas.html')" class="blue">Examples of structures</a><br>
<br>
<br>
</DIV>
<fieldset style="opacity:0">
<input id="url" type="text" />
</fieldset>
</BODY>

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abendata_objects_structure.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:52:17 GMT -->
</html>

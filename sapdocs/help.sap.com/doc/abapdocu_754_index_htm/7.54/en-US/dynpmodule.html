<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="EN">
<!-- DYNPMODULE -->

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/dynpmodule.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:51:35 GMT -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="author" content="SAP">
<meta name="description" content="MODULE">
<meta name="keywords" content="ABAP, Dynpro, MODULE">
<title>
MODULE - ABAP Keyword Documentation
</title>
<link rel="icon" href="ABAPIcon.ico" type="image/ico">
<link rel="shortcut icon" href="ABAPIcon.ico">
<LINK rel="stylesheet" href="abap_docu.css" type="text/css">
<script language="javascript" type="text/javascript" src="functions.js"></script>
<script type="text/JavaScript">
function urlToClipboard(id){
 try{ var loc = top.location.href;}
 catch(e){ alert( "URL cannnot be determined" ); return; }
 var field = document.getElementById(id);
 field.focus();
 if ( loc.search( ".htm" ) == -1 && loc.search( ".HTM" ) == -1  ){ loc = loc + "index.htm"; }
 if (   loc.search( "index.html" ) != -1
     || loc.search( "INDEX-2.html" ) != -1 ){
   var off = loc.search( "file=" );
   if ( off == -1  ){
     field.value = loc + "?file=dynpmodule.htm"; }
   else {
     field.value = loc.substring( 0, off ) + "file=dynpmodule.htm";
   }
 }
 else {
    field.value = loc; }
 field.setSelectionRange(0, field.value.length);
 var r = confirm( "Copy URL to clipboard?\n\n" + field.value + "\n\nCopy to clipboard does not work in all browsers." );
 if (r == true) {
   try{
     document.execCommand("copy");
   }
     catch(e){ alert( "URL could not be copied to clipboard" ); }
 }
 window.scrollTo(0,0);
}
</script>
</head>
<body>
<div class="all">
<div style="float:right;">
<input type="button" value="URL"
style="font-size:10px; width:30px; height:18px; padding:0; "
onclick="urlToClipboard('url')" title="Copy URL to Clipboard" ></div>
<p>
<input name="query" id="query" value="" type="text" title="Suchbegriff" size="30" maxlength="30" onkeyup="getInput()">&nbsp;
<input type="button" value="Search"
style="font-size:12px; width:50px; height:18px; padding:0"
onclick="call_search('search.html')" title="Search in ABAP Keyword Documentation" >
<hr style="width:100%;height:1px"></p>
<p class="copyright">AS ABAP Release 754, &copy;Copyright 2019 SAP SE. All rights reserved.</p>
<span class="path">
<a href="javascript:call_link('abenabap.html')" class="blue">ABAP Keyword Documentation</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_reference.html')" class="blue">ABAP &#x2212; Reference</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_screens.html')" class="blue">SAP GUI User Dialogs</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_dynpros.html')" class="blue">General Dynpros</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_dynpros_dynpro_statements.html')" class="blue">Statements in the Dynpro Flow Logic</a>&nbsp;&rarr;&nbsp;
</span>
<A NAME="@@MODULE@@!ABAP_DYNP_STATEMENT!@@"></A>
<p><span class="h1">
MODULE <br><br>
</span></p>
<p><span class="h2">
<span class="bold">Syntax</span>
</span></p>
<P>
<span class="qtext">MODULE mod <i class=bn>[</i> AT <i class=bn>{</i>EXIT-COMMAND<i class=bn>|</i>CURSOR-SELECTION<i class=bn>}</i> <i class=bn>]</i></span> <br>
<span class="qtext">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <i class=bn>[</i> ON <i
class=bn>{</i>CHAIN-INPUT<i class=bn>|</i>CHAIN-REQUEST<i class=bn>}</i> <i class=bn>]</i></span> <br><span class="qtext">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <i class=bn>[</i> SWITCH switch <i class=bn>]</i>.</span> <br><br>
</P>
<p><span class="h3">
Extras:
</span></p>
<P>
   <A HREF="#!ABAP_ADDITION_1@1@" class="blue"> 1. <span class="qtext">... AT EXIT-COMMAND</span> </A> <br>
<br><A HREF="#!ABAP_ADDITION_2@2@" class="blue"> 2. <span class="qtext">... AT CURSOR-SELECTION</span> </A> <br>
<br><A HREF="#!ABAP_ADDITION_3@3@" class="blue"> 3. <span class="qtext">... ON <i class=bn>{</i>CHAIN-INPUT<i class=bn>|</i>CHAIN-REQUEST<i class=bn>}</i></span> </A> <br>
<br><A HREF="#!ABAP_ADDITION_4@4@" class="blue"> 4. <span class="qtext">... SWITCH switch</span> </A> <br><br>
</P>
<p><span class="h4">
Effect
</span></p>
<P>
The statement <span class="qtext">MODULE</span> of the
<a href="javascript:call_link('abendynpro_flow_logic_glosry.html')" class="grey" title="Glossary Entry">dynpro flow logic</a> calls the
<a href="javascript:call_link('abendialog_module_glosry.html')" class="grey" title="Glossary Entry">dialog module</a> <span class="qtext">mod</span>
of the ABAP program. <span class="qtext">MODULE</span> can be used either as a keyword or as an addition
of the statement <a href="javascript:call_link('dynpfield.html')" class="blue"><span class="qtext">FIELD</span></a>. When using it as an addition, the call of the dialog module depends on conditions for the dynpro fields.
</P>
<P>
As a keyword, the statement calls the dialog module <span class="qtext">mod</span> of the respective ABAP program. At
<a href="javascript:call_link('abenpai_glosry.html')" class="grey" title="Glossary Entry">PAI</a> time, the additions <span class="qtext">AT</span>
and <span class="qtext">ON</span> can be used to specify conditions for the call of the dialog module.
</P>
<P>
At the <a href="javascript:call_link('abenpbo_glosry.html')" class="grey" title="Glossary Entry">PBO</a> event, you can call
any dialog module defined in the ABAP program with the addition <span class="qtext">OUTPUT</span>. At
the events PAI, POH, and POV, any dialog module defined with the addition <span class="qtext">INPUT</span>
can be called or without any addition. If the dialog module <span class="qtext">mod</span> does not
exist in the ABAP program, a non-handleable exception is raised. After a dialog module is processed
in the ABAP program, processing of the dynpro flow logic is resumed after the position of the call, unless the dynpro processing is completed within the dialog module.
</P>
<P>
<span class="qtext">MODULE</span> can be used as a keyword only at PBO and PAI time. At
<a href="javascript:call_link('abenpoh_glosry.html')" class="grey" title="Glossary Entry">POH</a> and
<a href="javascript:call_link('abenpov_glosry.html')" class="grey" title="Glossary Entry">POV</a> time, <span class="qtext">MODULE</span>
can be used only as an addition of the statement <a href="javascript:call_link('dynpfield.html')" class="blue"><span class="qtext">FIELD</span></a> .
</P>
<p><span class="h4">
Note
</span></p>
<P>
Do not mix up the <span class="qtext">MODULE</span> statement of the dynpro flow logic with the identically
called statement <a href="javascript:call_link('abapmodule.html')" class="blue"><span class="qtext">MODULE</span></a> for defining dialog modules in the ABAP program. <br><br>
</P>
<A NAME="@@AT EXIT-COMMAND@@MODULE@@"></A>
<p><span class="h3">
<A NAME="!ABAP_ADDITION_1@1@"></A> <span class="bold">Addition 1</span>
</span></p>
<P>
<span class="qtext">... AT EXIT-COMMAND</span>   <br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<P>
 The addition <span class="qtext">AT EXIT-COMMAND</span> at PAI time causes module <span class="qtext">mod</span> to be called in the following precise cases:
</P>
<ul class="disc">
<li>
the function used to raise the event PAI has function type "E"
<br><br></li>
<li>
a character string starting with "E" was entered in the command field of the system toolbar and was confirmed by pressing <span class="italic"><span class="qtext500">Enter</span></span>.
<br></li>
</ul>
<P>
The dialog module is called before the automatic input checks defined in the system or in ABAP Dictionary and independently of its position in the event block. The only dynpro field transported to the ABAP program is the
<a href="javascript:call_link('abenok_field_glosry.html')" class="grey" title="Glossary Entry">OK field</a>. If the function
that raised the PAI event does not meet any of the above prerequisites, the statement <span class="qtext">MODULE</span> is not executed.
</P>
<P>
If multiple statements <span class="qtext">MODULE</span> have the addition <span class="qtext">AT EXIT
COMMAND</span> , only the first one is executed. If no statement <span class="qtext">MODULE</span> has
the addition <span class="qtext">AT EXIT COMMAND</span>, a PAI is processed as normal: The predefined
input checks are executed and then the PAI event block is processed sequentially. Provided the dynpro
processing is not terminated in the dialog module <span class="qtext">mod</span>, after the return from
the dialog module, the complete PAI processing is executed. The addition <span class="qtext">AT EXIT
COMMAND</span> cannot be used with the statement <a href="javascript:call_link('dynpfield.html')" class="blue"><span class="qtext">FIELD</span></a>.
</P>
<p><span class="h4">
Note
</span></p>
<P>
The function type of a function is determined in <a href="javascript:call_link('abenscreen_painter_glosry.html')" class="grey" title="Glossary Entry">Screen Painter</a> or
<a href="javascript:call_link('abenmenu_painter_glosry.html')" class="grey" title="Glossary Entry">Menu Painter</a>. Usually
those functions of the user interface are defined with function type "E" that are assigned to the icons
<span class="italic">Back</span>, <span class="italic">Exit</span> and <span class="italic">Cancel</span>
in the standard toolbar of the GUI status. Therefore, the called dialog module should terminate the dynpro processing and allow security checks, if required. <br><br>
</P>
<A NAME="@@AT CURSOR-SELECTION@@MODULE@@"></A>
<p><span class="h3">
<A NAME="!ABAP_ADDITION_2@2@"></A> <span class="bold">Addition 2</span>
</span></p>
<P>
<span class="qtext">... AT CURSOR-SELECTION</span>   <br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<P>
The addition <span class="qtext">AT CURSOR-SELECTION</span> at PAI time causes the module <span class="qtext">mod</span> to be called only if
</P>
<ul class="disc">
<li>
the function used to raise the event PAI has function code "<span class="qtext400">CS</span>" and function type "S"
<br><br></li>
<li>
The cursor is placed on a single input or output field of the screen at the moment of the user action
<br></li>
</ul>
<P>
The call occurs within the usual PAI processing, meaning that the automatic input checks defined in
the system or in ABAP Dictionary are executed and the statement <span class="qtext">MODULE</span> is
called according to its position in the event block. More specifically, the addition can be used with the statement <a href="javascript:call_link('dynpfield.html')" class="blue"><span class="qtext">FIELD</span></a>.
</P>
<P>
If the PAI event is raised under the above circumstances, the function code is not passed to <span class="qtext">sy-ucomm</span> and the OK field. They keep their previous values.
</P>
<p><span class="h4">
Note
</span></p>
<P>
The function type and function code of a function are determined in Screen Painter or in Menu Painter.
It is best to use the function code <span class="qtext400">"CS"</span> in Menu Painter for the function
code <span class="qtext500">F2</span> and, in this way, assign it to the double-click function of the mouse. This makes it possible to assign dialog modules to the selection of input or output fields. <br><br>
</P>
<A NAME="@@ON CHAIN-INPUT@@MODULE@@"></A>
<A NAME="@@ON CHAIN-REQUEST@@MODULE@@"></A>
<p><span class="h3">
<A NAME="!ABAP_ADDITION_3@3@"></A> <span class="bold">Addition 3</span>
</span></p>
<P>
<span class="qtext">... ON <i class=bn>{</i>CHAIN-INPUT<i class=bn>|</i>CHAIN-REQUEST<i class=bn>}</i></span>   <br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<P>
These conditions make sense only within <a href="javascript:call_link('dynpchain.html')" class="blue">chains</a> using the statements
<span class="qtext">CHAIN</span> and <span class="qtext">ENDCHAIN</span>. They check the individual
conditions <a href="javascript:call_link('dynpfield_module.html')" class="blue"><span class="qtext">ON INPUT</span></a> or <a href="javascript:call_link('dynpfield_module.html')" class="blue"><span class="qtext">ON REQUEST</span></a> for all
<a href="javascript:call_link('abendynpro_field_glosry.html')" class="grey" title="Glossary Entry">dynpro fields</a> that are
specified so far within the current chain after <a href="javascript:call_link('dynpfield.html')" class="blue"><span class="qtext">FIELD</span></a>.
The dialog module is called if at least one of the dynpro fields fulfills the respective condition. <br><br>
</P>
<A NAME="@@SWITCH@@MODULE@@"></A>
<p><span class="h3">
<A NAME="!ABAP_ADDITION_4@4@"></A> <span class="bold">Addition 4</span>
</span></p>
<P>
<span class="qtext">... SWITCH switch</span>   <br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<P>
If the addition <span class="qtext">SWITCH</span> is specified, the dialog module <span class="qtext">mod</span> is called only if the
<a href="javascript:call_link('abenswitch_german_glosry.html')" class="grey" title="Glossary Entry">switch</a> specified by <span class="qtext">switch</span> is in the state <span class="italic">ON</span>.
</P>
<P>
With <span class="qtext">switch</span>, a switch defined in the repository must be specified directly. If the specified switch does not exist, the dialog module is not called.
</P>
<P>
The addition cannot be specified with the statement <a href="javascript:call_link('dynpfield.html')" class="blue"><span class="qtext">FIELD</span></a>. Here, the switch assigned to the dynpro field in Screen Painter applies. <br><br>
</P>
<p><span class="h4">
Example
</span></p>
<P>

</P>
<P>
Typical structure of a simple dynpro flow logic. At PBO, a dialog module <span class="qtext">status_0100</span>
is called to set the GUI status, at PAI, a dialog module <span class="qtext">leave_100</span> is called
to handle functions with function type "E" and a dialog module <span class="qtext">user_command_0100</span> to handle the other user actions.
</P>
<dl>

<dd>
<span class="qtext">PROCESS BEFORE OUTPUT.</span> <br><span class="qtext">&nbsp;&nbsp;MODULE status_0100.</span> <br>
<span class="qtext">PROCESS AFTER INPUT.</span> <br><span class="qtext">&nbsp;&nbsp;MODULE leave_100 AT EXIT-COMMAND.</span> <br><span class="qtext">&nbsp;&nbsp;MODULE user_command_0100.</span>
</dd>
</dl>
<P>
The relevant ABAP program must implement the dialog modules and may have a structure like the one below.
Since dialog modules do not have any local data, it is best to handle the actual editing within procedures called depending on the function code.
</P>
<dl>

<dd>
<span class="qtext">DATA: ok_code TYPE sy-ucomm,</span> <br><span class="qtext">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...</span> <br>
<span class="qtext">MODULE status_0100 OUTPUT.</span> <br><span class="qtext">&nbsp;&nbsp;SET PF-STATUS 'STATUS_0100'.</span> <br>
<span class="qtext">ENDMODULE.</span> <br> <br><span class="qtext">MODULE leave_100 INPUT.</span> <br><span class="qtext">&nbsp;&nbsp;CASE ok_code.</span> <br>
<span class="qtext">&nbsp;&nbsp;&nbsp;&nbsp;WHEN 'BACK'.</span> <br><span class="qtext">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...</span> <br>
<span class="qtext">&nbsp;&nbsp;&nbsp;&nbsp;WHEN 'CANCEL'.</span> <br><span class="qtext">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...</span> <br>
<span class="qtext">&nbsp;&nbsp;&nbsp;&nbsp;WHEN 'EXIT'.</span> <br><span class="qtext">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LEAVE PROGRAM.</span> <br>
<span class="qtext">&nbsp;&nbsp;&nbsp;&nbsp;...</span> <br><span class="qtext">&nbsp;&nbsp;ENDCASE.</span> <br>
<span class="qtext">ENDMODULE.</span> <br> <br><span class="qtext">MODULE user_command_0100 INPUT.</span> <br>
<span class="qtext">&nbsp;&nbsp;CASE ok_code.</span> <br><span class="qtext">&nbsp;&nbsp;&nbsp;&nbsp;WHEN ...</span> <br>
<span class="qtext">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CALL ...</span> <br><span class="qtext">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...</span> <br>
<span class="qtext">&nbsp;&nbsp;ENDCASE.</span> <br><span class="qtext">ENDMODULE.</span>
</dd>
</dl>
<br>
<br>
<!-- POSTFIX --><span class="h4">Continue</span><br>
<a href="javascript:call_link('abenmodule_abexas.html')" class="blue">Module Call - Examples</a><br>
<br>
<br>
</DIV>
<fieldset style="opacity:0">
<input id="url" type="text" />
</fieldset>
</BODY>

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/dynpmodule.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:51:35 GMT -->
</html>

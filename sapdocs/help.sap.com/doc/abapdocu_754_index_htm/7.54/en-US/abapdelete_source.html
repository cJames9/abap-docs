<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="EN">
<!-- ABAPDELETE_SOURCE -->

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abapdelete_source.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:52:07 GMT -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="author" content="SAP">
<meta name="description" content="DELETE dbtab - source">
<title>
DELETE dbtab - source - ABAP Keyword Documentation
</title>
<link rel="icon" href="ABAPIcon.ico" type="image/ico">
<link rel="shortcut icon" href="ABAPIcon.ico">
<LINK rel="stylesheet" href="abap_docu.css" type="text/css">
<script language="javascript" type="text/javascript" src="functions.js"></script>
<script type="text/JavaScript">
function urlToClipboard(id){
 try{ var loc = top.location.href;}
 catch(e){ alert( "URL cannnot be determined" ); return; }
 var field = document.getElementById(id);
 field.focus();
 if ( loc.search( ".htm" ) == -1 && loc.search( ".HTM" ) == -1  ){ loc = loc + "index.htm"; }
 if (   loc.search( "index.html" ) != -1
     || loc.search( "INDEX-2.html" ) != -1 ){
   var off = loc.search( "file=" );
   if ( off == -1  ){
     field.value = loc + "?file=abapdelete_source.htm"; }
   else {
     field.value = loc.substring( 0, off ) + "file=abapdelete_source.htm";
   }
 }
 else {
    field.value = loc; }
 field.setSelectionRange(0, field.value.length);
 var r = confirm( "Copy URL to clipboard?\n\n" + field.value + "\n\nCopy to clipboard does not work in all browsers." );
 if (r == true) {
   try{
     document.execCommand("copy");
   }
     catch(e){ alert( "URL could not be copied to clipboard" ); }
 }
 window.scrollTo(0,0);
}
</script>
</head>
<body>
<div class="all">
<div style="float:right;">
<input type="button" value="URL"
style="font-size:10px; width:30px; height:18px; padding:0; "
onclick="urlToClipboard('url')" title="Copy URL to Clipboard" ></div>
<p>
<input name="query" id="query" value="" type="text" title="Suchbegriff" size="30" maxlength="30" onkeyup="getInput()">&nbsp;
<input type="button" value="Search"
style="font-size:12px; width:50px; height:18px; padding:0"
onclick="call_search('search.html')" title="Search in ABAP Keyword Documentation" >
<hr style="width:100%;height:1px"></p>
<p class="copyright">AS ABAP Release 754, &copy;Copyright 2019 SAP SE. All rights reserved.</p>
<span class="path">
<a href="javascript:call_link('abenabap.html')" class="blue">ABAP Keyword Documentation</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_reference.html')" class="blue">ABAP &#x2212; Reference</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_language_external_data.html')" class="blue">Processing External Data</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_sql.html')" class="blue">ABAP Database Access</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenopensql.html')" class="blue">ABAP SQL</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenopen_sql_writing.html')" class="blue">ABAP SQL - Write Accesses</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abapdelete_dbtab.html')" class="blue">DELETE dbtab</a>&nbsp;&rarr;&nbsp;
</span>
<p><span class="h1">
DELETE dbtab - source <br><br>
</span></p>
<P>
<a href="javascript:call_link('abapdelete_dbtab_shortref.html')" class="blue">Quick Reference</a> <br><br>
</P>
<p><span class="h2">
<span class="bold">Syntax</span>
</span></p>
<P>
<span class="qtext">... <i class=bn>{</i>@wa<i class=bn>|</i>@( expr )<i class=bn>}</i> <br>&nbsp;&nbsp;<i class=bn>|</i> <i class=bn>{</i>TABLE @itab<i class=bn>|</i>@( expr )<i class=bn>}</i> ...</span> <br>
</P>
<p><span class="h2">
Alternatives:
</span></p>
<P>
   <A HREF="#!ABAP_ALTERNATIVE_1@1@" class="blue"> 1. <span class="qtext">... @wa<i class=bn>|</i>@( expr )</span> </A> <br>
<br><A HREF="#!ABAP_ALTERNATIVE_2@2@" class="blue"> 2. <span class="qtext">... TABLE @itab<i class=bn>|</i>@( expr )</span> </A> <br><br>
</P>
<p><span class="h4">
Effect
</span></p>
<P>
In the variant <span class="qtext">DELETE target FROM</span> of the statement <a href="javascript:call_link('abapdelete_dbtab.html')" class="blue">
<span class="qtext">DELETE</span></a>, following <span class="qtext">FROM</span>, a non-table-like data object or, following <span class="qtext">TABLE</span>, an internal table can be specified as a
<a href="javascript:call_link('abenopen_sql_host_variables.html')" class="blue">host variable</a> or
<a href="javascript:call_link('abenopen_sql_host_expressions.html')" class="blue">host expression</a>. The content of the data
objects determines the row(s) to be deleted. The escape character <span class="qtext">@</span> should precede the work area name or the internal table name (as should be the case with every
<a href="javascript:call_link('abenopen_sql_host_variables.html')" class="blue">host variable</a>).
</P>
<p><span class="h4">
Note
</span></p>
<P>
Host variables without the escape character <span class="qtext">@</span> are
<a href="javascript:call_link('abenopen_sql_hostvar_obsolete.html')" class="blue">obsolete</a>. The escape character <span class="qtext">@</span> must be specified in the
<a href="javascript:call_link('abenopensql_strict_modes.html')" class="blue">strict modes</a> of the syntax check from Release 7.40, SP05. <br><br>
</P>
<p><span class="h2">
<A NAME="!ABAP_ALTERNATIVE_1@1@"></A> <span class="bold">Alternative 1</span>
</span></p>
<P>
<span class="qtext">... @wa<i class=bn>|</i>@( expr )</span> <br><br><br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<P>
If a non-table-like work area is specified as a host variable <a href="javascript:call_link('abenopen_sql_host_variables.html')" class="blue">
<span class="qtext">@wa</span></a> or host expression <a href="javascript:call_link('abenopen_sql_host_expressions.html')" class="blue"><span class="qtext">@( expr )</span></a>, a row is found in the database table whose
<a href="javascript:call_link('abenprimary_key_glosry.html')" class="grey" title="Glossary Entry">primary key</a> content is
the same as that of the corresponding initial part of the work area. The content of the work area is
not converted and is interpreted according to the structure of the database table or view. This row is deleted. The work area must meet the
<a href="javascript:call_link('abenopen_sql_wa.html')" class="blue">prerequisites</a> for use in ABAP SQL statements.
</P>
<P>
If there is no row in the database with the same content as the primary key, no row is deleted and <span class="qtext">sy-subrc</span> is set to 4.
</P>
<P>
<a href="javascript:call_link('abenopen_sql_client_handling.html')" class="blue">Implicit ABAP SQL client handling</a> applies, in which a
<a href="javascript:call_link('abenclient_identifier_glosry.html')" class="grey" title="Glossary Entry">client ID</a> specified
in <span class="qtext">wa</span> is ignored. The current client is used by default. The addition <a href="javascript:call_link('abapiumd_client.html')" class="blue">
<span class="qtext">USING CLIENT</span></a> can be used to switch to an explicitly specified client.
The addition <a href="javascript:call_link('abapiumd_client.html')" class="blue"><span class="qtext">CLIENT SPECIFIED</span></a> can be used to switch to the client specified in <span class="qtext">wa</span>.
</P>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>
The work area <span class="qtext">wa</span> should be declared with reference to the database table or view in ABAP Dictionary using the length of the primary key.
<br><br></li>
<li>
If a <a href="javascript:call_link('abenconstructor_expression_glosry.html')" class="grey" title="Glossary Entry">constructor expression</a> is specified as a
<a href="javascript:call_link('abenopen_sql_host_expressions.html')" class="blue">host expression</a> for the work area <span class="qtext">
wa</span>, for which the data type is inferred using the <span class="qtext">#</span> character, a structure consisting of the components of the primary key of the database table is created as the type.
<br><br></li>
<li>
If the database table or view is specified statically, a
<a href="javascript:call_link('abapdelete_obsolete.html')" class="blue">short form</a> can be specified outside of classes. This means that the work area specified using <span class="qtext">FROM wa</span> can be omitted. The prerequisite is that a
<a href="javascript:call_link('abentable_work_area_glosry.html')" class="grey" title="Glossary Entry">table work area</a> <span class="qtext">
dbtab</span> for the respective database table or the view is declared using the statement <span class="qtext">TABLES</span>.
The system then implicitly adds the addition <span class="qtext">FROM dbtab</span> to the <span class="qtext">DELETE</span> statement.
<br></li>
</ul>
<p><span class="h4">
Example
</span></p>
<P>
Deletes a carrier from the database table <span class="lnkgrey">SCARR</span> using a host expression.
</P>
<p class="qtextml1">
<span class="qtext">
DELETE scarr FROM @( VALUE #( carrid&nbsp;&nbsp; = 'FF' ) ). <br><br>
</span>
</p>
<A NAME="@@TABLE@@DELETE dbtab@@"></A>
<p><span class="h2">
<A NAME="!ABAP_ALTERNATIVE_2@2@"></A> <span class="bold">Alternative 2</span>
</span></p>
<P>
<span class="qtext">... TABLE @itab<i class=bn>|</i>@( expr )</span> <br><br><br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<P>
If an internal table is specified as a host variable <a href="javascript:call_link('abenopen_sql_host_variables.html')" class="blue"><span class="qtext">
@itab</span></a> or host expression <a href="javascript:call_link('abenopen_sql_host_expressions.html')" class="blue"><span class="qtext">@( expr
)</span></a>, the system edits all rows of the internal table in accordance with the rules for the work area <span class="qtext">wa</span>. The row type of the internal table must meet the
<a href="javascript:call_link('abenopen_sql_wa.html')" class="blue">prerequisites</a> for use in ABAP SQL statements.
</P>
<P>
If, for a row of the internal table, there is no row in the database with the same content as the primary
key, the relevant row is ignored and <span class="qtext">sy-subrc</span> is set to 4. If the internal
table is empty, no rows are deleted. However <span class="qtext">sy-subrc</span> is still set to 0. The system field <span class="qtext">sy-dbcnt</span> is set to the number of rows that are actually deleted.
</P>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>
When an internal table is used, package-by-package processing causes some of the rows being deleted to still be visible to any read access running in parallel with <span class="qtext">DELETE</span>.
<br><br></li>
<li>
If a <a href="javascript:call_link('abenconstructor_expression_glosry.html')" class="grey" title="Glossary Entry">constructor expression</a> as a
<a href="javascript:call_link('abenopen_sql_host_expressions.html')" class="blue">host expression</a> is specified as an internal
table <span class="qtext">itab</span>, for which the data type is inferred using the <span class="qtext">#</span>
character, a structured standard table with an empty table key (whose row type consists of the components of the primary key of the database table) is created as the type.
<br></li>
</ul>
<p><span class="h4">
Example
</span></p>
<P>
Deletes all today's flights of an airline in which no seats are occupied from the database table <span class="lnkgrey">
SFLIGHT</span>. The internal table from which the key values of the deleted rows are taken is obtained
in a host expression using a method call. The client field must occur in the row structure of the internal
table with the type <span class="qtext">sflight_key_tab</span> to ensure that its components match the
primary key of the database table. This example works in the same way as <a href="javascript:call_link('abapdelete_where.html')" class="blue"><span class="qtext">DELETE dbtab - cond</span></a>, but it requires the database to be accessed twice.
</P>
<p class="qtextml1">
<span class="qtext">
TYPES: <br>&nbsp;&nbsp;BEGIN OF sflight_key, <br>&nbsp;&nbsp;&nbsp;&nbsp;mandt&nbsp;&nbsp;TYPE sflight-mandt, <br>
&nbsp;&nbsp;&nbsp;&nbsp;carrid&nbsp;&nbsp; TYPE sflight-carrid, <br>&nbsp;&nbsp;&nbsp;&nbsp;connid&nbsp;&nbsp; TYPE sflight-connid, <br>
&nbsp;&nbsp;&nbsp;&nbsp;fldate TYPE sflight-fldate, <br>&nbsp;&nbsp;END OF sflight_key, <br>&nbsp;&nbsp;sflight_key_tab TYPE STANDARD TABLE OF sflight_key WITH EMPTY KEY. <br>
 <br>CLASS sflight_methods DEFINITION. <br>&nbsp;&nbsp;PUBLIC SECTION. <br>&nbsp;&nbsp;&nbsp;&nbsp;CLASS-METHODS <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get_empty_flights IMPORTING carrid&nbsp;&nbsp; TYPE sflight-carrid <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;date&nbsp;&nbsp;&nbsp;&nbsp; TYPE sy-datum <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RETURNING VALUE(r) TYPE sflight_key_tab. <br>
ENDCLASS. <br> <br>CLASS sflight_methods IMPLEMENTATION. <br>&nbsp;&nbsp;METHOD get_empty_flights. <br>&nbsp;&nbsp;&nbsp;&nbsp;SELECT mandt, carrid, connid, fldate <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FROM sflight <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; WHERE carrid = @carrid AND <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fldate = @date AND <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; NOT seatsocc > 0 <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; INTO TABLE @r. <br>&nbsp;&nbsp;ENDMETHOD. <br>
ENDCLASS. <br> <br>DATA carrid TYPE sflight-carrid. <br> <br>START-OF-SELECTION. <br>&nbsp;&nbsp;cl_demo_input=>request( CHANGING field = carrid ). <br>
 <br>&nbsp;&nbsp;DELETE sflight FROM TABLE @( <br>&nbsp;&nbsp;&nbsp;&nbsp;sflight_methods=>get_empty_flights( carrid = carrid <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;date&nbsp;&nbsp; = sy-datum ) ).
</span>
</p>
<br>
<br>
<br>
<br>
</DIV>
<fieldset style="opacity:0">
<input id="url" type="text" />
</fieldset>
</BODY>

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abapdelete_source.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:52:07 GMT -->
</html>

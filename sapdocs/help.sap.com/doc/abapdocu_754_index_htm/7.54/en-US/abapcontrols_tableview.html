<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="EN">
<!-- ABAPCONTROLS_TABLEVIEW -->

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abapcontrols_tableview.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:52:08 GMT -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="author" content="SAP">
<meta name="description" content="CONTROLS - TYPE TABLEVIEW">
<title>
CONTROLS - TYPE TABLEVIEW - ABAP Keyword Documentation
</title>
<link rel="icon" href="ABAPIcon.ico" type="image/ico">
<link rel="shortcut icon" href="ABAPIcon.ico">
<LINK rel="stylesheet" href="abap_docu.css" type="text/css">
<script language="javascript" type="text/javascript" src="functions.js"></script>
<script type="text/JavaScript">
function urlToClipboard(id){
 try{ var loc = top.location.href;}
 catch(e){ alert( "URL cannnot be determined" ); return; }
 var field = document.getElementById(id);
 field.focus();
 if ( loc.search( ".htm" ) == -1 && loc.search( ".HTM" ) == -1  ){ loc = loc + "index.htm"; }
 if (   loc.search( "index.html" ) != -1
     || loc.search( "INDEX-2.html" ) != -1 ){
   var off = loc.search( "file=" );
   if ( off == -1  ){
     field.value = loc + "?file=abapcontrols_tableview.htm"; }
   else {
     field.value = loc.substring( 0, off ) + "file=abapcontrols_tableview.htm";
   }
 }
 else {
    field.value = loc; }
 field.setSelectionRange(0, field.value.length);
 var r = confirm( "Copy URL to clipboard?\n\n" + field.value + "\n\nCopy to clipboard does not work in all browsers." );
 if (r == true) {
   try{
     document.execCommand("copy");
   }
     catch(e){ alert( "URL could not be copied to clipboard" ); }
 }
 window.scrollTo(0,0);
}
</script>
</head>
<body>
<div class="all">
<div style="float:right;">
<input type="button" value="URL"
style="font-size:10px; width:30px; height:18px; padding:0; "
onclick="urlToClipboard('url')" title="Copy URL to Clipboard" ></div>
<p>
<input name="query" id="query" value="" type="text" title="Suchbegriff" size="30" maxlength="30" onkeyup="getInput()">&nbsp;
<input type="button" value="Search"
style="font-size:12px; width:50px; height:18px; padding:0"
onclick="call_search('search.html')" title="Search in ABAP Keyword Documentation" >
<hr style="width:100%;height:1px"></p>
<p class="copyright">AS ABAP Release 754, &copy;Copyright 2019 SAP SE. All rights reserved.</p>
<span class="path">
<a href="javascript:call_link('abenabap.html')" class="blue">ABAP Keyword Documentation</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_reference.html')" class="blue">ABAP &#x2212; Reference</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_screens.html')" class="blue">SAP GUI User Dialogs</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_dynpros.html')" class="blue">General Dynpros</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_dynpros_abap_statements.html')" class="blue">ABAP Statements for Dynpros</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abapcontrols.html')" class="blue">CONTROLS</a>&nbsp;&rarr;&nbsp;
</span>
<A NAME="@@TYPE TABLEVIEW@@CONTROLS@@"></A>
<A NAME="@@USING SCREEN@@CONTROLS@@"></A>
<p><span class="h1">
CONTROLS - TYPE TABLEVIEW <br><br>
</span></p>
<P>
<a href="javascript:call_link('abapcontrols_shortref.html')" class="blue">Quick Reference</a> <br><br>
</P>
<p><span class="h2">
<span class="bold">Syntax</span>
</span></p>
<P>
<span class="qtext"> CONTROLS contrl TYPE TABLEVIEW USING SCREEN dynnr.</span> <br><br>
</P>
<p><span class="h4">
Effect
</span></p>
<P>
Declares a <a href="javascript:call_link('abentable_control_glosry.html')" class="grey" title="Glossary Entry">table control</a>. If the type <span class="qtext">TABLEVIEW</span> is specified in the statement <span class="qtext">CONTROLS</span>, a
<a href="javascript:call_link('abendeep_structure_glosry.html')" class="grey" title="Glossary Entry">deep structure</a> is created with the name of the
<a href="javascript:call_link('abencontrol_glosry.html')" class="grey" title="Glossary Entry">control</a> and the type CXTAB_CONTROL of the
<a href="javascript:call_link('abentype_group_1_glosry.html')" class="grey" title="Glossary Entry">type group</a> <span class="lnkgrey">CXTAB</span>. In
<a href="javascript:call_link('abendynpro_glosry.html')" class="grey" title="Glossary Entry">dynpro</a> processing, the components
of the structure contain the attributes of the table control. Using this structure you can read and edit the attributes of the relevant table control.
</P>
<P>
At the top level, the deep structure CXTAB_CONTROL contains components for the general attributes of
the table control. The component COLS is an internal table of the structure CXTAB_COLUMN and contains the attributes of individual columns. The structure CXTAB_COLUMN contains a structured component SCREEN of the type
<a href="javascript:call_link('abenscreen.html')" class="blue">SCREEN</a>. This component contains the attributes of the screen
element of each column. With the exception of the component CURRENT_LINE, all components of the structure CXTAB_CONTROL can be set in the ABAP program.
</P>
<P>
<span class="qtext">dynnr</span> expects the number of a dynpro on which a table control with the name
<span class="qtext">contrl</span> is defined. A literal or a constant of the type <span class="qtext">n</span>
with length 4 can be specified for <span class="qtext">dynnr</span>. When a dynpro in which a table control called <span class="qtext">contrl</span> is defined is called for the first time, the
<a href="javascript:call_link('abenstart_value_glosry.html')" class="grey" title="Glossary Entry">start values</a> of certain
components of the structure are taken from the definition of the table control whose dynpro is specified after <span class="qtext">USING</span>. <br><br>
</P>
<P>
<span class="bold">The Structure CXTAB_CONTROL</span> <br><br>
</P>
<table border>
<tr>
<td><span class="bold">Component</span></td>
<td><span class="bold">Meaning</span></td>
</tr>
<tr>
<td>FIXED_COLS</td>
<td>Number of lead columns. The start value is taken from the definition of the table control in the dynpro <span class="qtext">dynnr</span>.</td>
</tr>
<tr>
<td>LINES</td>
<td>Controls the vertical scroll bar of the table control. If the <a href="javascript:call_link('dynploop.html')" class="blue"><span class="qtext">
LOOP</span></a> is executed in the dynpro flow logic without reference to an internal table, that start
value of LINES is 0 and must be set in the program so that the scroll bar can be used. With reference
to an internal table, LINES is set to the current number of rows in the internal table if the table
control is being processed for the first time. However, since this time is not defined, the value of LINES should also be explicitly set to the number of rows of the internal table before the
<a href="javascript:call_link('abenpbo_glosry.html')" class="grey" title="Glossary Entry">PBO</a> processing in this case.</td>
</tr>
<tr>
<td>TOP_LINE</td>
<td>Top displayed row for next <a href="javascript:call_link('abenpbo_glosry.html')" class="grey" title="Glossary Entry">PBO</a>. Set at time of
<a href="javascript:call_link('abenpai_glosry.html')" class="grey" title="Glossary Entry">PAI</a> by the position of the vertical slider box.</td>
</tr>
<tr>
<td>CURRENT_LINE</td>
<td>Current row during a <span class="qtext">LOOP</span> in the dynpro flow logic. If the addition <span class="qtext">
FROM</span> of the statement <a href="javascript:call_link('dynploop.html')" class="blue"><span class="qtext">LOOP</span></a>
is not specified, the value of CURRENT_LINE corresponds to the result of <span class="qtext">sy-stepl</span> + (TOP_LINE - 1).</td>
</tr>
<tr>
<td>LEFT_COL</td>
<td>Number of first horizontally scrollable column displayed after the lead columns. Is set at time of
<a href="javascript:call_link('abenpai_glosry.html')" class="grey" title="Glossary Entry">PAI</a> by the position of the horizontal slider box.</td>
</tr>
<tr>
<td>LINE_SEL_MODE</td>
<td>Row selection mode: "0" if no rows can be selected , "1" if one row, "2" if multiple rows. The start value is taken from the definition of the table control in the dynpro <span class="qtext">dynnr</span>.</td>
</tr>
<tr>
<td>COL_SEL_MODE</td>
<td>Column selection mode: "0" if no columns can be selected , "1" if one column, "2" if multiple columns.
The start value is taken from the definition of the table control in the dynpro <span class="qtext">dynnr</span>.</td>
</tr>
<tr>
<td>LINE_SELECTOR</td>
<td>Flag ("X" or " ") whether there is a selection column. The start value is taken from the definition of the table control in the dynpro <span class="qtext">dynnr</span>.</td>
</tr>
<tr>
<td>H_GRID</td>
<td>Flag ("X" or " ") whether there are horizontal separators. The start value is taken from the definition of the table control in the dynpro <span class="qtext">dynnr</span>.</td>
</tr>
<tr>
<td>V_GRID</td>
<td>Flag ("X" or " ") whether there are vertical separators. The start value is taken from the definition of the table control in the dynpro <span class="qtext">dynnr</span>.</td>
</tr>
<tr>
<td>COLS</td>
<td>Control table for individual columns of the structure CXTAB_COLUMN.</td>
</tr>
<tr>
<td>INVISIBLE</td>
<td>Flag ("X" or " ") indicating whether the table control is visible in the GUI window.</td>
</tr>
</table><br>
<P>
<span class="bold">The Structure CXTAB_COLUMN</span> <br><br>
</P>
<table border>
<tr>
<td><span class="bold">Component</span></td>
<td><span class="bold">Meaning</span></td>
</tr>
<tr>
<td>SCREEN</td>
<td>Structure for the attributes of the screen element of the current column. The components can be
set for the values described there either directly or using <a href="javascript:call_link('abapmodify_screen.html')" class="blue"><span class="qtext">MODIFY SCREEN</span></a>. MODIFY SCREEN overwrites a direct assignment.</td>
</tr>
<tr>
<td>INDEX</td>
<td>Current position of the column in the table control. The start value is taken from the definition of the table control in the dynpro <span class="qtext">dynnr</span>. Is set to current value at time of
<a href="javascript:call_link('abenpai_glosry.html')" class="grey" title="Glossary Entry">PAI</a>.</td>
</tr>
<tr>
<td>SELECTED</td>
<td>Flag ("X" or " ") whether or not column is selected. Is set to current value at time of <a href="javascript:call_link('abenpai_glosry.html')" class="grey" title="Glossary Entry">PAI</a>.</td>
</tr>
<tr>
<td>VISLENGTH</td>
<td>Visible length of the column. <a href="javascript:call_link('abenstart_value_glosry.html')" class="grey" title="Glossary Entry">
Start value</a> is taken from the definition of the table control in dynpro <span class="qtext">dynnr</span>.</td>
</tr>
<tr>
<td>INVISIBLE</td>
<td>Flag ("X" or " ") whether or not the column is visible in the table control.</td>
</tr>
</table><br>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>
In a table control, it is possible to scroll vertically using a scroll bar if the component LINES of the structure CXTAB_CONTROL was set to the correct row number before the
<a href="javascript:call_link('abenpbo_glosry.html')" class="grey" title="Glossary Entry">PBO</a> processing of the table control. Every time the scroll bar is scrolled, the event
<a href="javascript:call_link('abenpai_glosry.html')" class="grey" title="Glossary Entry">PAI</a> is raised with an empty function
code and the component TOP_LINE of the structure CXTAB_CONTROL is automatically set to the new top row before the time of PBO.
<br><br></li>
<li>
For program-driven scrolling, it is sufficient to assign a value to the component TOP_LINE of the structure
CXTAB_CONTROL during PBO processing. When scrolling by page, the number of rows scrolled can be taken from the system field <span class="qtext">sy-loopc</span> in
<a href="javascript:call_link('dynploop.html')" class="blue">loop executions</a>. <span class="qtext">sy-loopc</span> contains
the number of currently displayed rows and the component LINES of the structure CXTAB_CONTROL contains the number of lines in the full table control. <br><br>
<br></li>
</ul>
<p><span class="h4">
Example
</span></p>
<P>
If a table control is defined on the dynpro with the number 100 and the rows of this table control are
defined with reference to the database table SPFLI in ABAP Dictionary, the corresponding programming
of the ABAP program can be as follows. In a PBO module <span class="qtext">prepare_tab</span>, an internal
table <span class="qtext">spfli_tab</span> is filled with data from the database table. The number of
rows of <span class="qtext">spfli_tab</span> is assigned to the component <span class="qtext">lines</span>
of the structure <span class="qtext">flight_tab</span> created using <span class="qtext">CONTROLS</span>;
this is done to activate the scroll bar of the table control. In a PAI module <span class="qtext">modify_tab</span>, the row of the internal table is modified whose primary table key matches that of the
<a href="javascript:call_link('abeninterface_work_area_glosry.html')" class="grey" title="Glossary Entry">interface work area</a>
<span class="qtext">spfli</span> defined using <span class="qtext">TABLES</span>. The PAI module <span class="qtext">
modify_tab</span> is called for every displayed row of the table control. The corresponding dynpro flow logic can be seen in the example for <a href="javascript:call_link('dynploop.html')" class="blue"><span class="qtext">LOOP</span></a>.
</P>
<p class="qtextml1">
<span class="qtext">
CONTROLS flight_tab TYPE TABLEVIEW USING SCREEN '0100'. <br>TABLES spfli. <br>DATA spfli_tab TYPE SORTED TABLE OF spfli <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; WITH UNIQUE KEY carrid connid. <br>
... <br>MODULE prepare_tab OUTPUT. <br>&nbsp;&nbsp;IF spfli_tab IS INITIAL. <br>&nbsp;&nbsp;&nbsp;&nbsp;SELECT * <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FROM spfli <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; INTO TABLE @spfli_tab. <br>
&nbsp;&nbsp;&nbsp;&nbsp;flight_tab-lines = lines( spfli_tab ). <br>&nbsp;&nbsp;ENDIF. <br>ENDMODULE. <br>MODULE modify_tab INPUT. <br>&nbsp;&nbsp;MODIFY TABLE spfli_tab FROM spfli. <br>ENDMODULE.
</span>
</p>
<br>
<br>
<br>
<br>
</DIV>
<fieldset style="opacity:0">
<input id="url" type="text" />
</fieldset>
</BODY>

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abapcontrols_tableview.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:52:08 GMT -->
</html>

<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="EN">
<!-- ABENREFLEXIVE_CORRESPONDING_ABEXA -->

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abenreflexive_corresponding_abexa.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:52:37 GMT -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="author" content="SAP">
<meta name="description" content="Reflexive Component Assignments">
<title>
Reflexive Component Assignments - ABAP Keyword Documentation
</title>
<link rel="icon" href="ABAPIcon.ico" type="image/ico">
<link rel="shortcut icon" href="ABAPIcon.ico">
<LINK rel="stylesheet" href="abap_docu.css" type="text/css">
<script language="javascript" type="text/javascript" src="functions.js"></script>
<script type="text/JavaScript">
function urlToClipboard(id){
 try{ var loc = top.location.href;}
 catch(e){ alert( "URL cannnot be determined" ); return; }
 var field = document.getElementById(id);
 field.focus();
 if ( loc.search( ".htm" ) == -1 && loc.search( ".HTM" ) == -1  ){ loc = loc + "index.htm"; }
 if (   loc.search( "index.html" ) != -1
     || loc.search( "INDEX-2.html" ) != -1 ){
   var off = loc.search( "file=" );
   if ( off == -1  ){
     field.value = loc + "?file=abenreflexive_corresponding_abexa.htm"; }
   else {
     field.value = loc.substring( 0, off ) + "file=abenreflexive_corresponding_abexa.htm";
   }
 }
 else {
    field.value = loc; }
 field.setSelectionRange(0, field.value.length);
 var r = confirm( "Copy URL to clipboard?\n\n" + field.value + "\n\nCopy to clipboard does not work in all browsers." );
 if (r == true) {
   try{
     document.execCommand("copy");
   }
     catch(e){ alert( "URL could not be copied to clipboard" ); }
 }
 window.scrollTo(0,0);
}
</script>
</head>
<body>
<div class="all">
<div style="float:right;">
<input type="button" value="URL"
style="font-size:10px; width:30px; height:18px; padding:0; "
onclick="urlToClipboard('url')" title="Copy URL to Clipboard" ></div>
<p>
<input name="query" id="query" value="" type="text" title="Suchbegriff" size="30" maxlength="30" onkeyup="getInput()">&nbsp;
<input type="button" value="Search"
style="font-size:12px; width:50px; height:18px; padding:0"
onclick="call_search('search.html')" title="Search in ABAP Keyword Documentation" >
<hr style="width:100%;height:1px"></p>
<p class="copyright">AS ABAP Release 754, &copy;Copyright 2019 SAP SE. All rights reserved.</p>
<span class="path">
<a href="javascript:call_link('abenabap.html')" class="blue">ABAP Keyword Documentation</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_reference.html')" class="blue">ABAP &#x2212; Reference</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_data_working.html')" class="blue">Processing Internal Data</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenvalue_assignments.html')" class="blue">Assignments</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abencorresponding.html')" class="blue">Assigning Structure Components</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abencorresponding_abexas.html')" class="blue">Assigning Components: Examples</a>&nbsp;&rarr;&nbsp;
</span>
<p><span class="h1">
Reflexive Component Assignments
</span></p>
<p>
This example demonstrates assignments between components of a structure.
</p>
<A name="@@ITOC@@ABENREFLEXIVE_CORRESPONDING_ABEXA_1"></A>
<p><span class="h2">
Source Code
</span></p>
<!-- Begin code -->
<p class="qtextml1"><span class="qtextgrey">
REPORT demo_corresponding_reflexive.<br>
<br>
CLASS demo DEFINITION.<br>
&nbsp;&nbsp;PUBLIC SECTION.<br>
&nbsp;&nbsp;&nbsp;&nbsp;CLASS-METHODS main.<br>
ENDCLASS.<br>
<br>
CLASS demo IMPLEMENTATION.<br>
&nbsp;&nbsp;METHOD main.<br>
</span><span class="qtext">
&nbsp;&nbsp;&nbsp;&nbsp;TYPES: BEGIN OF t_str1,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; a1 TYPE i,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; a2 TYPE i,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; a3 TYPE i,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; a4 TYPE i,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; END OF t_str1.<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;TYPES: BEGIN OF t_str2,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; b1 TYPE i,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; b2 TYPE i,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; a1 TYPE i,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; a2 TYPE i,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; END OF t_str2.<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;TYPES: BEGIN OF t_str3,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; a4 TYPE i,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; a3 TYPE i,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; a1 TYPE i,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; a2 TYPE i,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; END OF t_str3.<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;DATA(out) = cl_demo_output=&gt;new( ).<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;out-&gt;begin_section( 'Reflexive Component Assignments' ).<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;DATA(str1) = VALUE t_str1( a1 = 1 a2 = 2 a3 = 3 a4 = 4 ).<br>
&nbsp;&nbsp;&nbsp;&nbsp;DATA(back) = str1.<br>
&nbsp;&nbsp;&nbsp;&nbsp;out-&gt;write( str1 ).<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;out-&gt;begin_section( 'MOVE-CORRESPONDING' ).<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;FIELD-SYMBOLS &lt;fs2&gt; TYPE t_str2.<br>
&nbsp;&nbsp;&nbsp;&nbsp;ASSIGN str1 TO &lt;fs2&gt; CASTING.<br>
&nbsp;&nbsp;&nbsp;&nbsp;MOVE-CORRESPONDING str1 TO &lt;fs2&gt;.<br>
&nbsp;&nbsp;&nbsp;&nbsp;out-&gt;write( str1 ).<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;str1 = back.<br>
&nbsp;&nbsp;&nbsp;&nbsp;ASSIGN str1 TO &lt;fs2&gt; CASTING.<br>
&nbsp;&nbsp;&nbsp;&nbsp;MOVE-CORRESPONDING &lt;fs2&gt; TO str1.<br>
&nbsp;&nbsp;&nbsp;&nbsp;out-&gt;write( str1 ).<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;str1 = back.<br>
&nbsp;&nbsp;&nbsp;&nbsp;FIELD-SYMBOLS &lt;fs3&gt; TYPE t_str3.<br>
&nbsp;&nbsp;&nbsp;&nbsp;ASSIGN str1 TO &lt;fs3&gt; CASTING.<br>
&nbsp;&nbsp;&nbsp;&nbsp;MOVE-CORRESPONDING str1 TO &lt;fs3&gt;.<br>
&nbsp;&nbsp;&nbsp;&nbsp;out-&gt;write( str1 ).<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;str1 = back.<br>
&nbsp;&nbsp;&nbsp;&nbsp;ASSIGN str1 TO &lt;fs3&gt; CASTING.<br>
&nbsp;&nbsp;&nbsp;&nbsp;MOVE-CORRESPONDING &lt;fs3&gt; TO str1.<br>
&nbsp;&nbsp;&nbsp;&nbsp;out-&gt;write( str1 ).<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;out-&gt;next_section( 'CORRESPONDING' ).<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;str1 = back.<br>
&nbsp;&nbsp;&nbsp;&nbsp;str1 = CORRESPONDING #(<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; str1 MAPPING a1 = a4 a2 = a3 a3 = a1 a4 = a2 ) ##operator.<br>
&nbsp;&nbsp;&nbsp;&nbsp;out-&gt;write( str1 ).<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;str1 = back.<br>
&nbsp;&nbsp;&nbsp;&nbsp;str1 = CORRESPONDING #(<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; str1 MAPPING a1 = a3 a2 = a4 a3 = a2 a4 = a1 ) ##operator.<br>
&nbsp;&nbsp;&nbsp;&nbsp;out-&gt;write( str1 ).<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;out-&gt;next_section( 'CL_ABAP_CORRESPONDING' ).<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;str1 = back.<br>
&nbsp;&nbsp;&nbsp;&nbsp;cl_abap_corresponding=&gt;create(<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= str1<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;destination = str1<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;&nbsp;&nbsp;&nbsp; = VALUE cl_abap_corresponding=&gt;mapping_table(<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;( level = 0 kind = 1 srcname = 'a4' dstname = 'a1' )<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;( level = 0 kind = 1 srcname = 'a3' dstname = 'a2' )<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;( level = 0 kind = 1 srcname = 'a1' dstname = 'a3' )<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;( level = 0 kind = 1 srcname = 'a2' dstname = 'a4' ) )<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)-&gt;execute( EXPORTING source&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= str1<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CHANGING&nbsp;&nbsp;destination = str1 ).<br>
&nbsp;&nbsp;&nbsp;&nbsp;out-&gt;write( str1 ).<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;str1 = back.<br>
&nbsp;&nbsp;&nbsp;&nbsp;cl_abap_corresponding=&gt;create(<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= str1<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;destination = str1<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;&nbsp;&nbsp;&nbsp; = VALUE cl_abap_corresponding=&gt;mapping_table(<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;( level = 0 kind = 1 srcname = 'a3' dstname = 'a1' )<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;( level = 0 kind = 1 srcname = 'a4' dstname = 'a2' )<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;( level = 0 kind = 1 srcname = 'a2' dstname = 'a3' )<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;( level = 0 kind = 1 srcname = 'a1' dstname = 'a4' ) )<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)-&gt;execute( EXPORTING source&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= str1<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CHANGING&nbsp;&nbsp;destination = str1 ).<br>
&nbsp;&nbsp;&nbsp;&nbsp;out-&gt;write( str1 ).<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;out-&gt;display( ).<br>
</span><span class="qtextgrey">
&nbsp;&nbsp;ENDMETHOD.<br>
ENDCLASS.<br>
<br>
START-OF-SELECTION.<br>
&nbsp;&nbsp;demo=&gt;main( ).<br>
</span></p>
<!-- End code -->
<A name="@@ITOC@@ABENREFLEXIVE_CORRESPONDING_ABEXA_2"></A>
<p><span class="h2">
Description
</span></p>
<p>
The example summarizes various ways of making assignments of components in the same structure:
</p>
<ul class="disc">
<li>In the case of the statement, <a href="javascript:call_link('abapmove-corresponding.html')" class="blue"><span class="qtext">MOVE-CORRESPONDING</span></a> this can be done using
<a href="javascript:call_link('abencast_casting_glosry.html')" class="grey" title="Glossary Entry">castings</a> with differently typed field symbols:</li>
</ul>
<ul class="circlem2">
<li>There is no overlapping of source components and target components between the type <span class="qtext">t_str1</span>
of the structure <span class="qtext">str1</span> and the type <span class="qtext">t_str2</span> of the
field symbol <span class="qtext">fs2</span>. In assignments of the structure to the field symbol that
points to the structure, the content of the columns <span class="qtext">a1</span> and <span class="qtext">a2</span>
is copied to the columns <span class="qtext">a3</span> and <span class="qtext">a4</span>. This is because
these columns have the names <span class="qtext">a1</span> and <span class="qtext">a2</span> in the
field symbol. In assignments from the field symbol to the structure, however, the content of the columns
<span class="qtext">a3</span> and <span class="qtext">a4</span> is copied to the columns <span class="qtext">a1</span> and <span class="qtext">a2</span>.</li>
</ul>
<ul class="circlem2">
<li>Identically named components overlap between the type <span class="qtext">t_str1</span> of the structure
<span class="qtext">str1</span> and the type <span class="qtext">t_str3</span> of the field symbol <span class="qtext">
fs3</span>. In assignments of the structure to the field symbol that points to the structure, the components
are evaluated in an undefined order and the previously assigned current content of the components is used. Assignments from the field symbol to the structure produce yet another result.</li>
</ul>
<dl><dd>
If performed at all, reflexive assignments between the components of a structure using <span class="qtext">MOVE-CORRESPONDING</span> should be free of overlaps.
</dd></dl>
<ul class="disc">
<li>In the case of the basic form of the constructor operator <a href="javascript:call_link('abencorresponding_constr_arg_type.html')" class="blue">
<span class="qtext">CORRESPONDING</span></a>, a temporary copy of the structure is created as a target
object and and assignment is made to this copy. The two mapping rules reflect the expectations of the two preceding <span class="qtext">MOVE-CORRESPONDING</span> statements and produce the expected result.</li>
</ul>
<ul class="disc">
<li>The method EXECUTE of the system class <a href="javascript:call_link('abencl_abap_corresponding.html')" class="blue">CL_ABAP_CORRESPONDING</a>
is called using the same mapping rules as the two preceding constructor operators <span class="qtext">CORRESPONDING</span>.
No temporary copy of the structure is created as a target objects, which means that the result is again
the same as in the examples for <span class="qtext">MOVE-CORRESPONDING</span>. In the case of dynamic
mappings using CL_ABAP_CORRESPONDING, the source component and target component should be the same for reflexive assignments.</li>
</ul>
<br>
<br>
<br>
<br>
<br>
</DIV>
<fieldset style="opacity:0">
<input id="url" type="text" />
</fieldset>
</BODY>

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abenreflexive_corresponding_abexa.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:52:37 GMT -->
</html>

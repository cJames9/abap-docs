<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="EN">
<!-- ABENMODERN_ABAP_GUIDL -->

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abenmodern_abap_guidl.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:53:05 GMT -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="author" content="SAP">
<meta name="description" content="Modern ABAP">
<title>
Modern ABAP - ABAP Keyword Documentation
</title>
<link rel="icon" href="ABAPIcon.ico" type="image/ico">
<link rel="shortcut icon" href="ABAPIcon.ico">
<LINK rel="stylesheet" href="abap_docu.css" type="text/css">
<script language="javascript" type="text/javascript" src="functions.js"></script>
<script type="text/JavaScript">
function urlToClipboard(id){
 try{ var loc = top.location.href;}
 catch(e){ alert( "URL cannnot be determined" ); return; }
 var field = document.getElementById(id);
 field.focus();
 if ( loc.search( ".htm" ) == -1 && loc.search( ".HTM" ) == -1  ){ loc = loc + "index.htm"; }
 if (   loc.search( "index.html" ) != -1
     || loc.search( "INDEX-2.html" ) != -1 ){
   var off = loc.search( "file=" );
   if ( off == -1  ){
     field.value = loc + "?file=abenmodern_abap_guidl.htm"; }
   else {
     field.value = loc.substring( 0, off ) + "file=abenmodern_abap_guidl.htm";
   }
 }
 else {
    field.value = loc; }
 field.setSelectionRange(0, field.value.length);
 var r = confirm( "Copy URL to clipboard?\n\n" + field.value + "\n\nCopy to clipboard does not work in all browsers." );
 if (r == true) {
   try{
     document.execCommand("copy");
   }
     catch(e){ alert( "URL could not be copied to clipboard" ); }
 }
 window.scrollTo(0,0);
}
</script>
</head>
<body>
<div class="all">
<div style="float:right;">
<input type="button" value="URL"
style="font-size:10px; width:30px; height:18px; padding:0; "
onclick="urlToClipboard('url')" title="Copy URL to Clipboard" ></div>
<p>
<input name="query" id="query" value="" type="text" title="Suchbegriff" size="30" maxlength="30" onkeyup="getInput()">&nbsp;
<input type="button" value="Search"
style="font-size:12px; width:50px; height:18px; padding:0"
onclick="call_search('search.html')" title="Search in ABAP Keyword Documentation" >
<hr style="width:100%;height:1px"></p>
<p class="copyright">AS ABAP Release 754, &copy;Copyright 2019 SAP SE. All rights reserved.</p>
<span class="path">
<a href="javascript:call_link('abenabap.html')" class="blue">ABAP Keyword Documentation</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_pgl.html')" class="blue">ABAP Programming Guidelines</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_specific_rules_guidl.html')" class="blue">ABAP-Specific Rules</a>&nbsp;&rarr;&nbsp;
</span>
<p><span class="h1">
Modern ABAP
</span></p>
<A name="@@ITOC@@ABENMODERN_ABAP_GUIDL_1"></A>
<p><span class="h2">
Background
</span></p>
<p>
ABAP is a living programming language that is continually being developed. Since its introduction some
30 years ago, new ABAP programs have been developed continually, with work to advance the ABAP language
ongoing at the same time. Developments to the ABAP language are either extensions of the existing language
attributes for implementing new functions, or they replace existing functions with more advanced concepts.
The replacement of existing language elements with new ones usually makes the existing language elements
superfluous or obsolete. The most prominent example of a development of the ABAP language is still the implementation of ABAP Objects.
</p>
<p>
With regard to the ABAP language, SAP has committed itself to a policy of strict downward compatibility.
On the one hand, this means that an ABAP program written for Release 3.0, for example, can be executed
on an AS ABAP in Release 7.0 or higher (provided that a non-Unicode system is being used). On the other hand, this also has the following implications:
</p>
<ul class="disc">
<li>Until now, there was little impetus for experienced developers to break with old habits and engage
in new concepts. The only exception is the changeover to Unicode systems, where ABAP programs have to be converted to the ABAP language version
<a href="javascript:call_link('abenunicode_program_glosry.html')" class="grey" title="Glossary Entry">Standard ABAP (Unicode)</a>, which has slightly different syntax rules.</li>
</ul>
<ul class="disc">
<li>ABAP beginners get confused by the multitude of options available for the same task. Where there
is doubt, older programs are used as templates, and the obsolete concepts are frequently still used instead of the new ones.</li>
</ul>
<p>
These problems can be solved using the following simple rule.
</p>
<A name="@@ITOC@@ABENMODERN_ABAP_GUIDL_2"></A>
<p><span class="h2">
Rule
</span></p>
<p>
<span class="bold">Do not use obsolete language elements</span>
</p>
<p>
Do not use obsolete language elements for new developments. We also recommend an incremental changeover to new concepts as they become available.
</p>
<A name="@@ITOC@@ABENMODERN_ABAP_GUIDL_3"></A>
<p><span class="h2">
Details
</span></p>
<p>
Newer language elements are always the better language elements. Obsolete language elements are only
provided for downward compatibility reasons. A statement or statement addition is declared as obsolete
only when a more powerful alternative exists or when the language element is identified as being prone
to errors (in the sense that it invites insecure and non-robust programming). It follows that you cannot
ensure secure and robust programming if you use obsolete language elements, which is why obsolete language elements should not be used for new developments.
</p>
<p>
If ABAP Objects is used, the majority of the obsolete statements and additions are already prohibited in the syntax. For this reason among others, we strongly recommend
<a href="javascript:call_link('abenabap_obj_progr_model_guidl.html')" class="lnkpurple" title="Guideline">using ABAP Objects</a>. Outside of ABAP Objects, that is in cases that are
<a href="javascript:call_link('abenabap_obj_progr_model_guidl.html')" class="lnkpurple" title="Guideline">still allowed</a>, no obsolete language elements can be used.
<a href="javascript:call_link('abenabap_obsolete.html')" class="blue">Obsolete Language Elements</a> provides an overview of the obsolete statements and statement additions.
</p>
<p><span class="h4">
Bad Example
</span></p>
<p>
The following source code shows the solution of a task using obsolete language elements. A procedure
is supposed to replace all occurrences of <span class="qtext">substring</span> in a <span class="qtext">text</span> with a new character string <span class="qtext">new</span> if the substring is not at the end of a word.
</p>
<dl><dd>
<span class="qtext">FORM bad_example USING&nbsp;&nbsp;&nbsp;&nbsp;substring TYPE csequence <br>&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;new&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; TYPE csequence <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CHANGING text&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TYPE csequence. <br>
&nbsp;&nbsp;DATA: pattern TYPE string, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;subrc&nbsp;&nbsp; TYPE sy-subrc. <br>
&nbsp;&nbsp;CONCATENATE '*' substring INTO pattern. <br>&nbsp;&nbsp;SEARCH text FOR pattern. <br>&nbsp;&nbsp;IF sy-subrc &lt;> 0. <br>
&nbsp;&nbsp;&nbsp;&nbsp;CLEAR subrc. <br>&nbsp;&nbsp;&nbsp;&nbsp;WHILE subrc = 0. <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;REPLACE substring WITH new INTO text. <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;subrc = sy-subrc. <br>&nbsp;&nbsp;&nbsp;&nbsp;ENDWHILE. <br>&nbsp;&nbsp;ENDIF. <br>ENDFORM.</span>
</dd></dl>
<p>
In the above source code, aside from the modularization with <span class="qtext">FORM - ENDFORM</span>,
the statement <span class="qtext">SEARCH</span> and the used variant of <span class="qtext">REPLACE</span>
are obsolete. Furthermore, a character string operator &amp;&amp; is available as a replacement for <span class="qtext">CONCATENATE</span>.
</p>
<p><span class="h4">
Good Example
</span></p>
<p>
The following source code executes the same task as above; however, it uses the latest available language elements.
</p>
<dl><dd>
<span class="qtext">METHOD good_example. <br>&nbsp;&nbsp;FIND REGEX substring &amp;&amp; `\b` IN text. <br>
&nbsp;&nbsp;IF sy-subrc &lt;> 0. <br>&nbsp;&nbsp;&nbsp;&nbsp;REPLACE ALL OCCURRENCES OF substring IN text WITH new. <br>&nbsp;&nbsp;ENDIF. <br>ENDMETHOD.</span>
</dd></dl>
<p>
The subroutine is replaced with a method. Using <span class="qtext">FIND</span> together with a regular
expression composed using the character string operator &amp;&amp; makes helper variables superfluous.
The <span class="qtext">WHILE</span> loop is replaced with <span class="qtext">REPLACE ALL OCCURRENCES</span>,
which means it is unnecessary to use another helper variable, and the control flow is moved to the ABAP runtime environment. The latter increases the execution speed and helps to
<a href="javascript:call_link('abennesting_depth_guidl.html')" class="lnkpurple" title="Guideline">limit the maximum nesting depth</a>.
</p>
<p><span class="h4">
Note
</span></p>
<p>
In connection with the above rule, the question on the coexistence of old and new concepts within a program unit arises. There is only one area in which this is clearly defined in the syntax, namely when using the
<a href="javascript:call_link('abenclass_exception_guidl.html')" class="lnkpurple" title="Guideline">classic exception concept
and the class-based exception concept</a> in processing blocks. Otherwise, obsolete language elements
can be directly next to new language elements in a program part. In this context, we recommend keeping
the use within a context as consistent as possible, that is, do not use different statements, such as <span class="qtext">FIND</span> and <span class="qtext">SEARCH</span>, in parallel for the same purpose.
</p>
<p>
This does not, however, mean that obsolete language elements should be used in enhancements to existing
procedures to preserve consistency just because they already exist. Instead, this is the best moment
to switch the entire procedure to the corresponding new language elements. By using unit tests to cover the procedures to be changed, it is possible to ensure that there are no unpleasant surprises during the changeover.
</p>
<br>
<br>
<br>
<br>
</DIV>
<fieldset style="opacity:0">
<input id="url" type="text" />
</fieldset>
</BODY>

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abenmodern_abap_guidl.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:53:05 GMT -->
</html>

<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="EN">
<!-- ABENST_TT_ROOT -->

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abenst_tt_root.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:51:58 GMT -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="author" content="SAP">
<meta name="description" content="ST - tt:root, Data Roots">
<meta name="keywords" content="ABAP, Simple Transformations, root">
<title>
ST - tt:root, Data Roots - ABAP Keyword Documentation
</title>
<link rel="icon" href="ABAPIcon.ico" type="image/ico">
<link rel="shortcut icon" href="ABAPIcon.ico">
<LINK rel="stylesheet" href="abap_docu.css" type="text/css">
<script language="javascript" type="text/javascript" src="functions.js"></script>
<script type="text/JavaScript">
function urlToClipboard(id){
 try{ var loc = top.location.href;}
 catch(e){ alert( "URL cannnot be determined" ); return; }
 var field = document.getElementById(id);
 field.focus();
 if ( loc.search( ".htm" ) == -1 && loc.search( ".HTM" ) == -1  ){ loc = loc + "index.htm"; }
 if (   loc.search( "index.html" ) != -1
     || loc.search( "INDEX-2.html" ) != -1 ){
   var off = loc.search( "file=" );
   if ( off == -1  ){
     field.value = loc + "?file=abenst_tt_root.htm"; }
   else {
     field.value = loc.substring( 0, off ) + "file=abenst_tt_root.htm";
   }
 }
 else {
    field.value = loc; }
 field.setSelectionRange(0, field.value.length);
 var r = confirm( "Copy URL to clipboard?\n\n" + field.value + "\n\nCopy to clipboard does not work in all browsers." );
 if (r == true) {
   try{
     document.execCommand("copy");
   }
     catch(e){ alert( "URL could not be copied to clipboard" ); }
 }
 window.scrollTo(0,0);
}
</script>
</head>
<body>
<div class="all">
<div style="float:right;">
<input type="button" value="URL"
style="font-size:10px; width:30px; height:18px; padding:0; "
onclick="urlToClipboard('url')" title="Copy URL to Clipboard" ></div>
<p>
<input name="query" id="query" value="" type="text" title="Suchbegriff" size="30" maxlength="30" onkeyup="getInput()">&nbsp;
<input type="button" value="Search"
style="font-size:12px; width:50px; height:18px; padding:0"
onclick="call_search('search.html')" title="Search in ABAP Keyword Documentation" >
<hr style="width:100%;height:1px"></p>
<p class="copyright">AS ABAP Release 754, &copy;Copyright 2019 SAP SE. All rights reserved.</p>
<span class="path">
<a href="javascript:call_link('abenabap.html')" class="blue">ABAP Keyword Documentation</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_reference.html')" class="blue">ABAP &#x2212; Reference</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_data_communication.html')" class="blue">Data Interfaces and Communication Interfaces</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_xml.html')" class="blue">ABAP and XML</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_xml_trafos.html')" class="blue">Transformations for XML</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_st.html')" class="blue">ST - Simple Transformations</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenst_programs_structure.html')" class="blue">ST - Structure of ST Programs</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenst_data_declarations.html')" class="blue">ST - Data Declarations</a>&nbsp;&rarr;&nbsp;
</span>
<A NAME="@@root@@!ABAP_ST_ELEMENT!@@"></A>
<p><span class="h1">
ST - tt:root, Data Roots
</span></p>
<A name="@@ITOC@@ABENST_TT_ROOT_1"></A>
<p><span class="h2">
Syntax
</span></p>
<p>
<span class="qtext400">&lt;tt:root name="..." <i class=bn>[</i><i class=bn>[</i>line-<i class=bn>]</i>type="..." <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<i class=bn>[</i>length="..."<i class=bn>]</i> <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<i class=bn>[</i>decimals="..."<i class=bn>]</i><i class=bn>]</i> <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<i class=bn>[</i>...<i class=bn>]</i> /></span>
</p>
<p><span class="h4">
Effect
</span></p>
<p>
To be able to access ABAP data, an ST program must contain at least one declaration of a data root outside
a template. The data roots are the interfaces of the ST program to the ABAP data objects, specified
in the statement <a href="javascript:call_link('abapcall_transformation.html')" class="blue"><span class="qtext">CALL TRANSFORMATION</span></a>
as source or target fields. Data roots are defined using the statement <span class="qtext400">tt:root</span>.
A name must be assigned to the data root with the <span class="qtext400">name</span> attribute. It can be typed with the attribute <span class="qtext400"><i class=bn>[</i>line-<i class=bn>]</i>type</span>.
</p>
<p>
The data roots declared on the <a href="javascript:call_link('abenst_tt_transform.html')" class="blue"><span class="qtext400">tt:transform</span></a> level form the context of the
<a href="javascript:call_link('abenst_tt_template_main.html')" class="blue">main template</a> and can be addressed directly within it. The data roots are not recognized in
<a href="javascript:call_link('abenst_tt_template_sub.html')" class="blue">subtemplates</a>. However, they can be bound to the local data roots of subtemplates when these templates are
<a href="javascript:call_link('abenst_tt_apply.html')" class="blue">called</a>.
</p>
<p><span class="h4">
Note
</span></p>
<p>
An ST program without a data root describes a constant XML fragment that does not access ABAP data.
In the statement <span class="qtext">CALL TRANSFORMATION</span>, the syntax requires source fields or
target fields to be specified. Data objects specified when ST programs are called without data roots are ignored in serializations and not changed in deserializations. The example for
<a href="javascript:call_link('abenst_tt_text.html')" class="blue">literal texts</a> uses ST programs without data roots.
</p>
<A name="@@ITOC@@ABENST_TT_ROOT_2"></A>
<p><span class="h2">
Data Root Name
</span></p>
<p>
The attribute <span class="qtext400">name</span> is used to declare a symbolic name that can be bound
to an ABAP data object. This binding is achieved by assigning these names as <span class="qtext">bni</span>
to data object <span class="qtext">ei</span> in serializations or to <span class="qtext">fi</span> in
deserializations in the statement <a href="javascript:call_link('abapcall_transformation.html')" class="blue"><span class="qtext">CALL TRANSFORMATION</span></a>.
</p>
<p>
The symbolic name is not case-sensitive and must be unique. The namespace also includes the data roots
declared using <a href="javascript:call_link('abenst_tt_parameter.html')" class="blue"><span class="qtext400">tt:parameter</span></a>
and the variables declared using <a href="javascript:call_link('abenst_tt_variable.html')" class="blue"><span class="qtext400">tt:variable</span></a>.
No data roots other than the ones specified here can be used in the statement <span class="qtext">CALL TRANSFORMATION</span>.
</p>
<A name="@@ITOC@@ABENST_TT_ROOT_3"></A>
<p><span class="h2">
Typing the Data Root
</span></p>
<p>
The data root can be typed with a data type using the attribute <span class="qtext400">type</span> or
<span class="qtext400">line-type</span> of <span class="qtext400">tt:root</span>. Whereas <span class="qtext400">type</span>
directly specifies the type, <span class="qtext400">line-type</span> means that it is an internal table of the named type.
</p>
<p>
For data roots without explicit typing, no checks are made until the transformation is executed. Explicit
typing is used to check the ST program statically. Examples of invalid operations that can then be recognized by the compiler are:
</p>
<ul class="disc">
<li>Access to a nonexistent structure component</li>
</ul>
<ul class="disc">
<li>Loop across a non-table-like node</li>
</ul>
<ul class="disc">
<li>Handling a structured node as elementary</li>
</ul>
<p>
Elementary ABAP types, types from the repository, and types of the same ST program that are defined
with <a href="javascript:call_link('abenst_tt_type.html')" class="blue"><span class="qtext400">tt:type</span></a> can be specified as the value of <span class="qtext400"><i
class=bn>[</i>line-<i class=bn>]</i>type</span>. Type specifications are subject to the same restrictions as the statement <a href="javascript:call_link('abenst_tt_type.html')" class="blue"><span class="qtext400">tt:value</span></a>.
</p>
<A name="@@ITOC@@ABENST_TT_ROOT_4"></A>
<p><span class="h2">
Accessing a Data Root
</span></p>
<p>
Access to a data root is described under <a href="javascript:call_link('abenst_addressing_root_node.html')" class="blue">Addressing the Data Roots</a>.
<a href="javascript:call_link('abenst_serial_deserial.html')" class="blue">Serializations and deserializations</a> are subject
to the general restriction that the content of a data root cannot be modified by serialization and only writes can be performed on a data root in deserializations.
</p>
<p><span class="h4">
Example
</span></p>
<p>
Six data roots including typing are defined in the following transformation. The data root <span class="qtext400">R1</span>
has the elementary ABAP type <span class="qtext">d</span>, <span class="qtext400">R2</span> has the
type <span class="italic">internal table with elementary row type <span class="qtext">i</span></span>,
<span class="qtext400">R3</span> has the type DSTRUCT from ABAP Dictionary, <span class="qtext400">R4</span>
has the type ABCD_STRUCT from the type group ABCD, and <span class="qtext400">R5</span> is a table across
the type ABCSTRUCT defined in the global class CL_ABC. The type of <span class="qtext400">R6</span> is defined as the name STRUCT in the transformation itself.
</p>
<dl><dd>
<span class="qtext400">... <br>&lt;tt:transform <br>&nbsp;&nbsp;xmlns:tt="http://www.sap.com/transformation-templates" <br>
&nbsp;&nbsp;xmlns:ddic="http://www.sap.com/abapxml/types/dictionary" <br>&nbsp;&nbsp;xmlns:tp="http://www.sap.com/abapxml/types/type-pool/ABCD" <br>
&nbsp;&nbsp;xmlns:cl="http://www.sap.com/abapxml/types/class-pool/CL_ABC" <br>&nbsp;&nbsp;xmlns:def="http://www.sap.com/abapxml/types/defined" > <br>
&nbsp;&nbsp;&lt;tt:type name="STRUCT"> <br>&nbsp;&nbsp;&nbsp;&nbsp;&lt;tt:node name="C1" type="I"/> <br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;tt:node name="C2" type="I"/> <br>&nbsp;&nbsp;&lt;/tt:type> <br>&nbsp;&nbsp;&lt;tt:root name="R1" type="D"/> <br>
&nbsp;&nbsp;&lt;tt:root name="R2" line-type="I"/> <br>&nbsp;&nbsp;&lt;tt:root name="R3" type="ddic:DSTRUCT"/> <br>
&nbsp;&nbsp;&lt;tt:root name="R4" type="tp:ABCDSTRUCT"/> <br>&nbsp;&nbsp;&lt;tt:root name="R5" line-type="cl:ABCSTRUCT"/> <br>&nbsp;&nbsp;&lt;tt:root name="R6" type="def:STRUCT"/> <br>...</span>
</dd></dl>
<br>
<br>
<br>
<br>
</DIV>
<fieldset style="opacity:0">
<input id="url" type="text" />
</fieldset>
</BODY>

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abenst_tt_root.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:51:58 GMT -->
</html>

<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="EN">
<!-- ABAPSELECT_DATA_SOURCE -->

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abapselect_data_source.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:52:09 GMT -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="author" content="SAP">
<meta name="description" content="SELECT - FROM data_source">
<title>
SELECT - FROM data_source - ABAP Keyword Documentation
</title>
<link rel="icon" href="ABAPIcon.ico" type="image/ico">
<link rel="shortcut icon" href="ABAPIcon.ico">
<LINK rel="stylesheet" href="abap_docu.css" type="text/css">
<script language="javascript" type="text/javascript" src="functions.js"></script>
<script type="text/JavaScript">
function urlToClipboard(id){
 try{ var loc = top.location.href;}
 catch(e){ alert( "URL cannnot be determined" ); return; }
 var field = document.getElementById(id);
 field.focus();
 if ( loc.search( ".htm" ) == -1 && loc.search( ".HTM" ) == -1  ){ loc = loc + "index.htm"; }
 if (   loc.search( "index.html" ) != -1
     || loc.search( "INDEX-2.html" ) != -1 ){
   var off = loc.search( "file=" );
   if ( off == -1  ){
     field.value = loc + "?file=abapselect_data_source.htm"; }
   else {
     field.value = loc.substring( 0, off ) + "file=abapselect_data_source.htm";
   }
 }
 else {
    field.value = loc; }
 field.setSelectionRange(0, field.value.length);
 var r = confirm( "Copy URL to clipboard?\n\n" + field.value + "\n\nCopy to clipboard does not work in all browsers." );
 if (r == true) {
   try{
     document.execCommand("copy");
   }
     catch(e){ alert( "URL could not be copied to clipboard" ); }
 }
 window.scrollTo(0,0);
}
</script>
</head>
<body>
<div class="all">
<div style="float:right;">
<input type="button" value="URL"
style="font-size:10px; width:30px; height:18px; padding:0; "
onclick="urlToClipboard('url')" title="Copy URL to Clipboard" ></div>
<p>
<input name="query" id="query" value="" type="text" title="Suchbegriff" size="30" maxlength="30" onkeyup="getInput()">&nbsp;
<input type="button" value="Search"
style="font-size:12px; width:50px; height:18px; padding:0"
onclick="call_search('search.html')" title="Search in ABAP Keyword Documentation" >
<hr style="width:100%;height:1px"></p>
<p class="copyright">AS ABAP Release 754, &copy;Copyright 2019 SAP SE. All rights reserved.</p>
<span class="path">
<a href="javascript:call_link('abenabap.html')" class="blue">ABAP Keyword Documentation</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_reference.html')" class="blue">ABAP &#x2212; Reference</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_language_external_data.html')" class="blue">Processing External Data</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_sql.html')" class="blue">ABAP Database Access</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenopensql.html')" class="blue">ABAP SQL</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenopen_sql_reading.html')" class="blue">ABAP SQL - Reads</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenselect_clauses.html')" class="blue">SELECT clauses</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abapfrom_clause.html')" class="blue">SELECT - FROM</a>&nbsp;&rarr;&nbsp;
</span>
<A NAME="@@WITH PRIVILEGED ACCESS@@SELECT FROM@@"></A>
<p><span class="h1">
SELECT - FROM data_source <br><br>
</span></p>
<P>
<a href="javascript:call_link('abapselect_shortref.html')" class="blue">Quick Reference</a> <br><br>
</P>
<p><span class="h2">
<span class="bold">Syntax</span>
</span></p>
<P>
<span class="qtext">...&nbsp;&nbsp;dbtab <i class=bn>|</i>view&nbsp;&nbsp;<i class=bn>[</i>WITH PRIVILEGED ACCESS<i class=bn>]</i></span> <br>
<span class="qtext">&nbsp;&nbsp; <i class=bn>|</i> cds_entity<i class=bn>[</i>
<a href="javascript:call_link('abenopen_sql_parameters.html')" class="blue">sql_para</a><i class=bn>]</i><i class=bn>[</i>
<a href="javascript:call_link('abenopen_sql_path.html')" class="blue">sql_path</a><i class=bn>]</i><i class=bn>|</i><i class=bn>[</i> WITH PRIVILEGED ACCESS<i class=bn>]</i></span> <br>
<span class="qtext">&nbsp;&nbsp; <i class=bn>|</i> +cte<i class=bn>[</i><a href="javascript:call_link('abenopen_sql_path.html')" class="blue">sql_path</a><i class=bn>]</i></span> <br>
<span class="qtext">&nbsp;&nbsp; <i class=bn>|</i> <a href="javascript:call_link('abenselect_hierarchy_data.html')" class="blue">hierarchy_data</a></span> <br>
<span class="qtext">&nbsp;&nbsp; <i class=bn>|</i> <a href="javascript:call_link('abapselect_itab.html')" class="blue">@itab</a></span> <br><br>
</P>
<p><span class="h2">
Alternatives:
</span></p>
<P>
   <A HREF="#!ABAP_ALTERNATIVE_1@1@" class="blue"> 1. <span class="qtext">... dbtab <i class=bn>|</i>view&nbsp;&nbsp;<i class=bn>[</i>WITH PRIVILEGED ACCESS<i class=bn>]</i></span> </A> <br>
<br><A HREF="#!ABAP_ALTERNATIVE_2@2@" class="blue"> 2. <span class="qtext">... cds_entity<i class=bn>[</i>sql_para<i
class=bn>]</i><i class=bn>[</i>sql_path<i class=bn>]</i><i class=bn>|</i><i class=bn>[</i> WITH PRIVILEGED ACCESS<i class=bn>]</i></span> </A> <br>
<br><A HREF="#!ABAP_ALTERNATIVE_3@3@" class="blue"> 3. <span class="qtext">... +cte<i class=bn>[</i>sql_path<i class=bn>]</i></span> </A> <br>
<br><A HREF="#!ABAP_ALTERNATIVE_4@4@" class="blue"> 4. <span class="qtext">... hierarchy_data</span> </A> <br><br><A HREF="#!ABAP_ALTERNATIVE_5@5@" class="blue"> 5. <span class="qtext">... @itab</span> </A> <br><br>
</P>
<p><span class="h4">
Effect
</span></p>
<P>
Specifies an individual <a href="javascript:call_link('abendatabase_table_glosry.html')" class="grey" title="Glossary Entry">database table</a> <span class="qtext">dbtab</span>,
<a href="javascript:call_link('abenclassical_view_glosry.html')" class="grey" title="Glossary Entry">classic view</a> <span class="qtext">view</span>, non-abstract
<a href="javascript:call_link('abencds_entity_glosry.html')" class="grey" title="Glossary Entry">CDS entity</a> <span class="qtext">cds_entity</span>, a common
<a href="javascript:call_link('abencommon_table_expression_glosry.html')" class="grey" title="Glossary Entry">table expression</a> <span class="qtext">+cte</span>,
<a href="javascript:call_link('abenselect_hierarchy_data.html')" class="blue">hierarchy data</a>, or an
<a href="javascript:call_link('abeninternal_table_glosry.html')" class="grey" title="Glossary Entry">internal table</a> <a href="javascript:call_link('abapselect_itab.html')" class="blue">
<span class="qtext">@itab</span></a> in the <a href="javascript:call_link('abapfrom_clause.html')" class="blue"><span class="qtext">FROM</span></a> clause of a
<a href="javascript:call_link('abenquery_glosry.html')" class="grey" title="Glossary Entry">query</a>. Only views whose key fields are located together at the beginning of the view can be accessed. <br><br>
</P>
<p><span class="h2">
<A NAME="!ABAP_ALTERNATIVE_1@1@"></A> <span class="bold">Alternative 1</span>
</span></p>
<P>
<span class="qtext">... dbtab <i class=bn>|</i>view&nbsp;&nbsp;<i class=bn>[</i>WITH PRIVILEGED ACCESS<i class=bn>]</i></span> <br><br><br><!-- /A -->
</P>
<p><span class="h3">
Addition:
</span></p>
<P>
   <A HREF="#!ABAP_ONE_ADD@1@" class="blue"> <span class="qtext">... WITH PRIVILEGED ACCESS</span> </A> <br><br>
</P>
<p><span class="h4">
Effect
</span></p>
<P>
Specifies an ABAP Dictionary <a href="javascript:call_link('abendatabase_table_glosry.html')" class="grey" title="Glossary Entry">database table</a> <span class="qtext">dbtab</span> of a
<a href="javascript:call_link('abenclassical_view_glosry.html')" class="grey" title="Glossary Entry">classic view</a> or an
<a href="javascript:call_link('abenexternal_view_glosry.html')" class="grey" title="Glossary Entry">external view</a> <span class="qtext">view</span>. . Classic views on which reads can be performed using <span class="qtext">SELECT</span> are
<a href="javascript:call_link('abendatabase_view_glosry.html')" class="grey" title="Glossary Entry">database views</a> and <a href="javascript:call_link('abenprojection_view_glosry.html')" class="grey" title="Glossary Entry">projection views</a>.
</P>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>
If a <a href="javascript:call_link('abencds_view_glosry.html')" class="grey" title="Glossary Entry">CDS view</a> is defined as a
<a href="javascript:call_link('abenddic_replacement_objects.html')" class="blue">replacement object</a> for a database table
or database view specified as a data source, the <span class="qtext">SELECT</span> statement accesses
the CDS view and not the database table or the database view. In this case, it is recommended that the CDS view is used as a data source if possible.
<br><br></li>
<li>
The database table or view must be specified using the exact name defined for it in ABAP Dictionary. More specifically, it cannot be prefixed with the name for the
<a href="javascript:call_link('abendatabase_schema_glosry.html')" class="grey" title="Glossary Entry">database schema</a>. An ABAP SQL statement always accesses the database schema assigned to the current
<a href="javascript:call_link('abendatabase_user_name_glosry.html')" class="grey" title="Glossary Entry">database user name</a>. In cases where the
<a href="javascript:call_link('abenstandard_db_connection_glosry.html')" class="grey" title="Glossary Entry">standard connection</a> or a
<a href="javascript:call_link('abenservice_connection_glosry.html')" class="grey" title="Glossary Entry">service connection</a> is used, this is the
<a href="javascript:call_link('abenabap_db_schema_glosry.html')" class="grey" title="Glossary Entry">ABAP database schema</a>. In cases where a
<a href="javascript:call_link('abensecondary_db_connection_glosry.html')" class="grey" title="Glossary Entry">secondary connection</a> is used, this is the database schema assigned to the
<a href="javascript:call_link('abendatabase_user_glosry.html')" class="grey" title="Glossary Entry">database user</a> defined
in the secondary connection. Here, each access assumes that the database table or view exists under this exact name in the current AS ABAP ABAP Dictionary, regardless of the connection.
<br></li>
</ul>
<p><span class="h4">
Example
</span></p>
<P>
Gets the data of the <a href="javascript:call_link('abendatabase_view_glosry.html')" class="grey" title="Glossary Entry">database view</a> <span class="lnkgrey">DEMO_SCARR_SPFLI</span>.
</P>
<p class="qtextml1">
<span class="qtext">
SELECT * <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FROM demo_scarr_spfli <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ORDER BY id, carrier, flight, departure, destination <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; INTO TABLE @DATA(result). <br><br>
</span>
</p>
<p><span class="h3">
<A NAME="!ABAP_ONE_ADD@1@"></A> <span class="bold">Addition</span>
</span></p>
<P>
<span class="qtext">... WITH PRIVILEGED ACCESS</span> <!-- /A -->  <br>
</P>
<p><span class="h4">
Effect
</span></p>
<P>
The addition <span class="qtext">WITH PRIVILEGED ACCESS</span> is currently ignored by database tables  and classic views .
</P>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>
If <a href="javascript:call_link('abencds_access_control_glosry.html')" class="grey" title="Glossary Entry">CDS access control</a>
is implemented for database tables and classic views in a future release, the addition <span class="qtext">WITH PRIVILEGED ACCESS</span> will turn it off.
<br><br></li>
<li>
If the addition <span class="qtext">WITH PRIVILEGED ACCESS</span> is specified, the syntax check is made in <a href="javascript:call_link('abenopensql_strict_mode_752.html')" class="blue">strict mode from Release 7.52</a>. <br><br>
<br></li>
</ul>
<p><span class="h2">
<A NAME="!ABAP_ALTERNATIVE_2@2@"></A> <span class="bold">Alternative 2</span>
</span></p>
<P>
<span class="qtext">... cds_entity<i class=bn>[</i>sql_para<i class=bn>]</i><i class=bn>[</i>sql_path<i
class=bn>]</i><i class=bn>|</i><i class=bn>[</i> WITH PRIVILEGED ACCESS<i class=bn>]</i></span> <br><br><br><!-- /A -->
</P>
<p><span class="h3">
Extras:
</span></p>
<P>
   <A HREF="#!ABAP_ADDITION_1@1@" class="blue"> 1. <span class="qtext">... sql_path</span> </A> <br><br><A HREF="#!ABAP_ADDITION_2@2@" class="blue"> 2. <span class="qtext">... WITH PRIVILEGED ACCESS</span> </A> <br><br>
</P>
<p><span class="h4">
Effect
</span></p>
<P>
Specifies a non-abstract <a href="javascript:call_link('abencds_entity_glosry.html')" class="grey" title="Glossary Entry">CDS entity</a> <span class="qtext">cds_entity</span> created with the
<a href="javascript:call_link('abencds_ddl_glosry.html')" class="grey" title="Glossary Entry">CDS DDL</a> in <a href="javascript:call_link('abenabap_cds_glosry.html')" class="grey" title="Glossary Entry">ABAP CDS</a>. Possible CDS entities are:
</P>
<ul class="disc">
<li>
<a href="javascript:call_link('abencds_view_glosry.html')" class="grey" title="Glossary Entry">CDS views</a>
<br><br></li>
<li>
<a href="javascript:call_link('abencds_table_function_glosry.html')" class="grey" title="Glossary Entry">CDS table functions</a>
<br><br></li>
<li>
<a href="javascript:call_link('abencds_hierarchy_glosry.html')" class="grey" title="Glossary Entry">CDS hierarchies</a>
<br></li>
</ul>
<P>
The CDS entity is specified using its name <span class="qtext400">cds_entity</span> defined after <a href="javascript:call_link('abencds_f1_define_view.html')" class="blue">
<span class="qtext400">DEFINE VIEW</span></a>, <a href="javascript:call_link('abencds_f1_define_table_function.html')" class="blue"><span class="qtext400">
DEFINE TABLE FUNCTION</span></a>, or <a href="javascript:call_link('abencds_f1_define_hierarchy.html')" class="blue"><span class="qtext400">DEFINE HIERARCHY</span></a>.
</P>
<ul class="disc">
<li>
If the CDS entity has input parameters, actual parameters must be assigned to these in a parenthesized list <a href="javascript:call_link('abenopen_sql_parameters.html')" class="blue"><span class="qtext">sql_para</span></a>.
<br><br></li>
<li>
A path expression <a href="javascript:call_link('abenopen_sql_path.html')" class="blue"><span class="qtext">sql_path</span></a> can be specified for CDS views or CDS hierarchies with
<a href="javascript:call_link('abencds_association_glosry.html')" class="grey" title="Glossary Entry">CDS associations</a>. This expression defines its target data source as a data source of the <span class="qtext">SELECT</span> statement.
<br></li>
</ul>
<P>
CDS table functions and CDS hierarchies are database extensions that are not supported by all database
systems. The CDS DDL in ABAP CDS, however, enables CDS entities to be created and used as data sources
regardless of the database system. In ABAP programs, CDS entities like this can also be specified as
a data source of a <span class="qtext">SELECT</span> statement regardless of the database system. The following applies here:
</P>
<ul class="disc">
<li>
A handleable exception of the class <span class="lnkgrey">CX_SY_SQL_UNSUPPORTED_FEATURE</span> is raised
if the statement detects that the current database system does not support the feature. The same applies when CDS entities are accessed that contain CDS table functions or CDS hierarchies as data sources.
<br><br></li>
<li>
When used, CDS entities like this produce syntax warnings from the
<a href="javascript:call_link('abenextended_program_check_glosry.html')" class="grey" title="Glossary Entry">extended program check</a>. These warnings can be hidden using the pragma
<br></li>
</ul>
<ul class="circlem2">
<li><span class="qtext">##db_feature_mode[amdp_table_function]</span></li>
</ul>
<dl>

<dd>
.
</dd>
</dl>
<P>
CDS hierarchies are handled like <a href="javascript:call_link('abenhierarchy_glosry.html')" class="grey" title="Glossary Entry">hierarchies</a> and special <a href="javascript:call_link('abenselect_hierarchy.html')" class="blue">rules</a> apply.
</P>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>
In an ABAP program, it is possible to use the method USE_FEATURES of the class
<a href="javascript:call_link('abencl_abap_dbfeatures.html')" class="blue">CL_ABAP_DBFEATURES</a> to check whether the current database system or a database system accessed using a
<a href="javascript:call_link('abensecondary_db_connection_glosry.html')" class="grey" title="Glossary Entry">secondary connection</a>
supports CDS table functions or CDS hierarchies. This requires the constant AMDP_TABLE_FUNCTION or HIERARCHIES of the class to be passed to the method in an internal table.
<br><br></li>
<li>
The name of the <a href="javascript:call_link('abencds_database_view_glosry.html')" class="grey" title="Glossary Entry">CDS database
view</a> can also be specified for a CDS view as it is defined in the annotation <a href="javascript:call_link('abencds_f1_define_view.html')" class="blue"><span class="qtext400">@AbapCatalog.sqlViewName</span></a>. This type of access is
<a href="javascript:call_link('abenopen_sql_cds_obsolete.html')" class="blue">obsolete</a> and forbidden in
<a href="javascript:call_link('abenopensql_strict_mode_750.html')" class="blue">strict mode from Release 7.50</a>, since the CDS database view is accessed directly here handled like any
<a href="javascript:call_link('abenclassical_view_glosry.html')" class="grey" title="Glossary Entry">classic view</a>. Any attributes defined for the CDS view are lost here. This applies in particular to
<a href="javascript:call_link('abencds_client_handling.html')" class="blue">client handling</a> and the behavior of the obsolete addition <a
 href="javascript:call_link('abapselect_client_obsolete.html')" class="blue"><span class="qtext">CLIENT SPECIFIED</span></a>.
<br><br></li>
<li>
<a href="javascript:call_link('abenabstract_entity_glosry.html')" class="grey" title="Glossary Entry">Abstract CDS entities</a> cannot be accessed in ABAP SQL.
<br><br></li>
<li>
If the name <span class="qtext400">cds_entity</span> is used to access CDS entities, the syntax check runs in
<a href="javascript:call_link('abenopensql_strict_mode_740_sp05.html')" class="blue">strict mode from Release 7.40, SP05</a>. Here, the statement is handled more strictly than in the regular syntax check. If
<a href="javascript:call_link('abencds_entity_glosry.html')" class="grey" title="Glossary Entry">CDS entities</a> and database tables or classic views are both accessed in a <span class="qtext">SELECT</span> statement, the syntax check is performed in a
<a href="javascript:call_link('abenopensql_strict_mode_750.html')" class="blue">strict mode from Release 7.50</a>.
<br><br></li>
<li>
If a <a href="javascript:call_link('abencds_role_glosry.html')" class="grey" title="Glossary Entry">CDS role</a> is defined for the
<a href="javascript:call_link('abencds_entity_glosry.html')" class="grey" title="Glossary Entry">CDS entity</a> and
<a href="javascript:call_link('abencds_access_control_glosry.html')" class="grey" title="Glossary Entry">CDS access control</a>
is not switched off using the value <span class="qtext400">#NOT_ALLOWED</span> for the annotation <a href="javascript:call_link('abencds_f1_view_entity_annotations.html')" class="blue"><span
 class="qtext400">@AccessControl.authorizationCheck</span></a> or using the addition <span class="qtext">WITH PRIVILEGED ACCESS</span>,
<a href="javascript:call_link('abencds_access_control_glosry.html')" class="grey" title="Glossary Entry">CDS access control</a> is applied to <span class="qtext">SELECT</span>s and only data that matches the
<a href="javascript:call_link('abenaccess_condition_glosry.html')" class="grey" title="Glossary Entry">access conditions</a>
is read. If no data is read due CDS access control, <span class="qtext">sy-subrc</span> is set to 4 as usual. When a CDS view is accessed using the CDS database view, no implicit access control takes place.
<br><br></li>
<li>
By default, <a href="javascript:call_link('abendata_aging_glosry.html')" class="grey" title="Glossary Entry">data aging</a> is respected when an
<a href="javascript:call_link('abenhana_database_glosry.html')" class="grey" title="Glossary Entry">SAP HANA database</a> is accessed and only current data is read. This default setting can be changed using various methods. <br><br>
<br></li>
</ul>
<p><span class="h4">
Example
</span></p>
<P>
Gets the data of the <a href="javascript:call_link('abencds_view_glosry.html')" class="grey" title="Glossary Entry">CDS view</a> DEMO_CDS_SCARR_SPFLI.
</P>
<p class="qtextml1">
<span class="qtext">
SELECT * <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FROM demo_cds_scarr_spfli <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ORDER BY id, carrier, flight, departure, destination <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; INTO TABLE @DATA(result). <br><br>
</span>
</p>
<p><span class="h3">
<A NAME="!ABAP_ADDITION_1@1@"></A> <span class="bold">Addition 1</span>
</span></p>
<P>
<span class="qtext">... sql_path</span>   <br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<P>
Specifies a path expression <a href="javascript:call_link('abenopen_sql_path.html')" class="blue"><span class="qtext">sql_path</span></a> after a CDS entity. In this case, the entity must be a
<a href="javascript:call_link('abencds_view_glosry.html')" class="grey" title="Glossary Entry">CDS view</a> or
<a href="javascript:call_link('abencds_hierarchy_glosry.html')" class="grey" title="Glossary Entry">CDS hierarchy</a> that publishes the first
<a href="javascript:call_link('abencds_association_glosry.html')" class="grey" title="Glossary Entry">CDS
association</a> of the path expression in its <a href="javascript:call_link('abencds_f1_select_list.html')" class="blue"><span class="qtext400">SELECT</span> list</a> or
<a href="javascript:call_link('abencds_f1_hiera_element_list.html')" class="blue">element list</a>. A CDS view must be specified
using its name <span class="qtext400">cds_entity</span> defined after <a href="javascript:call_link('abencds_f1_define_view.html')" class="blue"><span class="qtext400">DEFINE VIEW</span></a>. All
<a href="javascript:call_link('abencds_association_glosry.html')" class="grey" title="Glossary Entry">CDS associations</a> of the path expression must be
<a href="javascript:call_link('abencds_f1_select_list_association.html')" class="blue">published</a> in the <a href="javascript:call_link('abencds_f1_select_list.html')" class="blue">
<span class="qtext400">SELECT</span> lists</a> of the CDS entities in question for use from outside.
</P>
<P>
The target data source of the last CDS association of the path expression is the data source of the
current <span class="qtext">SELECT</span> statement. The data is read in accordance with the join conditions of the CDS associations and the other conditions of the CDS views in question.
</P>
<P>
The path expression publishes only the elements of its target data source in the <span class="qtext">SELECT</span> statement. If an element of this type is used as a
<a href="javascript:call_link('abenopen_sql_columns.html')" class="blue">column specified</a> in other clauses of the <span class="qtext">SELECT</span>
statement and the column is assigned to the data source using the column selector <span class="qtext">~</span>,
an alias name must be defined and used here using <a href="javascript:call_link('abapfrom_clause.html')" class="blue"><span class="qtext">AS</span></a>.
A path expression in the data source of the <span class="qtext">FROM</span> clause must have an alias name defined with <a href="javascript:call_link('abapfrom_clause.html')" class="blue"><span class="qtext">AS</span></a>. This is checked in
<a href="javascript:call_link('abenopensql_strict_mode_752.html')" class="blue">strict mode as of release 7.52</a>.
</P>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>
A CDS entity <span class="qtext">cds_entity</span> with a path expression can be used in <a href="javascript:call_link('abapselect_join.html')" class="blue">join expressions</a>, like any other data source.
<br><br></li>
<li>
In the <span class="qtext">SELECT</span> statement, it is not possible to access elements of the entities
of the path expression that are in front of the target data source. This applies more specifically to
the elements of the specified entity <span class="qtext">cds_entity</span>. Regular access to these elements is possible only if they are specified again as data sources of explicit join expressions in the statement.
<br><br></li>
<li>
The obsolete addition <a href="javascript:call_link('abapselect_client_obsolete.html')" class="blue"><span class="qtext">CLIENT SPECIFIED</span></a> cannot be used if a data source is specified using a path expression.
<br><br></li>
<li>
As the path expression is specified directly after <span class="qtext">cds_entity</span>, <a href="javascript:call_link('abenopen_sql_path.html')" class="blue"><span class="qtext">source</span></a> cannot and must not be specified here.
<br><br></li>
<li>
A path expression cannot contain CDS associations of an <a href="javascript:call_link('abenabstract_entity_glosry.html')" class="grey" title="Glossary Entry">abstract CDS entity</a>.
<br></li>
</ul>
<p><span class="h4">
Example
</span></p>
<p>
Accesses the CDS view DEMO_CDS_ASSOC_SAIRPORT_TZ with parameter passing and a path expression with the
CDS associations <span class="qtext400">\_spfli</span> and <span class="qtext400">\_scarr</span> in the <span class="qtext">FROM</span> clause.
</p>
<p class="qtextml1">
<span class="qtext">
SELECT FROM demo_cds_assoc_sairport_tz( tz = 'UTC+1' ) <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\_spfli <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\_scarr[ currcode = 'EUR' ] <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AS scarr <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FIELDS carrname <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ORDER BY carrname <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; INTO TABLE @DATA(result).
</span>
</p>
<p><span class="h4">
Executable Example
</span></p>
<p>
<a href="javascript:call_link('abenpath_expr_in_from_clause_abexa.html')" class="blue">Path Expressions, Use in the <span class="qtext">FROM</span> Clause</a> <br><br>
</p>
<p><span class="h3">
<A NAME="!ABAP_ADDITION_2@2@"></A> <span class="bold">Addition 2</span>
</span></p>
<P>
<span class="qtext">... WITH PRIVILEGED ACCESS</span>   <br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<P>
The addition <span class="qtext">WITH PRIVILEGED ACCESS</span> switches <a href="javascript:call_link('abencds_access_control_glosry.html')" class="grey" title="Glossary Entry">CDS access control</a> off.
</P>
<P>
When a <a href="javascript:call_link('abencds_entity_glosry.html')" class="grey" title="Glossary Entry">CDS entity</a> is accessed that is associated with a
<a href="javascript:call_link('abencds_role_glosry.html')" class="grey" title="Glossary Entry">CDS role</a>, its <a href="javascript:call_link('abenaccess_condition_glosry.html')" class="grey" title="Glossary Entry">access conditions</a> are not evaluated.
</P>
<P>
The addition <span class="qtext">WITH PRIVILEGED ACCESS</span> cannot be used together with a path expression
<span class="qtext">sql_path</span>. It is applied only to that CDS entity for which it is specified. It is not applied to the CDS entities
<a href="javascript:call_link('abencds_f1_select_list_association.html')" class="blue">published</a> using CDS associations of the specified CDS entity.
</P>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>
The addition <span class="qtext">WITH PRIVILEGED ACCESS</span> overrides all delivered and self-defined roles.
<br><br></li>
<li>
CDS access control can also be switched off using the annotation <a href="javascript:call_link('abencds_f1_view_entity_annotations.html')" class="blue"><span
 class="qtext400">@AccessControl.authorizationCheck:#NOT_ALLOWED</span></a> when a non-abstract CDS entity is defined.
<br><br></li>
<li>
In <a href="javascript:call_link('abenauthority_during_update.html')" class="blue">updates</a>, the addition <span class="qtext">WITH
PRIVILEGED ACCESS</span> must be specified when accessing all CDS entities for which CDS access control is not disabled using the annotation <span class="qtext400">@AccessControl.authorizationCheck:#NOT_ALLOWED</span>.
<br><br></li>
<li>
If the addition <span class="qtext">WITH PRIVILEGED ACCESS</span> is specified, the syntax check is made in <a href="javascript:call_link('abenopensql_strict_mode_752.html')" class="blue">strict mode from Release 7.52</a>.
<br></li>
</ul>
<p><span class="h4">
Example
</span></p>
<P>
Uses the addition <span class="qtext">WITH PRIVILEGED ACCESS</span> when the CDS view DEMO_CDS_AUTH_LITERAL is accessed, which is associated with the following CDS role:
</P>
<dl><dd>
<span class="qtext400">@MappingRole: true <br>define role demo_cds_role_literal { <br>&nbsp;&nbsp;grant select on demo_cds_auth_literal <br>&nbsp;&nbsp;where carrid = 'LH'; }</span>
</dd></dl>
<P>
Unlike the program <span class="lnkgrey">DEMO_CDS_AUTH_LITERAL</span>, the following read reads all data of the view.
</P>
<p class="qtextml1">
<span class="qtext">
SELECT * <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FROM demo_cds_auth_literal WITH PRIVILEGED ACCESS <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ORDER BY carrid <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; INTO TABLE @DATA(result). <br> <br>cl_demo_output=>display( result ). <br><br>
</span>
</p>
<p><span class="h2">
<A NAME="!ABAP_ALTERNATIVE_3@3@"></A> <span class="bold">Alternative 3</span>
</span></p>
<P>
<span class="qtext">... +cte<i class=bn>[</i>sql_path<i class=bn>]</i></span> <br><br><br><!-- /A -->
</P>
<p><span class="h3">
Addition:
</span></p>
<P>
   <A HREF="#!ABAP_ONE_ADD@2@" class="blue"> <span class="qtext">... sql_path</span> </A> <br><br>
</P>
<p><span class="h4">
Effect
</span></p>
<P>
Specifies a <a href="javascript:call_link('abencommon_table_expression_glosry.html')" class="grey" title="Glossary Entry">common table expression</a> <span class="qtext">cte</span> in a subquery or the closing
<a href="javascript:call_link('abenmainquery_glosry.html')" class="grey" title="Glossary Entry">main query</a> of a <a href="javascript:call_link('abapwith.html')" class="blue"><span class="qtext">WITH</span></a> statement.
</P>
<P>
The <span class="qtext">SELECT</span> statement accesses the results set of the common table expression.
All common table expressions can be used that were defined in the same <span class="qtext">WITH</span> statement in front of the current <span class="qtext">SELECT</span> statement.
</P>
<p><span class="h4">
Note
</span></p>
<P>
If a common table expression is used as the data source, a temporary database table is accessed, which is available during the <span class="qtext">WITH</span> statement.
</P>
<p><span class="h4">
Example
</span></p>
<p>
Accesses the results set of the common table expression <span class="qtext">+carriers</span> in a join
expression of the <span class="qtext">FROM</span> clause of the main query of the statement <a href="javascript:call_link('abapwith.html')" class="blue"><span class="qtext">WITH</span></a>.
</p>
<p class="qtextml1">
<span class="qtext">
WITH +carriers AS ( <br>&nbsp;&nbsp;SELECT carrid, carrname <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FROM scarr ) <br>
&nbsp;&nbsp;SELECT FROM +carriers <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; INNER JOIN spfli <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ON +carriers~carrid = spfli~carrid <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FIELDS +carriers~carrname, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;spfli~connid, <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;spfli~cityfrom, <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;spfli~cityto <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; WHERE spfli~carrid = 'LH' <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; INTO TABLE @DATA(result). <br><br>
</span>
</p>
<p><span class="h3">
<A NAME="!ABAP_ONE_ADD@2@"></A> <span class="bold">Addition</span>
</span></p>
<P>
<span class="qtext">... sql_path</span> <!-- /A -->  <br>
</P>
<p><span class="h4">
Effect
</span></p>
<P>
Specifies a path expression <a href="javascript:call_link('abenopen_sql_path.html')" class="blue"><span class="qtext">sql_path</span></a> after a
<a href="javascript:call_link('abencommon_table_expression_glosry.html')" class="grey" title="Glossary Entry">common table expression</a>
<span class="qtext">+cte</span> that is specified as the data source of a query in a <a href="javascript:call_link('abapwith.html')" class="blue">
<span class="qtext">WITH</span></a> statement. The common table expression must publish the first association
of the path expression with the addition <a href="javascript:call_link('abapwith_associations.html')" class="blue"><span class="qtext">WITH ASSOCIATIONS</span></a>. The association can be a
<a href="javascript:call_link('abencds_association_glosry.html')" class="grey" title="Glossary Entry">CDS association</a> or a <a href="javascript:call_link('abencte_association_glosry.html')" class="grey" title="Glossary Entry">CTE association</a>.
</P>
<P>
The same rules apply as when specifying a path expression after a CDS entity <span class="qtext">cds_entity</span>
that is specified as a data source. In particular, the path expression must have an alias name defined with <a href="javascript:call_link('abapfrom_clause.html')" class="blue"><span class="qtext">AS</span></a>.
</P>
<p><span class="h4">
Example
</span></p>
<P>
The target data source of the path expression <span class="qtext">\_scarr</span> published by the common table expression <span class="qtext">+cte</span> is used as the data source of the
<a href="javascript:call_link('abenmainquery_glosry.html')" class="grey" title="Glossary Entry">main query</a> of a <a href="javascript:call_link('abapwith.html')" class="blue"><span class="qtext">WITH</span></a> statement.
</P>
<p class="qtextml1">
<span class="qtext">
WITH <br>&nbsp;&nbsp;+cte AS ( SELECT * <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FROM demo_cds_assoc_spfli_scarr ) <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; WITH ASSOCIATIONS ( \_scarr ) <br>
&nbsp;&nbsp;SELECT carrid, carrname <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FROM +cte\_scarr AS scarr <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; INTO TABLE @DATA(result). <br><br>
</span>
</p>
<p><span class="h2">
<A NAME="!ABAP_ALTERNATIVE_4@4@"></A> <span class="bold">Alternative 4</span>
</span></p>
<P>
<span class="qtext">... hierarchy_data</span> <br><br><br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<P>
Specifies the following <a href="javascript:call_link('abenselect_hierarchy_data.html')" class="blue">hierarchy data</a>:
</P>
<ul class="disc">
<li>
A <a href="javascript:call_link('abenhierarchy_glosry.html')" class="grey" title="Glossary Entry">hierarchy</a> <a href="javascript:call_link('abenselect_hierarchy.html')" class="blue"><span class="qtext">hierarchy</span></a>
<br><br></li>
<li>
A <a href="javascript:call_link('abenhierarchy_navigator_glosry.html')" class="grey" title="Glossary Entry">hierarchy navigator</a>
<a href="javascript:call_link('abenselect_hierarchy_data.html')" class="blue"><span class="qtext">hierarchy_navigator</span></a> that accesses a hierarchy.
<br></li>
</ul>
<p><span class="h4">
Example
</span></p>
<p>
Accesses a hierarchy as a data source created by the hierarchy generator <a href="javascript:call_link('abenselect_hierarchy_generator.html')" class="blue"><span class="qtext">HIERARCHY</span></a>.
</p>
<p class="qtextml1">
<span class="qtext">
SELECT hierarchy~*, hierarchy_level <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FROM HIERARCHY( SOURCE demo_cds_parent_child_source <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CHILD TO PARENT ASSOCIATION _relat <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; START WHERE id = 'A' <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MULTIPLE PARENTS ALLOWED ) AS hierarchy <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; INTO TABLE @DATA(result). <br><br>
</span>
</p>
<p><span class="h2">
<A NAME="!ABAP_ALTERNATIVE_5@5@"></A> <span class="bold">Alternative 5</span>
</span></p>
<P>
<span class="qtext">... @itab</span> <br><br><br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<P>
Specifies an internal table <a href="javascript:call_link('abapselect_itab.html')" class="blue"><span class="qtext">@itab</span></a> as a
<a href="javascript:call_link('abenopen_sql_host_variables.html')" class="blue">host variable</a>, whose name <span class="qtext">itab</span>
must be prefixed with the <span class="qtext">@</span> character. More information can be found under <a href="javascript:call_link('abapselect_itab.html')" class="blue"><span class="qtext">SELECT - FROM @itab</span></a>.
</P>
<p><span class="h4">
Example
</span></p>
<p>
Uses <span class="qtext">SELECT</span> to access an internal table using as an alternative to the statement
<a href="javascript:call_link('abapread_table.html')" class="blue"><span class="qtext">READ TABLE</span></a>. Unlike <span class="qtext">READ
TABLE</span>, the statement <span class="qtext">SELECT</span> offers a (dynamic) <span class="qtext">WHERE</span> condition and evaluates the field list for the
<a href="javascript:call_link('abeninline_declaration_glosry.html')" class="grey" title="Glossary Entry">inline declaration</a>. The statement is executed on the AS ABAP and the data in the internal table is not transported to the database.
</p>
<p class="qtextml1">
<span class="qtext">
DATA itab TYPE TABLE OF scarr WITH EMPTY KEY. <br> <br>... <br> <br>DATA cond TYPE string. <br> <br>... <br>
 <br>SELECT SINGLE <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FROM @itab AS carriers <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FIELDS carrid, carrname <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; WHERE (cond) <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; INTO @DATA(wa). <br><br>
</span>
</p>
<br>
<br>
<!-- POSTFIX --><span class="h4">Continue</span><br>
<a href="javascript:call_link('abenselect_hierarchy_data.html')" class="blue">SELECT - FROM hierarchy_data</a><br>
<a href="javascript:call_link('abapselect_itab.html')" class="blue">SELECT - FROM @itab</a><br>
<br>
<br>
</DIV>
<fieldset style="opacity:0">
<input id="url" type="text" />
</fieldset>
</BODY>

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abapselect_data_source.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:52:09 GMT -->
</html>

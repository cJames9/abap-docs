<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="EN">
<!-- ABENCDS_F1_SEARCHED_CASE_EXPR -->

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abencds_f1_searched_case_expr.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:51:38 GMT -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="author" content="SAP">
<meta name="description" content="ABAP CDS - searched_case_expr">
<title>
ABAP CDS - searched_case_expr - ABAP Keyword Documentation
</title>
<link rel="icon" href="ABAPIcon.ico" type="image/ico">
<link rel="shortcut icon" href="ABAPIcon.ico">
<LINK rel="stylesheet" href="abap_docu.css" type="text/css">
<script language="javascript" type="text/javascript" src="functions.js"></script>
<script type="text/JavaScript">
function urlToClipboard(id){
 try{ var loc = top.location.href;}
 catch(e){ alert( "URL cannnot be determined" ); return; }
 var field = document.getElementById(id);
 field.focus();
 if ( loc.search( ".htm" ) == -1 && loc.search( ".HTM" ) == -1  ){ loc = loc + "index.htm"; }
 if (   loc.search( "index.html" ) != -1
     || loc.search( "INDEX-2.html" ) != -1 ){
   var off = loc.search( "file=" );
   if ( off == -1  ){
     field.value = loc + "?file=abencds_f1_searched_case_expr.htm"; }
   else {
     field.value = loc.substring( 0, off ) + "file=abencds_f1_searched_case_expr.htm";
   }
 }
 else {
    field.value = loc; }
 field.setSelectionRange(0, field.value.length);
 var r = confirm( "Copy URL to clipboard?\n\n" + field.value + "\n\nCopy to clipboard does not work in all browsers." );
 if (r == true) {
   try{
     document.execCommand("copy");
   }
     catch(e){ alert( "URL could not be copied to clipboard" ); }
 }
 window.scrollTo(0,0);
}
</script>
</head>
<body>
<div class="all">
<div style="float:right;">
<input type="button" value="URL"
style="font-size:10px; width:30px; height:18px; padding:0; "
onclick="urlToClipboard('url')" title="Copy URL to Clipboard" ></div>
<p>
<input name="query" id="query" value="" type="text" title="Suchbegriff" size="30" maxlength="30" onkeyup="getInput()">&nbsp;
<input type="button" value="Search"
style="font-size:12px; width:50px; height:18px; padding:0"
onclick="call_search('search.html')" title="Search in ABAP Keyword Documentation" >
<hr style="width:100%;height:1px"></p>
<p class="copyright">AS ABAP Release 754, &copy;Copyright 2019 SAP SE. All rights reserved.</p>
<span class="path">
<a href="javascript:call_link('abenabap.html')" class="blue">ABAP Keyword Documentation</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_dictionary.html')" class="blue">ABAP - Dictionary</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abencds.html')" class="blue">ABAP CDS in ABAP Dictionary</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenddic_cds_entities.html')" class="blue">ABAP CDS - Data Definitions</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abencds_f1_ddl_syntax.html')" class="blue">ABAP CDS - DDL for Data Definitions</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abencds_f1_define_view.html')" class="blue">ABAP CDS - DEFINE VIEW</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abencds_f1_select_statement.html')" class="blue">ABAP CDS - SELECT</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abencds_operands_and_expressions.html')" class="blue">ABAP CDS - SELECT, Operands and Expressions</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abencds_f1_case_expression.html')" class="blue">ABAP CDS - case_expr</a>&nbsp;&rarr;&nbsp;
</span>
<A NAME="@@CASE WHEN@@!ABAP_CDS_EXPRESSION!@@"></A>
<p><span class="h1">
ABAP CDS - searched_case_expr
</span></p>
<A name="@@ITOC@@ABENCDS_F1_SEARCHED_CASE_EXPR_1"></A>
<p><span class="h2">
Syntax
</span></p>
<p>
<span class="qtext400">... CASE WHEN <a href="javascript:call_link('abencds_f1_conditional_expression.html')" class="blue">cond_expr1</a> THEN result1 <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<i class=bn>[</i>WHEN <a href="javascript:call_link('abencds_f1_conditional_expression.html')" class="blue">cond_expr2</a> THEN result2<i class=bn>]</i> <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<i class=bn>[</i>WHEN <a href="javascript:call_link('abencds_f1_conditional_expression.html')" class="blue">cond_expr3</a> THEN result3<i class=bn>]</i> <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;... <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<i class=bn>[</i>ELSE resultn<i class=bn>]</i> <br>&nbsp;&nbsp;&nbsp;&nbsp;END ...</span>
</p>
<p><span class="h4">
Effect
</span></p>
<p>
Complex <a href="javascript:call_link('abencds_f1_case_expression.html')" class="blue">case distinction</a>
(searched case) in a <a href="javascript:call_link('abencds_f1_select_statement.html')" class="blue"><span class="qtext400">SELECT</span> statement</a> of a
<a href="javascript:call_link('abencds_view_glosry.html')" class="grey" title="Glossary Entry">CDS view</a>. The case distinction
evaluates the conditions <a href="javascript:call_link('abencds_f1_conditional_expression.html')" class="blue"><span class="qtext400">cond_expr1</span></a>,
<a href="javascript:call_link('abencds_f1_conditional_expression.html')" class="blue"><span class="qtext400">cond_expr2</span></a>,
... and returns the operand <span class="qtext">result</span> as the result after the first <span class="qtext">THEN</span>
for which the condition is true. If none of the conditions are true, the <span class="qtext">result</span> specified after <span class="qtext">ELSE</span> is selected. If <span class="qtext">ELSE</span> is not specified, the result is the
<a href="javascript:call_link('abennull_value_glosry.html')" class="grey" title="Glossary Entry">zero value</a>. Special
<a href="javascript:call_link('abencds_cond_expr_case.html')" class="blue">rules</a> apply when specifying the conditions. The same applies for <span class="qtext400">result1</span>, <span class="qtext400">result2</span>, ... as for
<a href="javascript:call_link('abencds_f1_simple_case_expression.html')" class="blue">simple case distinction</a>.
</p>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>The SQL standard dictates the result of a case distinction, but not the order in which the operands
are evaluated. Potentially, the result may even be evaluated before the associated condition. This means that any expressions specified as operands must have no side effects and must not be dependent on each other.</li>
</ul>
<ul class="disc">
<li>On the <a href="javascript:call_link('abenhana_database_glosry.html')" class="grey" title="Glossary Entry">SAP HANA database</a>,
operands are evaluated in parallel for reasons of optimization. The order in which the operands are
evaluated is undefined. If an exception is raised when am operand is evaluated, the entire case distinction
is canceled. Here, it does not matter which conditions apply and the order in which they are noted. From this reason, it is advisable not to use any exceptions in expressions specified as operands. More information can be found in the
<a href="https://help.sap.com/viewer/4fe29514fd584807ac9f2a04f6754767/2.0.03/en-US" target="blank" class="blue">HANA-specific SQL</a> documentation.</li>
</ul>
<p><span class="h4">
Example
</span></p>
<p>
The following CDS view has a complex case distinction in the <span class="qtext400">SELECT</span> list.
</p>
<dl><dd>
<span class="qtext400">@AbapCatalog.sqlViewName: 'DEMO_CDS_SCASE' <br>@AccessControl.authorizationCheck: #NOT_REQUIRED <br>
define view demo_cds_searched_case <br> as select from <br> spfli <br> { <br> key carrid, <br> key connid, <br>
 distance, <br> distid, <br> case <br> when distance &gt;= 2000 then 'long-haul flight' <br> when distance &gt;= 1000 and <br>
 distance &lt; 2000 then 'medium-haul flight' <br> when distance &lt; 1000 then 'short-haul flight' <br> else 'error' <br> end as flight_type <br> } <br> where <br> distid = 'MI'&nbsp;&nbsp;&nbsp;&nbsp;</span>
</dd></dl>
<p>
The program <span class="lnkgrey">DEMO_CDS_SEARCHED_CASE</span> uses <a href="javascript:call_link('abapselect.html')" class="blue"><span class="qtext">SELECT</span></a> to access the view and shows the result.
</p>
<br>
<br>
<br>
<br>
</DIV>
<fieldset style="opacity:0">
<input id="url" type="text" />
</fieldset>
</BODY>

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abencds_f1_searched_case_expr.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:51:38 GMT -->
</html>

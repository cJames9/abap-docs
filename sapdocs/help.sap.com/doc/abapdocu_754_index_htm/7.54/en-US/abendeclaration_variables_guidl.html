<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="EN">
<!-- ABENDECLARATION_VARIABLES_GUIDL -->

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abendeclaration_variables_guidl.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:53:06 GMT -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="author" content="SAP">
<meta name="description" content="Declaration of Variables">
<title>
Declaration of Variables - ABAP Keyword Documentation
</title>
<link rel="icon" href="ABAPIcon.ico" type="image/ico">
<link rel="shortcut icon" href="ABAPIcon.ico">
<LINK rel="stylesheet" href="abap_docu.css" type="text/css">
<script language="javascript" type="text/javascript" src="functions.js"></script>
<script type="text/JavaScript">
function urlToClipboard(id){
 try{ var loc = top.location.href;}
 catch(e){ alert( "URL cannnot be determined" ); return; }
 var field = document.getElementById(id);
 field.focus();
 if ( loc.search( ".htm" ) == -1 && loc.search( ".HTM" ) == -1  ){ loc = loc + "index.htm"; }
 if (   loc.search( "index.html" ) != -1
     || loc.search( "INDEX-2.html" ) != -1 ){
   var off = loc.search( "file=" );
   if ( off == -1  ){
     field.value = loc + "?file=abendeclaration_variables_guidl.htm"; }
   else {
     field.value = loc.substring( 0, off ) + "file=abendeclaration_variables_guidl.htm";
   }
 }
 else {
    field.value = loc; }
 field.setSelectionRange(0, field.value.length);
 var r = confirm( "Copy URL to clipboard?\n\n" + field.value + "\n\nCopy to clipboard does not work in all browsers." );
 if (r == true) {
   try{
     document.execCommand("copy");
   }
     catch(e){ alert( "URL could not be copied to clipboard" ); }
 }
 window.scrollTo(0,0);
}
</script>
</head>
<body>
<div class="all">
<div style="float:right;">
<input type="button" value="URL"
style="font-size:10px; width:30px; height:18px; padding:0; "
onclick="urlToClipboard('url')" title="Copy URL to Clipboard" ></div>
<p>
<input name="query" id="query" value="" type="text" title="Suchbegriff" size="30" maxlength="30" onkeyup="getInput()">&nbsp;
<input type="button" value="Search"
style="font-size:12px; width:50px; height:18px; padding:0"
onclick="call_search('search.html')" title="Search in ABAP Keyword Documentation" >
<hr style="width:100%;height:1px"></p>
<p class="copyright">AS ABAP Release 754, &copy;Copyright 2019 SAP SE. All rights reserved.</p>
<span class="path">
<a href="javascript:call_link('abenabap.html')" class="blue">ABAP Keyword Documentation</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_pgl.html')" class="blue">ABAP Programming Guidelines</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenrobust_abap_guidl.html')" class="blue">Robust ABAP</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abendata_type_obj_guidl.html')" class="blue">Data Types and Data Objects</a>&nbsp;&rarr;&nbsp;
</span>
<p><span class="h1">
Declaration of Variables
</span></p>
<A name="@@ITOC@@ABENDECLARATION_VARIABLES_GUIDL_1"></A>
<p><span class="h2">
Background
</span></p>
<p>
Variables can be declared in the following contexts:
</p>
<ul class="disc">
<li>As attributes of global classes and interfaces across programs</li>
</ul>
<ul class="disc">
<li>Locally in the program</li>
</ul>
<ul class="circlem2">
<li>in the global declaration part of a program</li>
</ul>
<ul class="circlem2">
<li>as attributes of local classes and interfaces</li>
</ul>
<ul class="circlem2">
<li>in procedures (<a href="javascript:call_link('abenfunct_module_subroutine_guidl.html')" class="lnkpurple" title="Guideline">Methods</a>)</li>
</ul>
<p>
Variables that are declared within most of the event blocks or dialog modules as well as between completed processing blocks also belong to the global declaration part of a program, but violate the rule
<a href="javascript:call_link('abenglobal_declar_guidl.html')" class="lnkpurple" title="Guideline">implement global declarations centrally</a>.
</p>
<p>
Program-local variables that are declared in the global declaration part of a program are generally referred to as <span class="italic">global variables</span>.
</p>
<A name="@@ITOC@@ABENDECLARATION_VARIABLES_GUIDL_2"></A>
<p><span class="h2">
Rule
</span></p>
<p>
<span class="bold">Do not declare global variables</span>
</p>
<p>
Do not declare variables in the global declaration part of a program. Variables may only be declared as attributes of classes and interfaces or locally in methods.
</p>
<A name="@@ITOC@@ABENDECLARATION_VARIABLES_GUIDL_3"></A>
<p><span class="h2">
Details
</span></p>
<p>
This rule is directly derived from the basic rule <a href="javascript:call_link('abenabap_obj_progr_model_guidl.html')" class="lnkpurple" title="Guideline">use ABAP objects</a>. If you disregard helper variables in procedures
(<a href="javascript:call_link('abenfunct_module_subroutine_guidl.html')" class="lnkpurple" title="Guideline">methods</a>), the
content of the variable of a program indicates the state of the program and consequently the state of
an application. In object-oriented programming, the class replaces the program, and the state of an application is no longer the state of the programs but the state of the classes or objects.
</p>
<p>
Furthermore, the rule <a href="javascript:call_link('abenencapsulation_guidl.html')" class="lnkpurple" title="Guideline">exploit
the benefits of encapsulation</a> also assumes a critical role. The data of an application is sufficiently protected from misuse only in the visibility sections of classes.
</p>
<p>
Except for the following exception, you should not declare any global variables in a new ABAP program.
They indicate a poor programming style that disregards proven concepts such as task sharing and encapsulation.
If you need to access the same data of a program from multiple local classes and interfaces, you must
create them in an appropriate visibility section of a local class or an interface. These can also be local classes or interfaces that contain nothing but such attributes.
</p>
<p><span class="h4">
Note
</span></p>
<p>
The above rule also applies to the declaration of <a href="javascript:call_link('abendyn_access_data_obj_guidl.html')" class="lnkpurple" title="Guideline">field symbols</a> with the <span class="qtext">FIELD-SYMBOLS</span> statement.
</p>
<p><span class="h4">
Exception
</span></p>
<p>
If classic dynpros and selections screens are still used instead of
<a href="javascript:call_link('abeninterface_tech_guidl.html')" class="lnkpurple" title="Guideline">SAPUI5</a> or
<a href="javascript:call_link('abeninterface_tech_guidl.html')" class="lnkpurple" title="Guideline">Web Dynpro ABAP</a>, global
variables are required as interfaces for the communication between ABAP and classic dynpros. Global variables can be declared using the following statements for this purpose alone:
</p>
<ul class="disc">
<li><span class="qtext">DATA</span>, <a href="javascript:call_link('abentable_work_area_guidl.html')" class="lnkpurple" title="Guideline"><span class="qtext">TABLES</span></a> and <span class="qtext">CONTROLS</span> for general dynpros</li>
</ul>
<ul class="disc">
<li><span class="qtext">PARAMETERS</span> and <span class="qtext">SELECT-OPTIONS</span> for selection screens</li>
</ul>
<p>
In these cases, you have to ensure the maximum possible <a href="javascript:call_link('abenencap_class_interf_guidl.html')" class="lnkpurple" title="Guideline">encapsulation</a> of those global variables.
</p>
<p><span class="h4">
Bad Example
</span></p>
<p>
The following source code shows the top include of a function group for document display. In addition
to the required interface work area, which is declared with <span class="qtext">TABLES</span>, further
global variables exist that indicate the state of the display. However, according to the above rule, you are not allowed to use global variables for purposes other than communication with a classic dynpro.
</p>
<dl><dd>
<span class="qtext">FUNCTION-POOL show_documents. <br>TABLES document_structure. <br>DATA: g_language TYPE sy-langu, <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g_display_mode TYPE ... <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;... <br>CLASS screen_handler DEFINITION. <br>&nbsp;&nbsp;PUBLIC SECTION. <br>&nbsp;&nbsp;&nbsp;&nbsp;...</span>
</dd></dl>
<p><span class="h4">
Good Example
</span></p>
<p>
The following source code shows an improved example. The previously global variables are encapsulated
in a class that is specifically provided for the state of the display, and can be addressed using <span class="qtext">display_status=></span> in the other classes of the program.
</p>
<dl><dd>
<span class="qtext">FUNCTION-POOL show_documents. <br>TABLES document_structure. <br>CLASS display_status DEFINITION. <br>
&nbsp;&nbsp;PUBLIC SECTION. <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CLASS-DATA: language TYPE sy-langu, <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;display_mode TYPE ... <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;... <br>
ENDCLASS. <br>CLASS screen_handler DEFINITION. <br>&nbsp;&nbsp;PUBLIC SECTION. <br>&nbsp;&nbsp;...</span>
</dd></dl>
<br>
<br>
<br>
<br>
</DIV>
<fieldset style="opacity:0">
<input id="url" type="text" />
</fieldset>
</BODY>

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abendeclaration_variables_guidl.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:53:06 GMT -->
</html>

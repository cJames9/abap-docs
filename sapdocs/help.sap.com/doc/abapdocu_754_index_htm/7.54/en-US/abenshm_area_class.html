<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="EN">
<!-- ABENSHM_AREA_CLASS -->

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abenshm_area_class.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:52:45 GMT -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="author" content="SAP">
<meta name="description" content="Shared Objects - Area Classes">
<title>
Shared Objects - Area Classes - ABAP Keyword Documentation
</title>
<link rel="icon" href="ABAPIcon.ico" type="image/ico">
<link rel="shortcut icon" href="ABAPIcon.ico">
<LINK rel="stylesheet" href="abap_docu.css" type="text/css">
<script language="javascript" type="text/javascript" src="functions.js"></script>
<script type="text/JavaScript">
function urlToClipboard(id){
 try{ var loc = top.location.href;}
 catch(e){ alert( "URL cannnot be determined" ); return; }
 var field = document.getElementById(id);
 field.focus();
 if ( loc.search( ".htm" ) == -1 && loc.search( ".HTM" ) == -1  ){ loc = loc + "index.htm"; }
 if (   loc.search( "index.html" ) != -1
     || loc.search( "INDEX-2.html" ) != -1 ){
   var off = loc.search( "file=" );
   if ( off == -1  ){
     field.value = loc + "?file=abenshm_area_class.htm"; }
   else {
     field.value = loc.substring( 0, off ) + "file=abenshm_area_class.htm";
   }
 }
 else {
    field.value = loc; }
 field.setSelectionRange(0, field.value.length);
 var r = confirm( "Copy URL to clipboard?\n\n" + field.value + "\n\nCopy to clipboard does not work in all browsers." );
 if (r == true) {
   try{
     document.execCommand("copy");
   }
     catch(e){ alert( "URL could not be copied to clipboard" ); }
 }
 window.scrollTo(0,0);
}
</script>
</head>
<body>
<div class="all">
<div style="float:right;">
<input type="button" value="URL"
style="font-size:10px; width:30px; height:18px; padding:0; "
onclick="urlToClipboard('url')" title="Copy URL to Clipboard" ></div>
<p>
<input name="query" id="query" value="" type="text" title="Suchbegriff" size="30" maxlength="30" onkeyup="getInput()">&nbsp;
<input type="button" value="Search"
style="font-size:12px; width:50px; height:18px; padding:0"
onclick="call_search('search.html')" title="Search in ABAP Keyword Documentation" >
<hr style="width:100%;height:1px"></p>
<p class="copyright">AS ABAP Release 754, &copy;Copyright 2019 SAP SE. All rights reserved.</p>
<span class="path">
<a href="javascript:call_link('abenabap.html')" class="blue">ABAP Keyword Documentation</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_reference.html')" class="blue">ABAP &#x2212; Reference</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abencreate_objects.html')" class="blue">Creating Objects and Values</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_shared_objects.html')" class="blue">Shared Objects</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenshm_classes.html')" class="blue">Shared Objects - Classes and Interfaces</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenshm_cl_abap_memory_area.html')" class="blue">Shared Objects - CL_ABAP_MEMORY_AREA</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenshm_cl_shm_area.html')" class="blue">Shared Objects - CL_SHM_AREA</a>&nbsp;&rarr;&nbsp;
</span>
<p><span class="h1">
Shared Objects - Area Classes
</span></p>
<p>
An area class is generated as a subclass of class
<a href="javascript:call_link('abenshm_cl_shm_area.html')" class="blue">CL_SHM_AREA</a> when an area is created using transaction <span class="lnkgrey">SHMA</span>. Its instances are used as
<a href="javascript:call_link('abenarea_handle_glosry.html')" class="grey" title="Glossary Entry">area handles</a> for the
<a href="javascript:call_link('abenarea_instance_version_glosry.html')" class="grey" title="Glossary Entry">area instance versions</a>
of this area. The name of an area class is the same as the name of the area, which should therefore start with CL_.
</p>
<p>
Area classes can be displayed in Class Builder, although they cannot be changed there. The structure
of an area class depends on the definition of the area in transaction SHMA. After the properties of an area have been changed, the area class is regenerated if necessary.
</p>
<ul class="disc">
<li><A HREF="#@@ITOC@@ABENSHM_AREA_CLASS_1" class="blue">Static Attributes</A></li>
</ul>
<ul class="circlem2">
<li><A HREF="#@@ITOC@@ABENSHM_AREA_CLASS_2" class="blue">AREA_NAME</A></li>
</ul>
<ul class="disc">
<li><A HREF="#@@ITOC@@ABENSHM_AREA_CLASS_3" class="blue">Instance Attributes</A></li>
</ul>
<ul class="circlem2">
<li><A HREF="#@@ITOC@@ABENSHM_AREA_CLASS_4" class="blue">ROOT</A></li>
</ul>
<ul class="disc">
<li><A HREF="#@@ITOC@@ABENSHM_AREA_CLASS_5" class="blue">Static Methods</A></li>
</ul>
<ul class="circlem2">
<li><A HREF="#@@ITOC@@ABENSHM_AREA_CLASS_6" class="blue">ATTACH_FOR_READ</A></li>
</ul>
<ul class="circlem2">
<li><A HREF="#@@ITOC@@ABENSHM_AREA_CLASS_7" class="blue">ATTACH_FOR_WRITE</A></li>
</ul>
<ul class="circlem2">
<li><A HREF="#@@ITOC@@ABENSHM_AREA_CLASS_8" class="blue">ATTACH_FOR_UPDATE</A></li>
</ul>
<ul class="circlem2">
<li><A HREF="#@@ITOC@@ABENSHM_AREA_CLASS_9" class="blue">DETACH_AREA</A></li>
</ul>
<ul class="circlem2">
<li><A HREF="#@@ITOC@@ABENSHM_AREA_CLASS_10" class="blue">INVALIDATE_INSTANCE</A></li>
</ul>
<ul class="circlem2">
<li><A HREF="#@@ITOC@@ABENSHM_AREA_CLASS_11" class="blue">INVALIDATE_AREA</A></li>
</ul>
<ul class="circlem2">
<li><A HREF="#@@ITOC@@ABENSHM_AREA_CLASS_12" class="blue">FREE_INSTANCE</A></li>
</ul>
<ul class="circlem2">
<li><A HREF="#@@ITOC@@ABENSHM_AREA_CLASS_13" class="blue">FREE_AREA</A></li>
</ul>
<ul class="circlem2">
<li><A HREF="#@@ITOC@@ABENSHM_AREA_CLASS_14" class="blue">GET_INSTANCE_INFOS</A></li>
</ul>
<ul class="circlem2">
<li><A HREF="#@@ITOC@@ABENSHM_AREA_CLASS_15" class="blue">BUILD</A></li>
</ul>
<ul class="circlem2">
<li><A HREF="#@@ITOC@@ABENSHM_AREA_CLASS_16" class="blue">PROPAGATE_INSTANCE (Obsolete)</A></li>
</ul>
<ul class="circlem2">
<li><A HREF="#@@ITOC@@ABENSHM_AREA_CLASS_17" class="blue">PROPAGATE_AREA (Obsolete)</A></li>
</ul>
<ul class="disc">
<li><A HREF="#@@ITOC@@ABENSHM_AREA_CLASS_18" class="blue">Instance Methods</A></li>
</ul>
<ul class="circlem2">
<li><A HREF="#@@ITOC@@ABENSHM_AREA_CLASS_19" class="blue">SET_ROOT</A></li>
</ul>
<p><span class="h4">
Note
</span></p>
<p>
If a component specified here is missing in an existing area class, the component may be a release-specific
enhancement. All components should be present once the class is generated again in transaction <span class="lnkgrey">SHMA</span>.
</p>
<A name="@@ITOC@@ABENSHM_AREA_CLASS_1"></A>
<p><span class="h2">
Static Attributes
</span></p>
<A name="@@ITOC@@ABENSHM_AREA_CLASS_2"></A>
<p><span class="h3">
AREA_NAME
</span></p>
<p>
Constant of the type SHM_AREA_NAME: Contains the name of the current class or area.
</p>
<A name="@@ITOC@@ABENSHM_AREA_CLASS_3"></A>
<p><span class="h2">
Instance Attributes
</span></p>
<A name="@@ITOC@@ABENSHM_AREA_CLASS_4"></A>
<p><span class="h3">
ROOT
</span></p>
<p>
Reference variable of the type <span class="qtext">REF TO area_root_class</span>, where <span class="qtext">area_root_class</span> is the
<a href="javascript:call_link('abenroot_data_class_glosry.html')" class="grey" title="Glossary Entry">area root class</a> of the area. This attribute has the READ-ONLY property and is used for direct reads of the
<a href="javascript:call_link('abenroot_object_glosry.html')" class="grey" title="Glossary Entry">root object</a> of an area
instance version. Access using the GET_ROOT method is necessary in exceptional cases only, such as when using generic programming.
</p>
<A name="@@ITOC@@ABENSHM_AREA_CLASS_5"></A>
<p><span class="h2">
Static Methods
</span></p>
<A name="@@ITOC@@ABENSHM_AREA_CLASS_6"></A>
<p><span class="h3">
ATTACH_FOR_READ
</span></p>
<p>
Creates an area handle with a shared lock for an area instance version and returns a reference to the area handle.
</p>
<p><span class="h4">
Input Parameters
</span></p>
<ul class="disc">
<li>INST_NAME of the type SHM_INST_NAME</li>
</ul>
<dl><dd>
Name of the area instance version. The name is optional. The default value is CL_SHM_AREA=>DEFAULT_INSTANCE.
</dd></dl>
<ul class="disc">
<li>CLIENT of the type SHM_CLIENT</li>
</ul>
<dl><dd>
Client ID if the area is client-specific. The client ID is optional. The default value is the ID of the current client.
</dd></dl>
<p><span class="h4">
Return Code
</span></p>
<ul class="disc">
<li>HANDLE of the type <span class="qtext">REF TO area_class</span>.</li>
</ul>
<dl><dd>
Reference to the new area handle, where <span class="qtext">area_class</span> is the current area class.
</dd></dl>
<p><span class="h4">
Exceptions
</span></p>
<ul class="disc">
<li><span class="lnkgrey">CX_SHM_INCONSISTENT</span></li>
</ul>
<dl><dd>
The type of an object saved in the area instance does not match the definition of the object with the same name in the current
<a href="javascript:call_link('abeninternal_session_glosry.html')" class="grey" title="Glossary Entry">internal session</a>.
 If the time stamp for the type of the shared objects is newer than the time stamp in the internal session,
the application should be restarted, to ensure the internal session also uses the current version of
the type. If the time stamp of the type in the internal session is newer than the time stamp of the shared object, a new area instance version should be constructed, so that the current type is used there.
</dd></dl>
<ul class="disc">
<li><span class="lnkgrey">CX_SHM_NO_ACTIVE_VERSION</span></li>
</ul>
<dl><dd>
This exception is raised in the following cases:
</dd></dl>
<ul class="circlem2">
<li>The area instance version does not exist and an automatic build is not possible because there is no area constructor or displaced version (exception text: NEITHER_BUILD_NOR_LOAD).</li>
</ul>
<ul class="circlem2">
<li>The area instance version does not exist and the area constructor was called (exception text: BUILD_STARTED).
The system does not wait for the automatic area build to be terminated when the exception is caught.
If this exception is raised twice in succession with this exception text, the area constructor was not ended correctly.</li>
</ul>
<ul class="circlem2">
<li>The area instance version does not exist although the area constructor is already being executed (exception text: BUILD_NOT_FINISHED).</li>
</ul>
<ul class="circlem2">
<li>The area instance version is not available and a displaced version was started (exception text: LOAD_STARTED).</li>
</ul>
<ul class="circlem2">
<li>The area instance version does not exist but a displaced version is already being loaded (exception text: LOAD_NOT_FINISHED).</li>
</ul>
<ul class="disc">
<li><span class="lnkgrey">CX_SHM_READ_LOCK_ACTIVE</span></li>
</ul>
<dl><dd>
The area instance version is already locked for reading in the same internal session.
</dd></dl>
<ul class="disc">
<li><span class="lnkgrey">CX_SHM_EXCLUSIVE_LOCK_ACTIVE</span></li>
</ul>
<dl><dd>
This exception is raised in the following cases:
</dd></dl>
<ul class="circlem2">
<li>The area instance does not support versioning and is already locked against changes (exception text: LOCKED_BY_ACTIVE_CHANGER).</li>
</ul>
<ul class="circlem2">
<li>The area instance does not support versioning and a user is waiting for an exclusive lock (exception text: LOCKED_BY_PENDING_CHANGER).</li>
</ul>
<ul class="circlem2">
<li>The area instance is transactional, does not support versioning, and an exclusive lock was released, but the database commit has not yet taken place (exception text: WAITING_FOR_DB_COMMIT).</li>
</ul>
<ul class="disc">
<li><span class="lnkgrey">CX_SHM_PARAMETER_ERROR</span></li>
</ul>
<dl><dd>
The value of CL_SHM_AREA=>ALL_CLIENTS was specified for the input parameter CLIENT.
</dd></dl>
<p>
The first four exception classes are subclasses of <span class="lnkgrey">CX_SHM_ATTACH_ERROR</span>.
</p>
<A name="@@ITOC@@ABENSHM_AREA_CLASS_7"></A>
<p><span class="h3">
ATTACH_FOR_WRITE
</span></p>
<p>
Creates an area handle with an exclusive lock for an area instance version and returns a reference to the area handle.
</p>
<p><span class="h4">
Input Parameters
</span></p>
<ul class="disc">
<li>INST_NAME of the type SHM_INST_NAME</li>
</ul>
<dl><dd>
Name of the area instance version. The name is optional. The default value is CL_SHM_AREA=>DEFAULT_INSTANCE.
</dd></dl>
<ul class="disc">
<li>CLIENT of the type SHM_CLIENT</li>
</ul>
<dl><dd>
Client ID if the area is client-specific. The client ID is optional. The default value is the ID of the current client. In
<a href="javascript:call_link('abentenant_isolation_glosry.html')" class="grey" title="Glossary Entry">tenant-isolation</a> systems, the CLIENT parameter cannot be passed in
<a href="javascript:call_link('abenapplication_client_glosry.html')" class="grey" title="Glossary Entry">application clients</a>.
</dd></dl>
<ul class="disc">
<li>ATTACH_MODE of the type SHM_ATTACH_MODE</li>
</ul>
<dl><dd>
Specifies the lock mode. This information is optional. The default value is CL_SHM_AREA=>ATTACH_MODE_DEFAULT. Possible values are:
</dd></dl>
<ul class="circlem2">
<li>CL_SHM_AREA=>ATTACH_MODE_DEFAULT <br> <br>If there are shared locks on the area instance of the
specified name, these are not released. For areas with versioning, the system attempts to create a new version. In the case of areas without versioning, the exception CX_SHM_VERSION_LIMIT_EXCEEDED is raised.</li>
</ul>
<ul class="circlem2">
<li>CL_SHM_AREA=>ATTACH_MODE_DETACH_READER <br> <br>For areas with versioning, if there are shared locks
on all area instance versions of the specified name, the shared locks on the oldest version are released.
This deactivates them so that a new version can be created. All shared locks are released for areas without versioning.</li>
</ul>
<ul class="circlem2">
<li>CL_SHM_AREA=>ATTACH_MODE_WAIT <br> <br>If the exclusive lock cannot be set, the program waits for
the time specified in the WAIT_TIME parameter and tries to set the lock again before the exception CX_SHM_VERSION_LIMIT_EXCEEDED
is raised. For an area without versioning, no further shared locks can be set on the area instance during the wait time. It is still possible to set shared locks for an area with versioning.</li>
</ul>
<ul class="disc">
<li>WAIT_TIME of the type <span class="qtext">i</span></li>
</ul>
<dl><dd>
Wait time in milliseconds, if the value CL_SHM_AREA=>ATTACH_MODE_WAIT is passed for ATTACH_MODE. If
a value not equal to 0 is passed for WAIT_TIME, if the value CL_SHM_AREA=>ATTACH_MODE_WAIT is not passed to ATTACH_MODE, or if a negative value is specified for WAIT_TIME, the exception CX_SHM_PARAMETER_ERROR is raised.
</dd></dl>
<dl><dd>
An attempt is made to set an exclusive lock again in the wait time. Only one program with the parameter
WAIT_TIME can wait for an area instance at any one time. If a different program tries to set another
exclusive lock with the parameter WAIT_TIME, this raises the exception CX_SHM_EXCLUSIVE_LOCK_ACTIVE directly (exception text LOCKED_BY_PENDING_CHANGER).
</dd></dl>
<dl><dd>
If the exclusive lock can be set within the wait time, the program flow continues. Note that there may
be a delay until the waiting program can be restarted. During this delay, no other program can set an exclusive lock. This guarantees that the waiting program is given the exclusive lock next.
</dd></dl>
<dl><dd>
If the exclusive lock cannot be set within the wait time, the exception CX_SHM_EXCLUSIVE_LOCK_ACTIVE is raised after the wait time (exception text:. LOCKED_BY_ACTIVE_CHANGER) or CX_SHM_VERSION_LIMIT_EXCEEDED.
</dd></dl>
<p><span class="h4">
Return Code
</span></p>
<ul class="disc">
<li>HANDLE of the type <span class="qtext">REF TO area_class</span>.</li>
</ul>
<dl><dd>
Reference to the new area handle, where <span class="qtext">area_class</span> is the current area class.
</dd></dl>
<p><span class="h4">
Exceptions
</span></p>
<ul class="disc">
<li><span class="lnkgrey">CX_SHM_VERSION_LIMIT_EXCEEDED</span></li>
</ul>
<dl><dd>
The exclusive lock could not be set since there was already a shared lock on the area instance version and no new version could be created because this would overwrite the maximum number of possible versions.
</dd></dl>
<ul class="disc">
<li><span class="lnkgrey">CX_SHM_CHANGE_LOCK_ACTIVE</span></li>
</ul>
<dl><dd>
An area instance version is already locked for changing in the same internal session. If a previous
exclusive lock was released in a transactional area, but there has been no database commit yet, this raises the exception with the exception text WAITING_FOR_DB_COMMIT.
</dd></dl>
<ul class="disc">
<li><span class="lnkgrey">CX_SHM_EXCLUSIVE_LOCK_ACTIVE</span></li>
</ul>
<dl><dd>
This exception is raised in the following cases:
</dd></dl>
<ul class="circlem2">
<li>The area instance is already locked for changes in a different internal session (exception text: LOCKED_BY_ACTIVE_CHANGER).</li>
</ul>
<ul class="circlem2">
<li>A user in a different internal session is waiting for an exclusive lock (exception text: LOCKED_BY_PENDING_CHANGER).</li>
</ul>
<ul class="circlem2">
<li>The area instance is transactional and an exclusive lock was released in a different internal session, but the database commit has not yet taken place (exception text: WAITING_FOR_DB_COMMIT).</li>
</ul>
<ul class="disc">
<li><span class="lnkgrey">CX_SHM_PENDING_LOCK_REMOVED</span></li>
</ul>
<dl><dd>
This exception is raised if the value CL_SHM_AREA=>ATTACH_MODE_WAIT is passed for ATTACH_MODE, but the lock was deleted in transaction <span class="lnkgrey">SHMM</span> during a wait period.
</dd></dl>
<ul class="disc">
<li><span class="lnkgrey">CX_SHM_PARAMETER_ERROR</span></li>
</ul>
<dl><dd>
This exception is raised in the following cases:
</dd></dl>
<ul class="circlem2">
<li>An invalid value was passed for the input parameter ATTACH_MODE.</li>
</ul>
<ul class="circlem2">
<li>A negative number was passed for the input parameter WAIT_TIME .</li>
</ul>
<ul class="circlem2">
<li>The value of CL_SHM_AREA=>ALL_CLIENTS was specified for the input parameter CLIENT.</li>
</ul>
<p>
The first four exception classes are subclasses of <span class="lnkgrey">CX_SHM_ATTACH_ERROR</span>.
</p>
<A name="@@ITOC@@ABENSHM_AREA_CLASS_8"></A>
<p><span class="h3">
ATTACH_FOR_UPDATE
</span></p>
<dl><dd>
Creates an area handle with an update lock for an area instance version and returns a reference to the area handle.
</dd></dl>
<p><span class="h4">
Input Parameters
</span></p>
<ul class="disc">
<li>INST_NAME of the type SHM_INST_NAME</li>
</ul>
<dl><dd>
Name of the area instance version. The name is optional. The default value is CL_SHM_AREA=>DEFAULT_INSTANCE.
</dd></dl>
<ul class="disc">
<li>CLIENT of the type SHM_CLIENT</li>
</ul>
<dl><dd>
Client ID if the area is client-specific. The client ID is optional. The default value is the ID of the current client. In
<a href="javascript:call_link('abentenant_isolation_glosry.html')" class="grey" title="Glossary Entry">tenant-isolation</a> systems, the CLIENT parameter cannot be passed in
<a href="javascript:call_link('abenapplication_client_glosry.html')" class="grey" title="Glossary Entry">application clients</a>.
</dd></dl>
<ul class="disc">
<li>ATTACH_MODE of the type SHM_ATTACH_MODE</li>
</ul>
<dl><dd>
Specifies the lock mode. This information is optional. The default value is CL_SHM_AREA=>ATTACH_MODE_DEFAULT. Possible values are:
</dd></dl>
<ul class="circlem2">
<li>CL_SHM_AREA=>ATTACH_MODE_DEFAULT <br> <br>If there are shared locks on the area instance of the
specified name, these are not released. For areas with versioning, the system attempts to create a new version. In the case of areas without versioning, the exception CX_SHM_VERSION_LIMIT_EXCEEDED is raised.</li>
</ul>
<ul class="circlem2">
<li>CL_SHM_AREA=>ATTACH_MODE_DETACH_READER <br> <br>For areas with versioning, if there are shared locks
on all area instance versions of the specified name, the shared locks on the oldest version are released.
This deactivates them so that a new version can be created. All shared locks are released for areas without versioning.</li>
</ul>
<ul class="circlem2">
<li>CL_SHM_AREA=>ATTACH_MODE_WAIT <br> <br>If the update lock cannot be set, the program waits for the
time specified in the WAIT_TIME parameter and tries to set the lock again before the exception CX_SHM_VERSION_LIMIT_EXCEEDED
is raised. For an area without versioning, no further shared locks can be set on the area instance during the wait time. It is still possible to set shared locks for an area with versioning.</li>
</ul>
<ul class="disc">
<li>WAIT_TIME of the type <span class="qtext">i</span></li>
</ul>
<dl><dd>
Wait time in milliseconds, if the value CL_SHM_AREA=>ATTACH_MODE_WAIT is passed for ATTACH_MODE. If
a value not equal to 0 is passed for WAIT_TIME, if the value CL_SHM_AREA=>ATTACH_MODE_WAIT is not passed to ATTACH_MODE, or if a negative value is specified for WAIT_TIME, the exception CX_SHM_PARAMETER_ERROR is raised.
</dd></dl>
<dl><dd>
An attempt is made to set an update lock again in the wait time. Only one program with the parameter
WAIT_TIME can wait for an area instance at any one time. If a different program tries to set another
exclusive lock with the parameter WAIT_TIME, this raises the exception CX_SHM_EXCLUSIVE_LOCK_ACTIVE directly (exception text LOCKED_BY_PENDING_CHANGER).
</dd></dl>
<dl><dd>
If the update lock can be set within the wait time, the program flow continues. Note that there may
be a delay until the waiting program can be restarted. During this delay, no other program can set an exclusive lock. This guarantees that the waiting program receives the update lock next.
</dd></dl>
<dl><dd>
If the update lock cannot be set within the wait time, the exception CX_SHM_EXCLUSIVE_LOCK_ACTIVE is raised after the wait time (exception text:. LOCKED_BY_ACTIVE_CHANGER).
</dd></dl>
<p>
<span class="bold">Note</span>
</p>
<p>
Since an active area instance version is required for setting an update lock, an area constructor called
automatically is started when the ATTACH_FOR_UPDATE method is called. The following applies when using
the parameter WAIT_TIME: If the area constructor can be started, there is a wait period. If the area
constructor ends before the end of the wait time, the update lock is set. If the area constructor ends
without being able to construct an active version, the wait is terminated before the end of the wait
time. If the area constructor does not end within the wait time, the exception CX_SHM_NO_ACTIVE_VERSION is raised (exception text: BUILD_NOT_FINISHED).
</p>
<p><span class="h4">
Return Code
</span></p>
<ul class="disc">
<li>HANDLE of the type <span class="qtext">REF TO area_class</span>.</li>
</ul>
<dl><dd>
Reference to the new area handle, where <span class="qtext">area_class</span> is the current area class.
</dd></dl>
<p><span class="h4">
Exceptions
</span></p>
<ul class="disc">
<li><span class="lnkgrey">CX_SHM_INCONSISTENT</span></li>
</ul>
<dl><dd>
The type of an object saved in the area instance does not match the definition of the object with the same name in the current program.
</dd></dl>
<ul class="disc">
<li><span class="lnkgrey">CX_SHM_NO_ACTIVE_VERSION</span></li>
</ul>
<dl><dd>
This exception is raised in the following cases:
</dd></dl>
<ul class="circlem2">
<li>The area instance version does not exist and an automatic build is not possible because an area constructor or a displaced version does not exist (exception text: NEITHER_BUILD_NOR_LOAD).</li>
</ul>
<ul class="circlem2">
<li>The area instance version does not exist and the area constructor was called (exception text: BUILD_STARTED).</li>
</ul>
<ul class="circlem2">
<li>The area instance version does not exist although the area constructor is already being executed (exception text: BUILD_NOT_FINISHED).</li>
</ul>
<ul class="circlem2">
<li>The area instance version is not available and a displaced version was started (exception text: LOAD_STARTED).</li>
</ul>
<ul class="circlem2">
<li>The area instance version does not exist but a displaced version is already being loaded (exception text: LOAD_NOT_FINISHED).</li>
</ul>
<ul class="disc">
<li><span class="lnkgrey">CX_SHM_VERSION_LIMIT_EXCEEDED</span></li>
</ul>
<dl><dd>
The update lock could not be set since there was already a shared lock on the area instance version and no new version could be created because this would overwrite the maximum number of possible versions.
</dd></dl>
<ul class="disc">
<li><span class="lnkgrey">CX_SHM_CHANGE_LOCK_ACTIVE</span></li>
</ul>
<dl><dd>
An area instance version is already locked for changing in the same internal session. If a previous
exclusive lock was released in a transactional area, but there has been no database commit yet, this raises the exception with the exception text WAITING_FOR_DB_COMMIT.
</dd></dl>
<ul class="disc">
<li><span class="lnkgrey">CX_SHM_EXCLUSIVE_LOCK_ACTIVE</span></li>
</ul>
<dl><dd>
This exception is raised in the following cases:
</dd></dl>
<ul class="circlem2">
<li>The area instance is already locked for changes in a different internal session (exception text: LOCKED_BY_ACTIVE_CHANGER).</li>
</ul>
<ul class="circlem2">
<li>A user in a different internal session is waiting for an exclusive lock (exception text: LOCKED_BY_PENDING_CHANGER).</li>
</ul>
<ul class="circlem2">
<li>The area instance is transactional and an exclusive lock was released in a different internal session, but the database commit has not yet taken place (exception text: WAITING_FOR_DB_COMMIT).</li>
</ul>
<ul class="disc">
<li><span class="lnkgrey">CX_SHM_PENDING_LOCK_REMOVED</span></li>
</ul>
<dl><dd>
This exception is raised if the value CL_SHM_AREA=>ATTACH_MODE_WAIT is passed for ATTACH_MODE, but the lock was deleted in transaction <span class="lnkgrey">SHMM</span> during a wait period.
</dd></dl>
<ul class="disc">
<li><span class="lnkgrey">CX_SHM_PARAMETER_ERROR</span></li>
</ul>
<dl><dd>
This exception is raised in the following cases:
</dd></dl>
<ul class="circlem2">
<li>An invalid value was passed for the input parameter ATTACH_MODE.</li>
</ul>
<ul class="circlem2">
<li>A negative number was passed for the input parameter WAIT_TIME .</li>
</ul>
<ul class="circlem2">
<li>The value of CL_SHM_AREA=>ALL_CLIENTS was specified for the input parameter CLIENT.</li>
</ul>
<p>
The first six exception classes are subclasses of <span class="lnkgrey">CX_SHM_ATTACH_ERROR</span>.
</p>
<A name="@@ITOC@@ABENSHM_AREA_CLASS_9"></A>
<p><span class="h3">
DETACH_AREA
</span></p>
<p>
Releases all locks of the current internal session on the area instances versions of the associated
area. This deactivates all of the area handles in the current internal session. If an exclusive lock or an update lock is released, this rejects any changes that were made to the area instance versions up to then.
</p>
<p><span class="h4">
Input Parameters
</span></p>
<ul class="disc">
<li>CLIENT of the type SHM_CLIENT</li>
</ul>
<dl><dd>
Optional client ID if the area is client-specific. The default value is the ID of the current client. In
<a href="javascript:call_link('abentenant_isolation_glosry.html')" class="grey" title="Glossary Entry">tenant-isolation</a> systems, the CLIENT parameter cannot be passed in
<a href="javascript:call_link('abenapplication_client_glosry.html')" class="grey" title="Glossary Entry">application clients</a>.
</dd></dl>
<p><span class="h4">
Return Code
</span></p>
<ul class="disc">
<li>RC of the type SHM_RC</li>
</ul>
<dl><dd>
Possible values:
</dd></dl>
<ul class="circlem2">
<li>CL_SHM_AREA=>RC_DONE if all locks were released.</li>
</ul>
<ul class="circlem2">
<li>CL_SHM_AREA=>RC_NOTHING_TO_BE_DONE if no locks were released because no locks existed in the current session.</li>
</ul>
<A name="@@ITOC@@ABENSHM_AREA_CLASS_10"></A>
<p><span class="h3">
INVALIDATE_INSTANCE
</span></p>
<p>
For non-transactional areas, this method immediately sets the state of the active area instance version
of the area instance of the name passed to obsolete. For transactional areas, this is done using the
next database commit. No new locks can be set on this area instance version afterwards. Any existing
shared locks are not released. How existing exclusive locks are handled depends on the input parameter TERMINATE_CHANGER.
</p>
<p><span class="h4">
Input Parameters
</span></p>
<ul class="disc">
<li>INST_NAME of the type SHM_INST_NAME</li>
</ul>
<dl><dd>
Name of the area instance version. The name is optional. The default value is the value of constant CL_SHM_AREA=>DEFAULT_INSTANCE.
</dd></dl>
<ul class="disc">
<li>CLIENT of the type SHM_CLIENT</li>
</ul>
<dl><dd>
Client ID if the area is client-specific. The default value is the ID of the current client. In
<a href="javascript:call_link('abentenant_isolation_glosry.html')" class="grey" title="Glossary Entry">tenant-isolation</a> systems, the CLIENT parameter cannot be passed in
<a href="javascript:call_link('abenapplication_client_glosry.html')" class="grey" title="Glossary Entry">application clients</a>.
</dd></dl>
<ul class="disc">
<li>TERMINATE_CHANGER of the type ABAP_BOOL</li>
</ul>
<dl><dd>
Specifies how exclusive locks are handled. Possible values are:
</dd></dl>
<ul class="circlem2">
<li>ABAP_TRUE (existing exclusive locks are released (default setting)).</li>
</ul>
<ul class="circlem2">
<li>ABAP_FALSE (existing exclusive locks are not released).</li>
</ul>
<ul class="disc">
<li>AFFECT_SERVER of the type SHM_AFFECT_SERVER (only in areas with the <span class="italic">Application Server</span> area binding)</li>
</ul>
<dl><dd>
Specifies cross-server invalidation. Possible values are:
</dd></dl>
<ul class="circlem2">
<li>CL_SHM_AREA=>AFFECT_LOCAL_SERVER (only the area instance versions of the current AS Instance are invalidated (default setting)).</li>
</ul>
<ul class="circlem2">
<li>CL_SHM_AREA=>AFFECT_ALL_SERVERS (the area instance versions of all AS Instancess are invalidated).</li>
</ul>
<ul class="circlem2">
<li>CL_SHM_AREA=>AFFECT_ALL_SERVERS_BUT_LOCAL (the area instance versions of all AS Instancess are invalidated,
apart from the current AS Instance). This enables changes to be made to areas of the current AS Instance directly, without the database having to create the entire area again.</li>
</ul>
<p>
<span class="bold">Caution</span>
</p>
<p>
Once this method is executed and ABAP_TRUE is passed to TERMINATE_CHANGER, all programs where there
is still an exclusive lock for the invalidated area instance are terminated with the runtime error SYSTEM_SHM_AREA_OBSOLETE.
</p>
<p><span class="h4">
Return Code
</span></p>
<ul class="disc">
<li>RC of the type SHM_RC</li>
</ul>
<dl><dd>
Possible values in non-transactional areas:
</dd></dl>
<ul class="circlem2">
<li>CL_SHM_AREA=>RC_DONE if the active area instance version was set to obsolete. If the value ABAP_TRUE was passed to TERMINATE_CHANGER (even if an exclusive lock was released).</li>
</ul>
<ul class="circlem2">
<li>CL_SHM_AREA=>RC_NOTHING_TO_BE_DONE if no active area instance version is available and (if the value ABAP_TRUE was passed to TERMINATE_CHANGER) if no exclusive lock exists .</li>
</ul>
<ul class="circlem2">
<li>CL_SHM_AREA=>RC_INSTANCE_NAME_NOT_FOUND if no area instance of the specified name exists.</li>
</ul>
<dl><dd>
In transactional areas, RC always has the value CL_SHM_AREA=>RC_NOTHING_TO_BE_DONE.
</dd></dl>
<p><span class="h4">
Exceptions
</span></p>
<ul class="disc">
<li><span class="lnkgrey">CX_SHM_PARAMETER_ERROR</span></li>
</ul>
<dl><dd>
An invalid value was passed for the input parameter TERMINATE_CHANGER.
</dd></dl>
<A name="@@ITOC@@ABENSHM_AREA_CLASS_11"></A>
<p><span class="h3">
INVALIDATE_AREA
</span></p>
<p>
In non-transactional areas, this method immediately sets the state of all active area instance versions
of the area in the current internal session to obsolete. For transactional areas this is done by the
next database commit. No new locks can be set on these area instance versions afterwards. Any existing
shared locks are not released. How existing exclusive locks are handled depends on the input parameter TERMINATE_CHANGER.
</p>
<p><span class="h4">
Input Parameters
</span></p>
<ul class="disc">
<li>CLIENT of the type SHM_CLIENT</li>
</ul>
<dl><dd>
Client ID if the area is client-specific. The default value is the ID of the current client. In
<a href="javascript:call_link('abentenant_isolation_glosry.html')" class="grey" title="Glossary Entry">tenant-isolation</a> systems, the CLIENT parameter cannot be passed in
<a href="javascript:call_link('abenapplication_client_glosry.html')" class="grey" title="Glossary Entry">application clients</a>.
</dd></dl>
<ul class="disc">
<li>TERMINATE_CHANGER of the type ABAP_BOOL</li>
</ul>
<dl><dd>
Specifies how exclusive locks are handled. Possible values are:
</dd></dl>
<ul class="circlem2">
<li>ABAP_TRUE (existing exclusive locks are released (default setting)).</li>
</ul>
<ul class="circlem2">
<li>ABAP_FALSE (existing exclusive locks are not released).</li>
</ul>
<ul class="disc">
<li>AFFECT_SERVER of the type SHM_AFFECT_SERVER (only in areas with the <span class="italic">Application Server</span> area binding)</li>
</ul>
<dl><dd>
Specifies cross-server invalidation. Possible values are:
</dd></dl>
<ul class="circlem2">
<li>CL_SHM_AREA=>AFFECT_LOCAL_SERVER (only the area instance versions of the current AS Instance are invalidated (default setting)).</li>
</ul>
<ul class="circlem2">
<li>CL_SHM_AREA=>AFFECT_ALL_SERVERS (the area instance versions of all AS Instancess are invalidated).</li>
</ul>
<ul class="circlem2">
<li>CL_SHM_AREA=>AFFECT_ALL_SERVERS_BUT_LOCAL (the area instance versions of all AS Instancess are invalidated,
apart from the current AS Instance). This enables changes to be made to areas of the current AS Instance directly, without the database having to create the entire area again.</li>
</ul>
<p>
<span class="bold">Caution</span>
</p>
<p>
Once this method is executed and ABAP_TRUE is passed to TERMINATE_CHANGER, all programs where there
are still exclusive locks for the invalidated area instance versions are terminated with the runtime error SYSTEM_SHM_AREA_OBSOLETE.
</p>
<p><span class="h4">
Return Code
</span></p>
<ul class="disc">
<li>RC of the type SHM_RC</li>
</ul>
<dl><dd>
Possible values in non-transactional areas:
</dd></dl>
<ul class="circlem2">
<li>CL_SHM_AREA=>RC_DONE if at least one active area instance version was set to obsolete. If the value ABAP_TRUE was passed to TERMINATE_CHANGER (even if one or more exclusive locks were released).</li>
</ul>
<ul class="circlem2">
<li>CL_SHM_AREA=>RC_NOTHING_TO_BE_DONE if no active area instance version exists and (if the value ABAP_TRUE was passed to TERMINATE_CHANGER) if no exclusive lock exists.</li>
</ul>
<dl><dd>
In transactional areas, RC always has the value CL_SHM_AREA=>RC_NOTHING_TO_BE_DONE.
</dd></dl>
<p><span class="h4">
Exceptions
</span></p>
<ul class="disc">
<li><span class="lnkgrey">CX_SHM_PARAMETER_ERROR</span></li>
</ul>
<dl><dd>
An invalid value was passed for the input parameter TERMINATE_CHANGER.
</dd></dl>
<A name="@@ITOC@@ABENSHM_AREA_CLASS_12"></A>
<p><span class="h3">
FREE_INSTANCE
</span></p>
<p>
This method sets the state of all (active and obsolete) area instance versions of the area instance
for the name passed to "expired", and all shared locks are released. No new shared locks and update
locks can be set on this area instance version afterwards. How existing exclusive locks are handled
depends on the input parameter TERMINATE_CHANGER. In non-transactional areas, the state of the area instance version is changed immediately; in transactional areas, the state changes after the next database commit.
</p>
<p>
<span class="bold">Caution</span>
</p>
<p>
After this method has been executed, all programs in which area handles still exist for the released area instance versions terminate with the runtime error <span class="qtext">SYSTEM_SHM_AREA_OBSOLETE</span>.
</p>
<p><span class="h4">
Input Parameters
</span></p>
<ul class="disc">
<li>INST_NAME of the type SHM_INST_NAME</li>
</ul>
<dl><dd>
Name of the area instance version. The name is optional. The default value is the value of constant CL_SHM_AREA=>DEFAULT_INSTANCE.
</dd></dl>
<ul class="disc">
<li>CLIENT of the type SHM_CLIENT</li>
</ul>
<dl><dd>
Client ID if the area is client-specific. The default value is the ID of the current client. In
<a href="javascript:call_link('abentenant_isolation_glosry.html')" class="grey" title="Glossary Entry">tenant-isolation</a> systems, the CLIENT parameter cannot be passed in
<a href="javascript:call_link('abenapplication_client_glosry.html')" class="grey" title="Glossary Entry">application clients</a>.
</dd></dl>
<ul class="disc">
<li>TERMINATE_CHANGER of the type ABAP_BOOL</li>
</ul>
<dl><dd>
Specifies how exclusive locks are handled. Possible values are:
</dd></dl>
<ul class="circlem2">
<li>ABAP_TRUE (existing exclusive locks are released (default setting)).</li>
</ul>
<ul class="circlem2">
<li>ABAP_FALSE (existing exclusive locks are not released).</li>
</ul>
<ul class="disc">
<li>AFFECT_SERVER of the type SHM_AFFECT_SERVER (only in areas with the <span class="italic">Application Server</span> area binding)</li>
</ul>
<dl><dd>
Specifies cross-server invalidation. Possible values are:
</dd></dl>
<ul class="circlem2">
<li>CL_SHM_AREA=>AFFECT_LOCAL_SERVER (only the area instance versions of the current AS Instance are invalidated (default setting)).</li>
</ul>
<ul class="circlem2">
<li>CL_SHM_AREA=>AFFECT_ALL_SERVERS (the area instance versions of all AS Instancess are invalidated).</li>
</ul>
<ul class="circlem2">
<li>CL_SHM_AREA=>AFFECT_ALL_SERVERS_BUT_LOCAL (the area instance versions of all AS Instancess are invalidated,
apart from the current AS Instance). This enables changes to be made to areas of the current AS Instance directly, without the database having to create the entire area again.</li>
</ul>
<p><span class="h4">
Return Code
</span></p>
<ul class="disc">
<li>RC of the type SHM_RC</li>
</ul>
<dl><dd>
Possible values in non-transactional areas:
</dd></dl>
<ul class="circlem2">
<li>CL_SHM_AREA=>RC_DONE if an active or an obsolete area instance version was set to expired. If the value ABAP_TRUE was passed to TERMINATE_CHANGER (even if an exclusive lock was released).</li>
</ul>
<ul class="circlem2">
<li>CL_SHM_AREA=>RC_NOTHING_TO_BE_DONE, if no active or obsolete area instance versions exist and (if the value ABAP_TRUE was passed to TERMINATE_CHANGER) if no exclusive lock exists.</li>
</ul>
<ul class="circlem2">
<li>CL_SHM_AREA=>RC_INSTANCE_NAME_NOT_FOUND if no area instance of the specified name exists.</li>
</ul>
<dl><dd>
In transactional areas, RC always has the value CL_SHM_AREA=>RC_NOTHING_TO_BE_DONE.
</dd></dl>
<p><span class="h4">
Exceptions
</span></p>
<ul class="disc">
<li><span class="lnkgrey">CX_SHM_PARAMETER_ERROR</span></li>
</ul>
<dl><dd>
An invalid value was passed for the input parameter TERMINATE_CHANGER.
</dd></dl>
<A name="@@ITOC@@ABENSHM_AREA_CLASS_13"></A>
<p><span class="h3">
FREE_AREA
</span></p>
<p>
This method sets the state of all (active and obsolete) area instance versions of the area to "expired",
and all shared locks are released. No new locks can be set on these area instance versions afterwards.
How existing exclusive locks are handled depends on the input parameter TERMINATE_CHANGER. In non-transactional
areas, the change takes place immediately; in transactional areas, the change takes place after the next database commit.
</p>
<p><span class="h4">
Input Parameters
</span></p>
<ul class="disc">
<li>CLIENT of the type SHM_CLIENT</li>
</ul>
<dl><dd>
Client ID if the area is client-specific. The default value is the ID of the current client. In
<a href="javascript:call_link('abentenant_isolation_glosry.html')" class="grey" title="Glossary Entry">tenant-isolation</a> systems, the CLIENT parameter cannot be passed in
<a href="javascript:call_link('abenapplication_client_glosry.html')" class="grey" title="Glossary Entry">application clients</a>.
</dd></dl>
<ul class="disc">
<li>TERMINATE_CHANGER of the type ABAP_BOOL</li>
</ul>
<dl><dd>
Specifies how exclusive locks are handled. Possible values are:
</dd></dl>
<ul class="circlem2">
<li>ABAP_TRUE (existing exclusive locks are released (default setting)).</li>
</ul>
<ul class="circlem2">
<li>ABAP_FALSE (existing exclusive locks are not released).</li>
</ul>
<ul class="disc">
<li>AFFECT_SERVER of the type SHM_AFFECT_SERVER (only in areas with the <span class="italic">Application Server</span> area binding)</li>
</ul>
<dl><dd>
Specifies cross-server invalidation. Possible values are:
</dd></dl>
<ul class="circlem2">
<li>CL_SHM_AREA=>AFFECT_LOCAL_SERVER (only the area instance versions of the current AS Instance are invalidated (default setting)).</li>
</ul>
<ul class="circlem2">
<li>CL_SHM_AREA=>AFFECT_ALL_SERVERS (the area instance versions of all AS Instancess are invalidated).</li>
</ul>
<ul class="circlem2">
<li>CL_SHM_AREA=>AFFECT_ALL_SERVERS_BUT_LOCAL (the area instance versions of all AS Instancess are invalidated,
apart from the current AS Instance). This enables changes to be made to areas of the current AS Instance directly, without the database having to create the entire area again.</li>
</ul>
<p><span class="h4">
Return Code
</span></p>
<ul class="disc">
<li>RC of the type SHM_RC</li>
</ul>
<ul class="disc">
<li>Possible values in non-transactional areas:</li>
</ul>
<ul class="circlem2">
<li>CL_SHM_AREA=>RC_DONE if at least one active or obsolete area instance version was set to "expired". If the value ABAP_TRUE was passed to TERMINATE_CHANGER (even if one or more exclusive locks were released).</li>
</ul>
<ul class="circlem2">
<li>CL_SHM_AREA=>RC_NOTHING_TO_BE_DONE if no active or obsolete area instance versions exist and (if the value ABAP_TRUE was passed to TERMINATE_CHANGER) if no exclusive lock exists.</li>
</ul>
<dl><dd>
In transactional areas, RC always has the value CL_SHM_AREA=>RC_NOTHING_TO_BE_DONE.
</dd></dl>
<p><span class="h4">
Exceptions
</span></p>
<ul class="disc">
<li><span class="lnkgrey">CX_SHM_PARAMETER_ERROR</span></li>
</ul>
<dl><dd>
An invalid value was passed for the input parameter TERMINATE_CHANGER.
</dd></dl>
<p>
<span class="bold">Caution</span>
</p>
<p>
After this method has been executed, all programs in which area handles still exist for the released area instance versions terminate with the runtime error SYSTEM_SHM_AREA_OBSOLETE.
</p>
<A name="@@ITOC@@ABENSHM_AREA_CLASS_14"></A>
<p><span class="h3">
GET_INSTANCE_INFOS
</span></p>
<p>
Returns the names of all instances of the area on the current AS Instance that are currently being built, are active, or are obsolete.
</p>
<p><span class="h4">
Input Parameters
</span></p>
<ul class="disc">
<li>CLIENT of the type SHM_CLIENT</li>
</ul>
<dl><dd>
Client ID if the area is client-specific. The default value is the ID of the current client. In
<a href="javascript:call_link('abentenant_isolation_glosry.html')" class="grey" title="Glossary Entry">tenant-isolation</a> systems, the CLIENT parameter cannot be passed in
<a href="javascript:call_link('abenapplication_client_glosry.html')" class="grey" title="Glossary Entry">application clients</a>.
</dd></dl>
<p><span class="h4">
Return Code
</span></p>
<ul class="disc">
<li>INFOS of the type SHM_INST_INFOS</li>
</ul>
<dl><dd>
SHM_INST_INFOS is an internal table of row type SHM_INST_INFO with the following components:
</dd></dl>
<ul class="circlem2">
<li>CLIENT of the type MANDT. The client ID if areas are client-specific. Initial if areas are cross-client.</li>
</ul>
<ul class="circlem2">
<li>NAME of the type SHM_INST_NAME (area name). This name is CL_SHM_AREA=>DFAULT_INSTANCE for areas with the default name.</li>
</ul>
<ul class="circlem2">
<li>VERSIONS_IN_BUILD of the type SHM_VERS_CNT. The number of area instance versions that are currently being built. Possible values are 0 or 1.</li>
</ul>
<ul class="circlem2">
<li>VERSIONS_ACTIVE of the type SHM_VERS_CNT. The number of currently active area instance versions. Possible values are 0 or 1.</li>
</ul>
<ul class="circlem2">
<li>VERSIONS_OBSOLETE of the type SHM_VERS_CNT. The number of obsolete area instance versions. Possible
values range from 0 to the maximum number of area instance versions (component MAX_VERSIONS of the PROPERTIES attribute of the CL_SHM_AREA class).</li>
</ul>
<dl><dd>
An empty table is returned if there are no area instances for the area. The number of expired area instance versions is ignored.
</dd></dl>
<A name="@@ITOC@@ABENSHM_AREA_CLASS_15"></A>
<p><span class="h3">
BUILD
</span></p>
<p>
Calls the <a href="javascript:call_link('abenshm_area_constructor_class.html')" class="blue">area constructor</a> explicitly
. The area constructor is executed in the current internal session. If the areas are client-specific, the area of the current client is built.
</p>
<p><span class="h4">
Input Parameters
</span></p>
<ul class="disc">
<li>INST_NAME of the type SHM_INST_NAME</li>
</ul>
<dl><dd>
Name of the area instance version. The name is optional. The default value is the value of constant CL_SHM_AREA=>DEFAULT_INSTANCE.
</dd></dl>
<p><span class="h4">
Exceptions
</span></p>
<ul class="disc">
<li><span class="lnkgrey">CX_SHM_BUILD_FAILED</span></li>
</ul>
<dl><dd>
An error occurred when the area constructor was executed.
</dd></dl>
<ul class="disc">
<li><span class="lnkgrey">CX_SHMA_NOT_CONFIGURED</span></li>
</ul>
<dl><dd>
No area constructor class is bound to the area class.
</dd></dl>
<ul class="disc">
<li><span class="lnkgrey">CX_SHMA_INCONSISTENT</span></li>
</ul>
<dl><dd>
The area class has to be generated again.
</dd></dl>
<A name="@@ITOC@@ABENSHM_AREA_CLASS_16"></A>
<p><span class="h3">
PROPAGATE_INSTANCE (Obsolete)
</span></p>
<p>
This method is only available if the area is transactional. It has the same effect as executing the
INVALIDATE_INSTANCE method and passing the value of ABAP_TRUE to the input parameter TERMINATE_CHANGER on all AS Instancess in the current AS ABAP. This propagation takes place with the next database commit.
</p>
<p>
<span class="bold">Caution</span>
</p>
<p>
Do not use this method any more. Instead, use the parameter AFFECT_SERVER of the FREE_AREA, FREE_INSTANCE, INVALIDATE_AREA, and INVALIDATE_INSTANCE methods.
</p>
<p><span class="h4">
Input Parameters
</span></p>
<ul class="disc">
<li>INST_NAME of the type SHM_INST_NAME</li>
</ul>
<dl><dd>
Name of the area instance version. The name is optional. The default value is the value of constant CL_SHM_AREA=>DEFAULT_INSTANCE.
</dd></dl>
<ul class="disc">
<li>CLIENT of the type SHM_CLIENT</li>
</ul>
<dl><dd>
Client ID if the area is client-specific. The default value is the ID of the current client. In
<a href="javascript:call_link('abentenant_isolation_glosry.html')" class="grey" title="Glossary Entry">tenant-isolation</a> systems, the CLIENT parameter cannot be passed in
<a href="javascript:call_link('abenapplication_client_glosry.html')" class="grey" title="Glossary Entry">application clients</a>.
</dd></dl>
<ul class="disc">
<li>AFFECTING_LOCAL_SERVER of the type ABAP_BOOL</li>
</ul>
<dl><dd>
Specifies whether the change in state is also performed on the current AS Instance. Possible values are:
</dd></dl>
<ul class="circlem2">
<li>ABAP_TRUE. The active area instance version is set to obsolete on the current AS Instance. This
setting can be used if the content of the area instance is to be changed using the area constructor, after the database content has been changed.</li>
</ul>
<ul class="circlem2">
<li>ABAP_FALSE. The active area instance version is not set to obsolete on the current AS Instance (default
setting). This means that a new version can be preserved on an AS Instance while only the current versions on other servers are invalidated.</li>
</ul>
<p><span class="h4">
Exceptions
</span></p>
<ul class="disc">
<li><span class="lnkgrey">CX_SHM_PARAMETER_ERROR</span></li>
</ul>
<dl><dd>
An invalid value was passed for the input parameter AFFECTING_LOCAL_SERVER.
</dd></dl>
<A name="@@ITOC@@ABENSHM_AREA_CLASS_17"></A>
<p><span class="h3">
PROPAGATE_AREA (Obsolete)
</span></p>
<p>
This method is only available if the area is transactional. It has the same effect as executing the
INVALIDATE_AREA method and passing the value of ABAP_TRUE to the input parameter TERMINATE_CHANGER on all AS Instancess in the current AS ABAP. This propagation takes place with the next database commit.
</p>
<p>
<span class="bold">Caution</span>
</p>
<p>
Do not use this method any more. Instead, use the parameter AFFECT_SERVER of the FREE_AREA, FREE_INSTANCE, INVALIDATE_AREA, and INVALIDATE_INSTANCE methods.
</p>
<p><span class="h4">
Input Parameters
</span></p>
<ul class="disc">
<li>CLIENT of the type SHM_CLIENT</li>
</ul>
<dl><dd>
Client ID if the area is client-specific. The default value is the ID of the current client. In
<a href="javascript:call_link('abentenant_isolation_glosry.html')" class="grey" title="Glossary Entry">tenant-isolation</a> systems, the CLIENT parameter cannot be passed in
<a href="javascript:call_link('abenapplication_client_glosry.html')" class="grey" title="Glossary Entry">application clients</a>.
</dd></dl>
<ul class="disc">
<li>AFFECTING_LOCAL_SERVER of the type ABAP_BOOL</li>
</ul>
<dl><dd>
Specifies whether the change in state is also performed on the current AS Instance. Possible values are:
</dd></dl>
<ul class="circlem2">
<li>ABAP_TRUE. The active area instance versions are set to obsolete on the current AS Instance.</li>
</ul>
<ul class="circlem2">
<li>ABAP_FALSE. The active area instance versions are not set to obsolete on the current AS Instance (default setting).</li>
</ul>
<p><span class="h4">
Exceptions
</span></p>
<ul class="disc">
<li><span class="lnkgrey">CX_SHM_PARAMETER_ERROR</span></li>
</ul>
<dl><dd>
An invalid value was passed for the input parameter AFFECTING_LOCAL_SERVER.
</dd></dl>
<A name="@@ITOC@@ABENSHM_AREA_CLASS_18"></A>
<p><span class="h2">
Instance Methods
</span></p>
<A name="@@ITOC@@ABENSHM_AREA_CLASS_19"></A>
<p><span class="h3">
SET_ROOT
</span></p>
<p>
This method defines the <a href="javascript:call_link('abenroot_object_glosry.html')" class="grey" title="Glossary Entry">root
object</a> (instance of the area root class) of the area instance version. Before an exclusive lock
can be released using the DETACH_COMMIT method, the root object has to be reset at least once using SET_ROOT. Updates are possible. The SET_ROOT method can only be called in area handles with exclusive locks.
</p>
<p><span class="h4">
Input Parameters
</span></p>
<ul class="disc">
<li>REF TO of the type <span class="qtext">area_root_class</span>, where <a href="javascript:call_link('abenroot_data_class_glosry.html')" class="grey" title="Glossary Entry">
<span class="qtext">area_root_class</span></a> is the area root class of the area.</li>
</ul>
<p><span class="h4">
Exceptions
</span></p>
<ul class="disc">
<li><span class="lnkgrey">CX_SHM_WRONG_HANDLE</span></li>
</ul>
<dl><dd>
The method was called using an area handle with a shared lock or an area handle in which the DETACH_COMMIT method failed.
</dd></dl>
<ul class="disc">
<li><span class="lnkgrey">CX_SHM_INITIAL_REFERENCE</span></li>
</ul>
<dl><dd>
The reference variable passed to ROOT is initial.
</dd></dl>
<p>

</p>
<br>
<br>
<br>
<br>
</DIV>
<fieldset style="opacity:0">
<input id="url" type="text" />
</fieldset>
</BODY>

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abenshm_area_class.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:52:45 GMT -->
</html>

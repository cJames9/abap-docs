<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="EN">
<!-- ABAPTYPES_MESH_ASSOCIATION -->

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abaptypes_mesh_association.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:51:30 GMT -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="author" content="SAP">
<meta name="description" content="TYPES - association">
<meta name="keywords" content="ABAP, Associations, Mesh">
<title>
TYPES - association - ABAP Keyword Documentation
</title>
<link rel="icon" href="ABAPIcon.ico" type="image/ico">
<link rel="shortcut icon" href="ABAPIcon.ico">
<LINK rel="stylesheet" href="abap_docu.css" type="text/css">
<script language="javascript" type="text/javascript" src="functions.js"></script>
<script type="text/JavaScript">
function urlToClipboard(id){
 try{ var loc = top.location.href;}
 catch(e){ alert( "URL cannnot be determined" ); return; }
 var field = document.getElementById(id);
 field.focus();
 if ( loc.search( ".htm" ) == -1 && loc.search( ".HTM" ) == -1  ){ loc = loc + "index.htm"; }
 if (   loc.search( "index.html" ) != -1
     || loc.search( "INDEX-2.html" ) != -1 ){
   var off = loc.search( "file=" );
   if ( off == -1  ){
     field.value = loc + "?file=abaptypes_mesh_association.htm"; }
   else {
     field.value = loc.substring( 0, off ) + "file=abaptypes_mesh_association.htm";
   }
 }
 else {
    field.value = loc; }
 field.setSelectionRange(0, field.value.length);
 var r = confirm( "Copy URL to clipboard?\n\n" + field.value + "\n\nCopy to clipboard does not work in all browsers." );
 if (r == true) {
   try{
     document.execCommand("copy");
   }
     catch(e){ alert( "URL could not be copied to clipboard" ); }
 }
 window.scrollTo(0,0);
}
</script>
</head>
<body>
<div class="all">
<div style="float:right;">
<input type="button" value="URL"
style="font-size:10px; width:30px; height:18px; padding:0; "
onclick="urlToClipboard('url')" title="Copy URL to Clipboard" ></div>
<p>
<input name="query" id="query" value="" type="text" title="Suchbegriff" size="30" maxlength="30" onkeyup="getInput()">&nbsp;
<input type="button" value="Search"
style="font-size:12px; width:50px; height:18px; padding:0"
onclick="call_search('search.html')" title="Search in ABAP Keyword Documentation" >
<hr style="width:100%;height:1px"></p>
<p class="copyright">AS ABAP Release 754, &copy;Copyright 2019 SAP SE. All rights reserved.</p>
<span class="path">
<a href="javascript:call_link('abenabap.html')" class="blue">ABAP Keyword Documentation</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_reference.html')" class="blue">ABAP &#x2212; Reference</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abendeclarations.html')" class="blue">Declarations</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_declarations.html')" class="blue">Declaration Statements</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abentypes_and_objects.html')" class="blue">Data Types and Data Objects</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abentypes_statements.html')" class="blue">Declaring Data Types</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abaptypes.html')" class="blue">TYPES</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abaptypes_mesh.html')" class="blue">TYPES - BEGIN OF MESH mesh_type</a>&nbsp;&rarr;&nbsp;
</span>
<A NAME="@@ASSOCIATION@@TYPES@@"></A>
<A NAME="@@ON@@ASSOCIATION@@"></A>
<A NAME="@@USING KEY@@ASSOCIATION@@"></A>
<A NAME="@@AND@@ASSOCIATION@@"></A>
<A NAME="@@=@@ASSOCIATION@@"></A>
<p><span class="h1">
TYPES - association <br><br>
</span></p>
<P>
<a href="javascript:call_link('abaptypes_begin_of_mesh_shortref.html')" class="blue">Quick Reference</a> <br><br>
</P>
<p><span class="h2">
<span class="bold">Syntax</span>
</span></p>
<P>
<span class="qtext">... ASSOCIATION _assoc TO node ON tcomp1 = scomp1 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <i class=bn>[</i>AND tcomp2 = scomp2 <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <i class=bn>[</i>AND ... <i class=bn>]</i><i class=bn>]</i> <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <i class=bn>[</i>USING KEY key_name<i class=bn>]</i> ...</span> <br><br>
</P>
<p><span class="h3">
Extras:
</span></p>
<P>
   <br><A HREF="#!ABAP_ADDITION_1@1@" class="blue"> 1. <span class="qtext">... ON tcomp1 = scomp1 <i
class=bn>[</i>AND tcomp2 = scomp2 <i class=bn>[</i>AND ... <i class=bn>]</i><i class=bn>]</i></span> </A> <br>
<br><A HREF="#!ABAP_ADDITION_2@2@" class="blue"> 2. <span class="qtext">... USING KEY key_name</span> </A> <br><br>
</P>
<p><span class="h4">
Effect
</span></p>
<P>
Defines a mesh association named <span class="qtext">_assoc</span> for a mesh node of a mesh type. The
addition <span class="qtext">ASSOCIATION</span> to <span class="qtext">TYPES</span> can only be used
in the definition of a mesh type between <a href="javascript:call_link('abaptypes_mesh.html')" class="blue"><span class="qtext">TYPES
BEGIN OF MESH</span></a> and <a href="javascript:call_link('abaptypes_mesh.html')" class="blue"><span class="qtext">TYPES END
OF MESH</span></a>. The mesh node for which a mesh association is defined is its start node. The mesh
node <span class="qtext">node</span> specified after <span class="qtext">TO</span> is the target node.
Any node in the current mesh (including the start node) can be specified as the target node <span class="qtext">node</span>. A mesh association with the same source and target node is a
<a href="javascript:call_link('abenself_association_glosry.html')" class="grey" title="Glossary Entry">self association</a> (also known as a reflexive association).
</P>
<P>
The name of a mesh association cannot be longer than 30 characters. It can only contain the letters A-Z, the digits 0-9, and the underscore "_" character, and cannot begin with a digit.
</P>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>
The mesh associations defined for a mesh node are evaluated in
<a href="javascript:call_link('abenmesh_path_usage.html')" class="blue">expressions and statements</a> for
<a href="javascript:call_link('abenabap_meshes.html')" class="blue">meshes</a> in <a href="javascript:call_link('abenmesh_pathes.html')" class="blue">mesh paths</a>.
<br><br></li>
<li>
It is not mandatory to define a target node before the start node to make the target node visible. However,
the Code Completion function of the editor only works properly if the target node is defined before the start node.
<br><br></li>
<li>
The prefix <span class="qtext">_</span> is recommended as the naming convention for mesh associations.
The name that follows this prefix should contain the target node name (in non-reflexive mesh associations). This convention makes it easier to read the <a href="javascript:call_link('abenmesh_path.html')" class="blue">mesh path</a>. <br><br>
<br></li>
</ul>
<p><span class="h3">
<A NAME="!ABAP_ADDITION_1@1@"></A> <span class="bold">Addition 1</span>
</span></p>
<P>
 <span class="qtext">... ON tcomp1 = scomp1 <i class=bn>[</i>AND tcomp2 = scomp2 <i class=bn>[</i>AND ... <i class=bn>]</i><i class=bn>]</i></span>   <br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<P>
For every mesh association, a condition must be specified after <span class="qtext">ON</span> that consists of at least one
<a href="javascript:call_link('abencomparison_glosry.html')" class="grey" title="Glossary Entry">comparison</a> for equality.
Additional comparisons for equality can be added using <span class="qtext">AND</span>. The left operand
<span class="qtext">tcomp</span> of every comparison must be a directly specified column of the target
node. The right operand <span class="qtext">scomp</span> must be a directly specified column of the start node and this column must be compatible with the column of the target node.
</P>
<P>
A mesh association represents the relationship between the start node and target node. It assigns all the rows of the target node that meet the condition to a row of the start node.
</P>
<P>
The mesh associations are type-only attributes and therefore affect the compatibility of mesh types. Mesh associations are evaluated in
<a href="javascript:call_link('abenmesh_pathes.html')" class="blue">mesh paths</a> in expressions and in statements for meshes.
</P>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>
In the <span class="qtext">ON</span> condition, the target node components are on the left and the start
node components are on the right. This is the same as in other statements and expressions for internal tables, where the columns of the table to be searched are always specified on the left.
<br><br></li>
<li>
As a general rule, the target node components specified on the left of an <span class="qtext">ON</span>
condition should be key fields of the table key used for the condition. This ensures the best possible system performance when accessing data. <br><br>
<br></li>
</ul>
<p><span class="h3">
<A NAME="!ABAP_ADDITION_2@2@"></A> <span class="bold">Addition 2</span>
</span></p>
<P>
 <span class="qtext">... USING KEY key_name</span>   <br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<P>
Using the addition <span class="qtext">USING KEY</span>, a table key of the target node can be specified
for the <span class="qtext">ON</span> condition of a mesh association. The target node is the one used in expressions and statements to evaluate
<a href="javascript:call_link('abenabap_meshes.html')" class="blue">meshes</a> for accessing the mesh node:
</P>
<ul class="disc">
<li>
A <a href="javascript:call_link('abensecondary_key_glosry.html')" class="grey" title="Glossary Entry">secondary key</a> using its name
<br><br></li>
<li>
The primary key using its predefined name <span class="qtext">primary_key</span> or using an alias. If the primary key is specified, the target node must be a sorted table or a hashed table.
<br></li>
</ul>
<P>
The name of the table key must be specified directly. In other words, it cannot be specified dynamically
in a data object. If the table key is specified explicitly, the <span class="qtext">ON</span> condition must be defined to allow optimal key access.
</P>
<ul class="disc">
<li>
If a sorted key or the primary key is specified, the conditions specified after <span class="qtext">ON</span> must cover an initial left part of the key fields in the target table.
<br><br></li>
<li>
If a secondary hash key or a primary key of a hashed table is specified, the conditions specified after <span class="qtext">ON</span> must cover all key fields in the target table.
<br></li>
</ul>
<p>
If the addition <span class="qtext">USING KEY</span> is not specified, the primary key is used to access the mesh node, which means that access is not always optimal.
</p>
<p><span class="h4">
Note
</span></p>
<p>
When the mesh association is used in a <a href="javascript:call_link('abenmesh_path.html')" class="blue">mesh path</a>, the table
key specified in the definition of the <span class="qtext">ON</span> condition can be overridden by specifying <span class="qtext">USING KEY</span> in an
<a href="javascript:call_link('abenmesh_path_assoc_cond.html')" class="blue">additional condition</a>. In this case, the <span class="qtext">
ON</span> condition and the additional condition are combined to make one single condition, which must meet the above prerequisites. <br><br>
</p>
<p><span class="h4">
Example
</span></p>
<p>
Declares a mesh type. Some of the internal tables used have secondary keys used with <span class="qtext">USING</span> in the definitions of the mesh associations.
</p>
<p class="qtextml1">
<span class="qtext">
TYPES: <br>&nbsp;&nbsp;t_scarr&nbsp;&nbsp;&nbsp;&nbsp;TYPE HASHED TABLE OF scarr <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; WITH UNIQUE KEY carrid, <br>
&nbsp;&nbsp;t_spfli&nbsp;&nbsp;&nbsp;&nbsp;TYPE HASHED TABLE OF spfli <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; WITH UNIQUE KEY carrid connid <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; WITH NON-UNIQUE SORTED KEY carrid <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; COMPONENTS carrid, <br>
&nbsp;&nbsp;t_sflight&nbsp;&nbsp;TYPE HASHED TABLE OF sflight <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; WITH UNIQUE KEY carrid connid fldate <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; WITH NON-UNIQUE SORTED KEY carrid_connid <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; COMPONENTS carrid connid, <br>
&nbsp;&nbsp;t_sairport TYPE HASHED TABLE OF sairport <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; WITH UNIQUE KEY id, <br>
&nbsp;&nbsp;BEGIN OF MESH t_flights, <br>&nbsp;&nbsp;&nbsp;&nbsp;scarr TYPE t_scarr <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ASSOCIATION _spfli TO spfli <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ON carrid = carrid USING KEY carrid, <br>
&nbsp;&nbsp;&nbsp;&nbsp;spfli TYPE t_spfli <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ASSOCIATION _sflight TO sflight <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ON carrid = carrid AND <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;connid = connid USING KEY carrid_connid <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ASSOCIATION _sairport TO sairport <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ON id = airpfrom, <br>
&nbsp;&nbsp;&nbsp;&nbsp;sflight TYPE t_sflight, <br>&nbsp;&nbsp;&nbsp;&nbsp;sairport TYPE t_sairport, <br>&nbsp;&nbsp;END OF MESH t_flights.
</span>
</p>
<br>
<br>
<br>
<br>
</DIV>
<fieldset style="opacity:0">
<input id="url" type="text" />
</fieldset>
</BODY>

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abaptypes_mesh_association.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:51:30 GMT -->
</html>

<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="EN">
<!-- ABAPINSERT_DBTAB -->

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abapinsert_dbtab.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:51:50 GMT -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="author" content="SAP">
<meta name="description" content="INSERT dbtab">
<meta name="keywords" content="ABAP, Database Table, Insert">
<title>
INSERT dbtab - ABAP Keyword Documentation
</title>
<link rel="icon" href="ABAPIcon.ico" type="image/ico">
<link rel="shortcut icon" href="ABAPIcon.ico">
<LINK rel="stylesheet" href="abap_docu.css" type="text/css">
<script language="javascript" type="text/javascript" src="functions.js"></script>
<script type="text/JavaScript">
function urlToClipboard(id){
 try{ var loc = top.location.href;}
 catch(e){ alert( "URL cannnot be determined" ); return; }
 var field = document.getElementById(id);
 field.focus();
 if ( loc.search( ".htm" ) == -1 && loc.search( ".HTM" ) == -1  ){ loc = loc + "index.htm"; }
 if (   loc.search( "index.html" ) != -1
     || loc.search( "INDEX-2.html" ) != -1 ){
   var off = loc.search( "file=" );
   if ( off == -1  ){
     field.value = loc + "?file=abapinsert_dbtab.htm"; }
   else {
     field.value = loc.substring( 0, off ) + "file=abapinsert_dbtab.htm";
   }
 }
 else {
    field.value = loc; }
 field.setSelectionRange(0, field.value.length);
 var r = confirm( "Copy URL to clipboard?\n\n" + field.value + "\n\nCopy to clipboard does not work in all browsers." );
 if (r == true) {
   try{
     document.execCommand("copy");
   }
     catch(e){ alert( "URL could not be copied to clipboard" ); }
 }
 window.scrollTo(0,0);
}
</script>
</head>
<body>
<div class="all">
<div style="float:right;">
<input type="button" value="URL"
style="font-size:10px; width:30px; height:18px; padding:0; "
onclick="urlToClipboard('url')" title="Copy URL to Clipboard" ></div>
<p>
<input name="query" id="query" value="" type="text" title="Suchbegriff" size="30" maxlength="30" onkeyup="getInput()">&nbsp;
<input type="button" value="Search"
style="font-size:12px; width:50px; height:18px; padding:0"
onclick="call_search('search.html')" title="Search in ABAP Keyword Documentation" >
<hr style="width:100%;height:1px"></p>
<p class="copyright">AS ABAP Release 754, &copy;Copyright 2019 SAP SE. All rights reserved.</p>
<span class="path">
<a href="javascript:call_link('abenabap.html')" class="blue">ABAP Keyword Documentation</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_reference.html')" class="blue">ABAP &#x2212; Reference</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_language_external_data.html')" class="blue">Processing External Data</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_sql.html')" class="blue">ABAP Database Access</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenopensql.html')" class="blue">ABAP SQL</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenopen_sql_writing.html')" class="blue">ABAP SQL - Write Accesses</a>&nbsp;&rarr;&nbsp;
</span>
<A NAME="@@INSERT dbtab@@!ABAP_STATEMENT_OSQL!@@"></A>
<A NAME="@@INTO@@INSERT dbtab@@"></A>
<A NAME="@@VALUES@@INSERT dbtab@@"></A>
<A NAME="@@FROM@@INSERT dbtab@@"></A>
<p><span class="h1">
INSERT dbtab <br><br>
</span></p>
<P>
<a href="javascript:call_link('abapinsert_dbtab_shortref.html')" class="blue">Quick Reference</a> <br><br>
</P>
<p><span class="h2">
<span class="bold">Syntax</span>
</span></p>
<P>
<span class="qtext">INSERT <i class=bn>{</i> INTO <span class="lnkgrey">target</span> <i class=bn>[</i><span class="lnkgrey">connection</span><i class=bn>]</i> VALUES
<a href="javascript:call_link('abapinsert_source.html')" class="blue">wa</a> <i class=bn>}</i></span> <br><span class="qtext">
&nbsp;&nbsp;&nbsp;&nbsp; <i class=bn>|</i> <i class=bn>{</i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="lnkgrey">target</span> <i class=bn>[</i><span class="lnkgrey">connection</span><i class=bn>]</i> FROM&nbsp;&nbsp;
<a href="javascript:call_link('abapinsert_source.html')" class="blue">wa</a> <i class=bn>}</i></span> <br><span class="qtext">
&nbsp;&nbsp;&nbsp;&nbsp; <i class=bn>|</i> <i class=bn>{</i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="lnkgrey">target</span> <i class=bn>[</i><span class="lnkgrey">connection</span><i class=bn>]</i> FROM&nbsp;&nbsp;
<a href="javascript:call_link('abapinsert_source.html')" class="blue">TABLE itab</a> <i class=bn>}</i></span> <br><span class="qtext">
&nbsp;&nbsp;&nbsp;&nbsp; <i class=bn>|</i> <i class=bn>{</i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="lnkgrey">target</span> <i
class=bn>[</i><span class="lnkgrey">connection</span><i class=bn>]</i> FROM&nbsp;&nbsp; <a href="javascript:call_link('abapinsert_source.html')" class="blue">( SELECT subquery_clauses <i
class=bn>[</i>UNION ...<i class=bn>]</i> )</a> <i class=bn>}</i>.</span> <br><br>
</P>
<p><span class="h2">
Variants:
</span></p>
<P>
   <A HREF="#!ABAP_VARIANT_1@1@" class="blue"> 1. <span class="qtext">INSERT INTO target VALUES wa.</span> </A> <br>
<br><A HREF="#!ABAP_VARIANT_2@2@" class="blue"> 2. <span class="qtext">INSERT target FROM wa.</span> </A> <br>
<br><A HREF="#!ABAP_VARIANT_3@3@" class="blue"> 3. <span class="qtext">INSERT target FROM TABLE itab.</span> </A> <br>
<br><A HREF="#!ABAP_VARIANT_4@4@" class="blue"> 4. <span class="qtext">INSERT target FROM ( SELECT subquery_clauses <i class=bn>[</i>UNION ...<i class=bn>]</i> ).</span> </A> <br><br>
</P>
<p><span class="h4">
Effect
</span></p>
<P>
The <a href="javascript:call_link('abenopen_sql_glosry.html')" class="grey" title="Glossary Entry">ABAP SQL</a> statement <span class="qtext">
INSERT</span> inserts one or more rows in the database table or classic view specified in <span class="lnkgrey"><span class="qtext">
target</span></span>. The inserted rows are taken from a work area <a href="javascript:call_link('abapinsert_source.html')" class="blue"><span class="qtext">
wa</span></a>, an internal table <a href="javascript:call_link('abapinsert_source.html')" class="blue"><span class="qtext">itab</span></a>,
or the results set of an embedded subquery <a href="javascript:call_link('abapinsert_source.html')" class="blue"><span class="qtext">SELECT
subquery_clauses</span></a>. The addition <span class="lnkgrey"><span class="qtext">connection</span></span> can be used to specify a
<a href="javascript:call_link('abensecondary_db_connection_glosry.html')" class="grey" title="Glossary Entry">secondary connection</a>.
</P>
<P>
If <span class="qtext">VALUES</span> is used, there must be an <span class="qtext">INTO</span> between
<span class="qtext">INSERT</span> and <span class="lnkgrey"><span class="qtext">target</span></span>. If <span class="qtext">FROM</span> is used, <span class="qtext">INTO</span> must not be specified. <br><br>
</P>
<P>
<span class="bold">System Fields</span> <br><br>The statement <span class="qtext">INSERT</span> sets
the values of the system fields <span class="qtext">sy-subrc</span> (see below) and <span class="qtext">sy-dbcnt</span>.
<span class="qtext">sy-dbcnt</span> is set to the number of rows that are inserted. If an overflow occurs
because the number or rows is greater than 2,147,483,647, <span class="qtext">sy-dbcnt</span> is set to -1. If <span class="qtext">sy-subrc</span> is 2 when inserting a
<a href="javascript:call_link('abenlob_handle_structure_glosry.html')" class="grey" title="Glossary Entry">LOB handle structure</a> with a component for
<a href="javascript:call_link('abenwriter_stream_glosry.html')" class="grey" title="Glossary Entry">writer streams</a>, <span class="qtext">sy-dbcnt</span> is also set to -1 (meaning undefined). <br><br>
</P>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>
The inserted rows are included permanently in the table in the next
<a href="javascript:call_link('abendatabase_commit_glosry.html')" class="grey" title="Glossary Entry">database commit</a>. Up until this point, they can still be removed by a
<a href="javascript:call_link('abendatabase_rollback_glosry.html')" class="grey" title="Glossary Entry">database rollback</a>. The current
<a href="javascript:call_link('abendb_isolation.html')" class="blue">isolation level</a> defines whether the inserted data can be read into other
<a href="javascript:call_link('abendatabase_luw_glosry.html')" class="grey" title="Glossary Entry">database LUWs</a> before or only after the database commit.
<br><br></li>
<li>
The statement <span class="qtext">INSERT</span> sets a
<a href="javascript:call_link('abendatabase_lock_glosry.html')" class="grey" title="Glossary Entry">database lock</a> as an
<a href="javascript:call_link('abenexclusive_lock_glosry.html')" class="grey" title="Glossary Entry">exclusive lock</a> until the next database commit or rollback. If used incorrectly, this can produce a
<a href="javascript:call_link('abendeadlock_glosry.html')" class="grey" title="Glossary Entry">deadlock</a>.
<br><br></li>
<li>
The number of rows that can be inserted in the tables of a database within a
<a href="javascript:call_link('abendatabase_luw_glosry.html')" class="grey" title="Glossary Entry">database LUW</a> is limited, since a database system can only manage a limited amount of locks and data in the rollback area.
<br><br></li>
<li>
Once rows have been inserted in a <a href="javascript:call_link('abenddic_database_tables_gtt.html')" class="blue">global temporary table</a>, this table must be emptied again explicitly before the next implicit
<a href="javascript:call_link('abendatabase_commit_glosry.html')" class="grey" title="Glossary Entry">database commit</a> using
the ABAP SQL statement <a href="javascript:call_link('abapdelete_dbtab.html')" class="blue"><span class="qtext">DELETE FROM</span></a> without <span class="qtext">WHERE</span> or using an explicit
<a href="javascript:call_link('abendb_commit.html')" class="blue">database commit</a> or <a href="javascript:call_link('abendb_rollback.html')" class="blue">database rollback</a>. If not, the runtime error COMMIT_GTT_ERROR is produced.
<br><br></li>
<li>
The statement <span class="qtext">INSERT</span> cannot be applied to the system table TRDIR. <br><br>
<br></li>
</ul>
<p><span class="h2">
<A NAME="!ABAP_VARIANT_1@1@"></A> <span class="bold">Variant 1</span>
</span></p>
<P>
<span class="qtext">INSERT INTO target VALUES wa.</span> <br><br><br><!-- /A -->
</P>
<p><span class="h2">
<A NAME="!ABAP_VARIANT_2@2@"></A> <span class="bold">Variant 2</span>
</span></p>
<P>
<span class="qtext">INSERT target FROM wa.</span> <br><br><br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<P>
These two variants insert a single row contained in a work area <a href="javascript:call_link('abapinsert_source.html')" class="blue"><span class="qtext">
wa</span></a>. Both variants display the same behavior and only their syntax is different. <br><br>
</P>
<P>
<span class="bold">System Fields</span> <br><br>These variants of the statement <span class="qtext">INSERT</span> set the value of the system field <span class="qtext">sy-subrc</span> as follows: <br><br>
</P>
<table border>
<tr>
<td><span class="qtext"><span class="bold">sy-subrc</span></span></td>
<td><span class="bold">Meaning</span></td>
</tr>
<tr>
<td>0</td>
<td>The row specified in the work area in <a href="javascript:call_link('abapinsert_source.html')" class="blue"><span class="qtext">wa</span></a> was inserted.</td>
</tr>
<tr>
<td>2</td>
<td>When a <a href="javascript:call_link('abenlob_handle_structure_glosry.html')" class="grey" title="Glossary Entry">LOB handle structure</a> was specified with a component for
<a href="javascript:call_link('abenwriter_stream_glosry.html')" class="grey" title="Glossary Entry">writer streams</a>, the non-LOB
handle components were not yet written to the database, but instead are passed when the stream is closed,
at the latest. Whether this situation occurs or not depends on the database. See <span class="lnkgrey">LOB handles</span>.</td>
</tr>
<tr>
<td>4</td>
<td>The row specified in the work area in <a href="javascript:call_link('abapinsert_source.html')" class="blue"><span class="qtext">wa</span></a> was not inserted, since a row with the same
<a href="javascript:call_link('abenprimary_key_glosry.html')" class="grey" title="Glossary Entry">primary key</a> or a unique
<a href="javascript:call_link('abensecondary_index_glosry.html')" class="grey" title="Glossary Entry">secondary index</a> exists in the database table.</td>
</tr>
</table><br>
<p><span class="h4">
Example
</span></p>
<p>
Inserts two individual rows in a database table.
</p>
<p class="qtextml1">
<span class="qtext">
DELETE FROM demo_expressions. <br> <br>DATA wa TYPE demo_expressions. <br> <br>wa = VALUE #( id = 'X' num1 = 111 ). <br>
INSERT INTO demo_expressions VALUES wa. <br> <br>wa = VALUE #( id = 'Y' num1 = 222 ). <br>INSERT demo_expressions FROM wa.
</span>
</p>
<p>
A <a href="javascript:call_link('abenhost_expression_glosry.html')" class="grey" title="Glossary Entry">host expression</a> with
the value operator <a href="javascript:call_link('abenconstructor_expression_value.html')" class="blue"><span class="qtext">VALUE</span></a> can be used instead of an explicit work area.
</p>
<p class="qtextml1">
<span class="qtext">
DELETE FROM demo_expressions. <br> <br>INSERT INTO demo_expressions VALUES @( VALUE #( id = 'X' num1 = 111 ) ). <br> <br>INSERT demo_expressions FROM @( VALUE #( id = 'X' num1 = 111 ) ). <br><br>
</span>
</p>
<p><span class="h2">
<A NAME="!ABAP_VARIANT_3@3@"></A> <span class="bold">Variant 3</span>
</span></p>
<P>
<span class="qtext">INSERT target FROM TABLE itab.</span> <br><br><br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<P>
This variant inserts the rows contained in an internal table <a href="javascript:call_link('abapinsert_source.html')" class="blue"><span class="qtext">itab</span></a>.
</P>
<p><span class="h4">
Note
</span></p>
<P>
There is no syntax variant with <span class="qtext">VALUES</span> for internal tables. <br><br>
</P>
<P>
<span class="bold">System Fields</span> <br><br>This variant of the statement <span class="qtext">INSERT</span> sets the value of the system field <span class="qtext">sy-subrc</span> as follows: <br><br>
</P>
<table border>
<tr>
<td><span class="qtext"><span class="bold">sy-subrc</span></span></td>
<td><span class="bold">Meaning</span></td>
</tr>
<tr>
<td>0</td>
<td>All rows of the internal table <a href="javascript:call_link('abapinsert_source.html')" class="blue"><span class="qtext">itab</span></a> were inserted or the internal table is empty.</td>
</tr>
<tr>
<td>4</td>
<td>The addition <a href="javascript:call_link('abapinsert_source.html')" class="blue"><span class="qtext">ACCEPTING DUPLICATE KEYS</span></a> is specified and not all rows of the internal table were inserted, since a row with the same
<a href="javascript:call_link('abenprimary_key_glosry.html')" class="grey" title="Glossary Entry">primary key</a> or a unique
<a href="javascript:call_link('abensecondary_index_glosry.html')" class="grey" title="Glossary Entry">secondary index</a> exists in the database table.</td>
</tr>
</table><br>
<p><span class="h4">
Example
</span></p>
<p>
Inserts two individual rows in a database table.
</p>
<p class="qtextml1">
<span class="qtext">
DELETE FROM demo_expressions. <br> <br>DATA itab TYPE TABLE OF demo_expressions. <br> <br>itab = VALUE #( ( id = 'X' num1 = 111 ) <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;( id = 'Y' num1 = 222 ) ). <br>INSERT demo_expressions FROM TABLE itab.
</span>
</p>
<p>
A <a href="javascript:call_link('abenhost_expression_glosry.html')" class="grey" title="Glossary Entry">host expression</a> with
the value operator <a href="javascript:call_link('abenconstructor_expression_value.html')" class="blue"><span class="qtext">VALUE</span></a> can be used instead of an explicit internal table.
</p>
<p class="qtextml1">
<span class="qtext">
DELETE FROM demo_expressions. <br> <br>INSERT demo_expressions <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FROM TABLE @( VALUE #( ( id = 'X' num1 = 111 ) <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;( id = 'Y' num1 = 222 ) ) ). <br><br>
</span>
</p>
<p><span class="h2">
<A NAME="!ABAP_VARIANT_4@4@"></A> <span class="bold">Variant 4</span>
</span></p>
<P>
<span class="qtext">INSERT target FROM ( SELECT subquery_clauses <i class=bn>[</i>UNION ...<i class=bn>]</i> ).</span> <br><br><br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<P>
This variant inserts the rows of the <a href="javascript:call_link('abapinsert_from_select.html')" class="blue">result set</a> of an embedded
<a href="javascript:call_link('abensubquery_glosry.html')" class="grey" title="Glossary Entry">subquery</a> <a href="javascript:call_link('abapinsert_source.html')" class="blue">
<span class="qtext">SELECT subquery_clauses</span></a>, where multiple result sets can be joined with <a href="javascript:call_link('abapunion.html')" class="blue"><span class="qtext">UNION</span></a>. <br><br>
</P>
<P>
<span class="bold">System Fields</span> <br><br>This variant of the statement <span class="qtext">INSERT</span> sets the value of the system field <span class="qtext">sy-subrc</span> as follows: <br><br>
</P>
<table border>
<tr>
<td><span class="qtext"><span class="bold">sy-subrc</span></span></td>
<td><span class="bold">Meaning</span></td>
</tr>
<tr>
<td>0</td>
<td>All rows of the results set of the embedded subquery were inserted.</td>
</tr>
<tr>
<td>4</td>
<td>The results set of the embedded subquery is empty and no rows were inserted.</td>
</tr>
</table><br>
<p><span class="h4">
Note
</span></p>
<p>
If a row could not be inserted when the results set of the embedded subquery was inserted (since a row
with the same primary key or the same unique secondary index exists), a catchable exception of the class CX_SY_OPEN_SQL_DB is always raised and the system field <span class="qtext">sy-subrc</span> is not set.
</p>
<p><span class="h4">
Example
</span></p>
<p>
Inserts all rows of the database table DEMO_JOIN1 in the table DEMO_JOIN3.
</p>
<p class="qtextml1">
<span class="qtext">
DELETE FROM demo_join1. <br>INSERT demo_join1 <br>&nbsp;&nbsp;FROM TABLE @( VALUE #( ( a = 'a1' b = 'b1' c = 'c1' d = 'd1' ) <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( a = 'a2' b = 'b2' c = 'c2' d = 'd2' ) <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( a = 'a3' b = 'b3' c = 'd3' d = 'd3' ) ) ). <br>
 <br>DELETE FROM demo_join3. <br>INSERT demo_join3&nbsp;&nbsp;FROM ( SELECT * FROM demo_join1 ). <br> <br>
SELECT * <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FROM demo_join3 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; INTO TABLE @DATA(result). <br> <br>cl_demo_output=>display( result ).
</span>
</p>
<br>
<br>
<!-- POSTFIX --><span class="h4">Continue</span><br>
<a href="javascript:call_link('abapinsert_source.html')" class="blue">INSERT dbtab - source</a><br>
<br>
<br>
</DIV>
<fieldset style="opacity:0">
<input id="url" type="text" />
</fieldset>
</BODY>

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abapinsert_dbtab.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:51:50 GMT -->
</html>

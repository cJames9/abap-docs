<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="EN">
<!-- ABENSQL_SIMPLE_CASE -->

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abensql_simple_case.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:52:51 GMT -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="author" content="SAP">
<meta name="description" content="sql_exp - sql_simple_case">
<title>
sql_exp - sql_simple_case - ABAP Keyword Documentation
</title>
<link rel="icon" href="ABAPIcon.ico" type="image/ico">
<link rel="shortcut icon" href="ABAPIcon.ico">
<LINK rel="stylesheet" href="abap_docu.css" type="text/css">
<script language="javascript" type="text/javascript" src="functions.js"></script>
<script type="text/JavaScript">
function urlToClipboard(id){
 try{ var loc = top.location.href;}
 catch(e){ alert( "URL cannnot be determined" ); return; }
 var field = document.getElementById(id);
 field.focus();
 if ( loc.search( ".htm" ) == -1 && loc.search( ".HTM" ) == -1  ){ loc = loc + "index.htm"; }
 if (   loc.search( "index.html" ) != -1
     || loc.search( "INDEX-2.html" ) != -1 ){
   var off = loc.search( "file=" );
   if ( off == -1  ){
     field.value = loc + "?file=abensql_simple_case.htm"; }
   else {
     field.value = loc.substring( 0, off ) + "file=abensql_simple_case.htm";
   }
 }
 else {
    field.value = loc; }
 field.setSelectionRange(0, field.value.length);
 var r = confirm( "Copy URL to clipboard?\n\n" + field.value + "\n\nCopy to clipboard does not work in all browsers." );
 if (r == true) {
   try{
     document.execCommand("copy");
   }
     catch(e){ alert( "URL could not be copied to clipboard" ); }
 }
 window.scrollTo(0,0);
}
</script>
</head>
<body>
<div class="all">
<div style="float:right;">
<input type="button" value="URL"
style="font-size:10px; width:30px; height:18px; padding:0; "
onclick="urlToClipboard('url')" title="Copy URL to Clipboard" ></div>
<p>
<input name="query" id="query" value="" type="text" title="Suchbegriff" size="30" maxlength="30" onkeyup="getInput()">&nbsp;
<input type="button" value="Search"
style="font-size:12px; width:50px; height:18px; padding:0"
onclick="call_search('search.html')" title="Search in ABAP Keyword Documentation" >
<hr style="width:100%;height:1px"></p>
<p class="copyright">AS ABAP Release 754, &copy;Copyright 2019 SAP SE. All rights reserved.</p>
<span class="path">
<a href="javascript:call_link('abenabap.html')" class="blue">ABAP Keyword Documentation</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_reference.html')" class="blue">ABAP &#x2212; Reference</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_language_external_data.html')" class="blue">Processing External Data</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_sql.html')" class="blue">ABAP Database Access</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenopensql.html')" class="blue">ABAP SQL</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenopen_sql_operands.html')" class="blue">ABAP SQL - Operands and Expressions</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abapsql_expr.html')" class="blue">ABAP SQL - SQL Expressions sql_exp</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abensql_case.html')" class="blue">sql_exp - sql_case</a>&nbsp;&rarr;&nbsp;
</span>
<p><span class="h1">
sql_exp - sql_simple_case
</span></p>
<A name="@@ITOC@@ABENSQL_SIMPLE_CASE_1"></A>
<p><span class="h2">
Syntax
</span></p>
<p>
<span class="qtext">... CASE sql_exp <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; WHEN sql_exp1 THEN result1 <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<i class=bn>[</i>WHEN sql_exp2 THEN result2<i class=bn>]</i> <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ... <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<i class=bn>[</i>ELSE resultn<i class=bn>]</i> <br>&nbsp;&nbsp;&nbsp;&nbsp;END ...</span>
</p>
<p><span class="h4">
Effect
</span></p>
<p>
Simple <a href="javascript:call_link('abensql_case.html')" class="blue">case distinction</a> (simple case) in ABAP SQL. This
SQL expression compares the values of the operand <span class="qtext">sql_exp</span> with the operands
<span class="qtext">sql_exp1</span>, <span class="qtext">sql_exp2</span>, and so on, and produces the
operand <span class="qtext">result</span> as the result after the first <span class="qtext">THEN</span>
for which the comparison is true. If no matches are found, the <span class="qtext">result</span> specified after <span class="qtext">ELSE</span> is selected. If <span class="qtext">ELSE</span> is not specified, the result is the
<a href="javascript:call_link('abennull_value_glosry.html')" class="grey" title="Glossary Entry">zero value</a>.
</p>
<p>
The operands <span class="qtext">sql_exp</span>, <span class="qtext">sql_exp1</span>, <span class="qtext">sql_exp2</span>,
and so on, and the results <span class="qtext">result1</span>, <span class="qtext">result2</span>, and so on can be any
<a href="javascript:call_link('abapsql_expr.html')" class="blue">SQL expressions</a>. They can have any dictionary types except ACCP, DF16_SCL (obsolete), DF34_SCL (obsolete), LCHR, LRAW, PREC, RAWSTRING, STRING, and GEOM_EWKB.
</p>
<p>
The data type of the operand <span class="qtext">sql_exp</span> must be
<a href="javascript:call_link('abenwhere_logexp_compare_types.html')" class="blue">comparable</a> with the data types of the
operands <span class="qtext">sql_exp1</span>, <span class="qtext">sql_exp2</span>, and so on. If this
is not the case, a statically specified type raises a syntax error and a dynamically specified type
raises an exception of the class CX_SY_DYNAMIC_OSQL_SEMANTICS. The results must also be compatible to
produce a common result type: The data types <span class="qtext">result1</span>, <span class="qtext">result2</span>,
... must be either the same or the data type must be able to fully represent the value of all other data types. The result has the dictionary type of the entry with the greatest value range.
</p>
<p>
If an operand of a comparison has the <a href="javascript:call_link('abennull_value_glosry.html')" class="grey" title="Glossary Entry">null value</a>, the result of this comparison is unknown.
</p>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>The SQL standard dictates the result of a case distinction, but not the order in which the operands
are evaluated. Potentially, the result may even be evaluated before the associated condition. This means that any expressions specified as operands must have no side effects and must not be dependent on each other.</li>
</ul>
<ul class="disc">
<li>On the <a href="javascript:call_link('abenhana_database_glosry.html')" class="grey" title="Glossary Entry">SAP HANA database</a>,
operands are evaluated in parallel for reasons of optimization. The order in which the operands are
evaluated is undefined. If an exception is raised when am operand is evaluated, the entire case distinction
is canceled. Here, it does not matter which conditions apply and the order in which they are noted. From this reason, it is advisable not to use any exceptions in expressions specified as operands. More information can be found in the
<a href="https://help.sap.com/viewer/4fe29514fd584807ac9f2a04f6754767/2.0.03/en-US" target="blank" class="blue">HANA-specific SQL</a> documentation.</li>
</ul>
<ul class="disc">
<li>If the case distinction is evaluated in the table buffer, the order of processing is preserved and there is no crash when an operand is evaluated whose condition is not true.</li>
</ul>
<ul class="disc">
<li>If an operand of a simple <span class="qtext">CASE</span> expression is an SQL expression, the syntax check is performed in a
<a href="javascript:call_link('abenopensql_strict_mode_740_sp08.html')" class="blue">strict mode</a> that handles the statement more strictly than the regular syntax check.</li>
</ul>
<p><span class="h4">
Example
</span></p>
<p>
Converts the distances specified in miles to kilometers. The conversion factor is specified as the host
variable, whose value has already been calculated using an SQL expression in a <span class="qtext">SELECT</span>
statement. This task could also be performed more generally in a subquery of a <a href="javascript:call_link('abapwith.html')" class="blue"><span class="qtext">WITH</span></a> statement.
</p>
<p class="qtextml1">
<span class="qtext">
SELECT SINGLE <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FROM t006 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FIELDS division( zaehl,nennr * 1000,2 ) AS factor <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; WHERE msehi = 'MI' <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; INTO @DATA(factor). <br>
 <br>SELECT FROM spfli <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FIELDS carrid, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;connid, <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cityfrom, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cityto, <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CASE distid <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; WHEN 'MI' THEN distance * @factor <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ELSE distance <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;END AS distance, <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 'KM' AS distid <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; WHERE distid = 'KM' OR distid = 'MI' <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ORDER BY carrid, connid <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; INTO TABLE @DATA(result). <br> <br>cl_demo_output=>display( result ).
</span>
</p>
<p><span class="h4">
Executable Example
</span></p>
<p>
<a href="javascript:call_link('abensql_expr_case_string_abexa.html')" class="blue">SQL expressions, simple <span class="qtext">CASE</span></a>
</p>
<br>
<br>
<!-- POSTFIX --><span class="h4">Continue</span><br>
<img src="exa.gif" alt="Example" title="Example">
<a href="javascript:call_link('abensql_expr_case_string_abexa.html')" class="blue">SQL Expressions, Simple CASE</a><br>
<br>
<br>
</DIV>
<fieldset style="opacity:0">
<input id="url" type="text" />
</fieldset>
</BODY>

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abensql_simple_case.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:52:51 GMT -->
</html>

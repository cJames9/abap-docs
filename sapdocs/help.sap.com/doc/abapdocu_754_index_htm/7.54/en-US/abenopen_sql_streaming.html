<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="EN">
<!-- ABENOPEN_SQL_STREAMING -->

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abenopen_sql_streaming.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:51:39 GMT -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="author" content="SAP">
<meta name="description" content="ABAP SQL - Streaming">
<meta name="keywords" content="ABAP, Streaming, ABAP SQL">
<title>
ABAP SQL - Streaming - ABAP Keyword Documentation
</title>
<link rel="icon" href="ABAPIcon.ico" type="image/ico">
<link rel="shortcut icon" href="ABAPIcon.ico">
<LINK rel="stylesheet" href="abap_docu.css" type="text/css">
<script language="javascript" type="text/javascript" src="functions.js"></script>
<script type="text/JavaScript">
function urlToClipboard(id){
 try{ var loc = top.location.href;}
 catch(e){ alert( "URL cannnot be determined" ); return; }
 var field = document.getElementById(id);
 field.focus();
 if ( loc.search( ".htm" ) == -1 && loc.search( ".HTM" ) == -1  ){ loc = loc + "index.htm"; }
 if (   loc.search( "index.html" ) != -1
     || loc.search( "INDEX-2.html" ) != -1 ){
   var off = loc.search( "file=" );
   if ( off == -1  ){
     field.value = loc + "?file=abenopen_sql_streaming.htm"; }
   else {
     field.value = loc.substring( 0, off ) + "file=abenopen_sql_streaming.htm";
   }
 }
 else {
    field.value = loc; }
 field.setSelectionRange(0, field.value.length);
 var r = confirm( "Copy URL to clipboard?\n\n" + field.value + "\n\nCopy to clipboard does not work in all browsers." );
 if (r == true) {
   try{
     document.execCommand("copy");
   }
     catch(e){ alert( "URL could not be copied to clipboard" ); }
 }
 window.scrollTo(0,0);
}
</script>
</head>
<body>
<div class="all">
<div style="float:right;">
<input type="button" value="URL"
style="font-size:10px; width:30px; height:18px; padding:0; "
onclick="urlToClipboard('url')" title="Copy URL to Clipboard" ></div>
<p>
<input name="query" id="query" value="" type="text" title="Suchbegriff" size="30" maxlength="30" onkeyup="getInput()">&nbsp;
<input type="button" value="Search"
style="font-size:12px; width:50px; height:18px; padding:0"
onclick="call_search('search.html')" title="Search in ABAP Keyword Documentation" >
<hr style="width:100%;height:1px"></p>
<p class="copyright">AS ABAP Release 754, &copy;Copyright 2019 SAP SE. All rights reserved.</p>
<span class="path">
<a href="javascript:call_link('abenabap.html')" class="blue">ABAP Keyword Documentation</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_reference.html')" class="blue">ABAP &#x2212; Reference</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_language_external_data.html')" class="blue">Processing External Data</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_sql.html')" class="blue">ABAP Database Access</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenopensql.html')" class="blue">ABAP SQL</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenstreams_locators.html')" class="blue">ABAP SQL - Streaming and Locators</a>&nbsp;&rarr;&nbsp;
</span>
<A NAME="@@CL_ABAP_DB_C_READER@@!ABAP_CLASS!@@"></A>
<A NAME="@@CL_ABAP_DB_X_READER@@!ABAP_CLASS!@@"></A>
<A NAME="@@CL_ABAP_DB_C_WRITER@@!ABAP_CLASS!@@"></A>
<A NAME="@@CL_ABAP_DB_X_WRITER@@!ABAP_CLASS!@@"></A>
<A NAME="@@IF_ABAP_DB_READER@@!ABAP_INTERFACE!@@"></A>
<A NAME="@@IF_ABAP_DB_WRITER@@!ABAP_INTERFACE!@@"></A>
<p><span class="h1">
ABAP SQL - Streaming
</span></p>
<p>
ABAP SQL supports <a href="javascript:call_link('abenstreaming_glosry.html')" class="grey" title="Glossary Entry">streaming</a> for <a href="javascript:call_link('abenlob_glosry.html')" class="grey" title="Glossary Entry">LOBs</a> in data sources.
</p>
<ul class="disc">
<li><A HREF="#@@ITOC@@ABENOPEN_SQL_STREAMING_1" class="blue">System Classes and System Interfaces for Reader and Writer Streams</A></li>
</ul>
<ul class="disc">
<li><A HREF="#@@ITOC@@ABENOPEN_SQL_STREAMING_2" class="blue">Important Methods</A></li>
</ul>
<ul class="disc">
<li><A HREF="#@@ITOC@@ABENOPEN_SQL_STREAMING_3" class="blue">Data Sources and Data Sinks</A></li>
</ul>
<ul class="disc">
<li><A HREF="#@@ITOC@@ABENOPEN_SQL_STREAMING_4" class="blue">Creating Data Streams for LOBs</A></li>
</ul>
<ul class="circlem2">
<li><A HREF="#@@ITOC@@ABENOPEN_SQL_STREAMING_5" class="blue">Reader Streams</A></li>
</ul>
<ul class="circlem2">
<li><A HREF="#@@ITOC@@ABENOPEN_SQL_STREAMING_6" class="blue">Writer Streams</A></li>
</ul>
<ul class="disc">
<li><A HREF="#@@ITOC@@ABENOPEN_SQL_STREAMING_7" class="blue">Closing Data Streams for LOBs</A></li>
</ul>
<ul class="disc">
<li><A HREF="#@@ITOC@@ABENOPEN_SQL_STREAMING_8" class="blue">Examples</A></li>
</ul>
<A name="@@ITOC@@ABENOPEN_SQL_STREAMING_1"></A>
<p><span class="h2">
System Classes and System Interfaces for Reader and Writer Streams
</span></p>
<p>
The <a href="javascript:call_link('abensystem_class_glosry.html')" class="grey" title="Glossary Entry">system classes</a> for the various types of
<a href="javascript:call_link('abendata_stream_glosry.html')" class="grey" title="Glossary Entry">data streams</a> are:
</p>
<ul class="disc">
<li><span class="lnkgrey">CL_ABAP_DB_C_READER</span> for character-like reader streams. The
<a href="javascript:call_link('abendata_source_glosry.html')" class="grey" title="Glossary Entry">data source</a> is a <a href="javascript:call_link('abenclob_glosry.html')" class="grey" title="Glossary Entry">CLOB</a>.</li>
</ul>
<ul class="disc">
<li><span class="lnkgrey">CL_ABAP_DB_X_READER</span> for binary reader streams. The
<a href="javascript:call_link('abendata_source_glosry.html')" class="grey" title="Glossary Entry">data source</a> is a <a href="javascript:call_link('abenblob_glosry.html')" class="grey" title="Glossary Entry">BLOB</a>.</li>
</ul>
<ul class="disc">
<li><span class="lnkgrey">CL_ABAP_DB_C_WRITER</span> for character-like writer streams. The
<a href="javascript:call_link('abendata_source_glosry.html')" class="grey" title="Glossary Entry">data sink</a> is a <a href="javascript:call_link('abenclob_glosry.html')" class="grey" title="Glossary Entry">CLOB</a>.</li>
</ul>
<ul class="disc">
<li><span class="lnkgrey">CL_ABAP_DB_X_WRITER</span> for binary writer streams. The
<a href="javascript:call_link('abendata_source_glosry.html')" class="grey" title="Glossary Entry">data sink</a> is a <a href="javascript:call_link('abenblob_glosry.html')" class="grey" title="Glossary Entry">BLOB</a>.</li>
</ul>
<p>
The special interfaces
</p>
<ul class="disc">
<li><span class="lnkgrey">IF_ABAP_DB_READER</span></li>
</ul>
<ul class="disc">
<li><span class="lnkgrey">IF_ABAP_DB_WRITER</span></li>
</ul>
<p>
are used to access the reader and writer streams independently of the
<a href="javascript:call_link('abenstream_type_glosry.html')" class="grey" title="Glossary Entry">stream
type</a>. For further resource-independent classes and interfaces, as well as for the hierarchy of the object types, see the figure and explanation under
<a href="javascript:call_link('abenstreaming.html')" class="blue">Streaming</a>.
</p>
<A name="@@ITOC@@ABENOPEN_SQL_STREAMING_2"></A>
<p><span class="h2">
Important Methods
</span></p>
<p>
The methods for streaming in ABAP SQL are the same as for general <a href="javascript:call_link('abenstreaming.html')" class="blue">streaming</a>.
</p>
<A name="@@ITOC@@ABENOPEN_SQL_STREAMING_3"></A>
<p><span class="h2">
Data Sources and Data Sinks
</span></p>
<p>
Any <a href="javascript:call_link('abenlob_glosry.html')" class="grey" title="Glossary Entry">LOBs</a> declared in database tables can be considered as data sources or data sinks. The instances of the classes above are
<a href="javascript:call_link('abendata_stream_glosry.html')" class="grey" title="Glossary Entry">data streams</a> joined to LOBs. These are
<a href="javascript:call_link('abenlob_handle_glosry.html')" class="grey" title="Glossary Entry">LOB handles</a> and implement the
<a href="javascript:call_link('abenlob_interfaces.html')" class="blue">corresponding interfaces</a>. Their use in ABAP SQL involves reference variables that point to the relevant LOB handles.
</p>
<A name="@@ITOC@@ABENOPEN_SQL_STREAMING_4"></A>
<p><span class="h2">
Creating Data Streams for LOBs
</span></p>
<A name="@@ITOC@@ABENOPEN_SQL_STREAMING_5"></A>
<p><span class="h3">
Reader Streams
</span></p>
<p>
A reader stream that is bound to an LOB (that is, an instance of the class CL_ABAP_DB_C_READER or CL_ABAP_DB_X_READER)
can only be created if, in the <a href="javascript:call_link('abapinto_clause.html')" class="blue"><span class="qtext">INTO</span></a>
clause of the statement <a href="javascript:call_link('abapinto_clause.html')" class="blue"><span class="qtext">SELECT</span></a>, a LOB from the results set is assigned to a reference variable for a reader stream.
</p>
<p>
Refer to <a href="javascript:call_link('abenselect_into_lob_handles.html')" class="blue"><span class="qtext">SELECT</span> - LOB Handles</a>.
</p>
<A name="@@ITOC@@ABENOPEN_SQL_STREAMING_6"></A>
<p><span class="h3">
Writer Streams
</span></p>
<p>
A writer stream that is bound to an LOB (that is, an instance of the class CL_ABAP_DB_C_WRITER or CL_ABAP_DB_X_WRITER)
can only be created if a reference variable for a reader stream is specified as a source in the statements
<a href="javascript:call_link('abapinsert_dbtab.html')" class="blue"><span class="qtext">INSERT</span></a>, <a href="javascript:call_link('abapupdate.html')" class="blue">
<span class="qtext">UPDATE</span></a>, or <a href="javascript:call_link('abapmodify_dbtab.html')" class="blue"><span class="qtext">MODIFY</span></a>. It is not possible to specify more general reference variables.
</p>
<p>
See <span class="lnkgrey"><span class="qtext">INSERT</span>, <span class="qtext">UPDATE</span>, <span class="qtext">MODIFY dbtab</span> - LOB Handles</span>.
</p>
<A name="@@ITOC@@ABENOPEN_SQL_STREAMING_7"></A>
<p><span class="h2">
Closing Data Streams for LOBs
</span></p>
<p>
Since the number of data streams open at one time is limited to 16, they should be closed as soon as
possible using the CLOSE method. Regardless of this, reader streams are closed implicitly at the end
of a <span class="qtext">SELECT</span> loop and at the end of a database LUW. An open writer stream can be closed implicitly only by using a
<a href="javascript:call_link('abendatabase_rollback_glosry.html')" class="grey" title="Glossary Entry">database rollback</a>.
<a href="javascript:call_link('abendatabase_commit_glosry.html')" class="grey" title="Glossary Entry">Database commit</a>s for open writer streams, on the other hand, produce the runtime error <span class="qtext">COMMIT_STREAM_ERROR</span>.
</p>
<A name="@@ITOC@@ABENOPEN_SQL_STREAMING_8"></A>
<p><span class="h2">
Examples
</span></p>
<p><span class="h4">
Executable Examples
</span></p>
<ul class="disc">
<li><a href="javascript:call_link('abendb_reader_abexa.html')" class="blue">Reader Stream, Read Database Table</a></li>
</ul>
<ul class="disc">
<li><a href="javascript:call_link('abendb_writer_abexa.html')" class="blue">Writer Stream, Fill Database Table</a></li>
</ul>
<br>
<br>
<br>
<br>
</DIV>
<fieldset style="opacity:0">
<input id="url" type="text" />
</fieldset>
</BODY>

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abenopen_sql_streaming.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:51:39 GMT -->
</html>

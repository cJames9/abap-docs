<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="EN">
<!-- ABAPWAIT_UNTIL -->

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abapwait_until.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:52:08 GMT -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="author" content="SAP">
<meta name="description" content="WAIT FOR ASYNCHRONOUS TASKS">
<meta name="keywords" content="ABAP, WAIT FOR ASYNCHRONOUS TASKS">
<title>
WAIT FOR ASYNCHRONOUS TASKS - ABAP Keyword Documentation
</title>
<link rel="icon" href="ABAPIcon.ico" type="image/ico">
<link rel="shortcut icon" href="ABAPIcon.ico">
<LINK rel="stylesheet" href="abap_docu.css" type="text/css">
<script language="javascript" type="text/javascript" src="functions.js"></script>
<script type="text/JavaScript">
function urlToClipboard(id){
 try{ var loc = top.location.href;}
 catch(e){ alert( "URL cannnot be determined" ); return; }
 var field = document.getElementById(id);
 field.focus();
 if ( loc.search( ".htm" ) == -1 && loc.search( ".HTM" ) == -1  ){ loc = loc + "index.htm"; }
 if (   loc.search( "index.html" ) != -1
     || loc.search( "INDEX-2.html" ) != -1 ){
   var off = loc.search( "file=" );
   if ( off == -1  ){
     field.value = loc + "?file=abapwait_until.htm"; }
   else {
     field.value = loc.substring( 0, off ) + "file=abapwait_until.htm";
   }
 }
 else {
    field.value = loc; }
 field.setSelectionRange(0, field.value.length);
 var r = confirm( "Copy URL to clipboard?\n\n" + field.value + "\n\nCopy to clipboard does not work in all browsers." );
 if (r == true) {
   try{
     document.execCommand("copy");
   }
     catch(e){ alert( "URL could not be copied to clipboard" ); }
 }
 window.scrollTo(0,0);
}
</script>
</head>
<body>
<div class="all">
<div style="float:right;">
<input type="button" value="URL"
style="font-size:10px; width:30px; height:18px; padding:0; "
onclick="urlToClipboard('url')" title="Copy URL to Clipboard" ></div>
<p>
<input name="query" id="query" value="" type="text" title="Suchbegriff" size="30" maxlength="30" onkeyup="getInput()">&nbsp;
<input type="button" value="Search"
style="font-size:12px; width:50px; height:18px; padding:0"
onclick="call_search('search.html')" title="Search in ABAP Keyword Documentation" >
<hr style="width:100%;height:1px"></p>
<p class="copyright">AS ABAP Release 754, &copy;Copyright 2019 SAP SE. All rights reserved.</p>
<span class="path">
<a href="javascript:call_link('abenabap.html')" class="blue">ABAP Keyword Documentation</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_reference.html')" class="blue">ABAP &#x2212; Reference</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_data_communication.html')" class="blue">Data Interfaces and Communication Interfaces</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenrfc.html')" class="blue">RFC - Remote Function Call</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abapcall_function_destination-.html')" class="blue">CALL FUNCTION - RFC</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abapcall_function_starting.html')" class="blue">CALL FUNCTION - STARTING NEW TASK</a>&nbsp;&rarr;&nbsp;
</span>
<A NAME="@@UNTIL@@WAIT FOR ASYNCHRONOUS TASKS@@"></A>
<A NAME="@@WAIT FOR ASYNCHRONOUS TASKS@@!ABAP_STATEMENT!@@"></A>
<p><span class="h1">
WAIT FOR ASYNCHRONOUS TASKS <br><br>
</span></p>
<P>
<a href="javascript:call_link('abapwait_shortref.html')" class="blue">Quick Reference</a> <br><br>
</P>
<p><span class="h2">
<span class="bold">Syntax</span>
</span></p>
<P>
<span class="qtext">WAIT FOR ASYNCHRONOUS TASKS <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <i class=bn>[</i><a href="javascript:call_link('abapwait_amc.html')" class="blue">MESSAGING CHANNELS</a><i class=bn>]</i> <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <i class=bn>[</i><a href="javascript:call_link('abapwait_apc.html')" class="blue">PUSH CHANNELS</a><i class=bn>]</i> <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; UNTIL <a href="javascript:call_link('abenlogexp.html')" class="blue">log_exp</a> <i class=bn>[</i>UP TO sec SECONDS<i class=bn>]</i>.</span> <br><br>
</P>
<p><span class="h3">
Extras:
</span></p>
<P>
   <A HREF="#!ABAP_ADDITION_1@1@" class="blue"> 1. <span class="qtext">... MESSAGING CHANNELS</span> </A> <br>
<br><A HREF="#!ABAP_ADDITION_2@2@" class="blue"> 2. <span class="qtext">... PUSH CHANNELS</span> </A> <br><br><A HREF="#!ABAP_ADDITION_3@3@" class="blue"> 3. <span class="qtext">... UP TO sec SECONDS</span> </A> <br><br>
</P>
<p><span class="h4">
Effect
</span></p>
<P>
This variant of the statement <span class="qtext">WAIT</span> is designed only for use after an
<a href="javascript:call_link('abapcall_function_starting.html')" class="blue">asynchronous RFC</a> with callback routines. Any
<a href="javascript:call_link('abenlogical_expression_glosry.html')" class="grey" title="Glossary Entry">logical expression</a>
can be specified for <a href="javascript:call_link('abenlogexp.html')" class="blue"><span class="qtext">log_exp</span></a> after <span class="qtext">UNTIL</span>.
</P>
<ul class="disc">
<li>
If the result of <span class="qtext">log_exp</span> is false and there is an asynchronous function call with callback routine, the program waits until a
<a href="javascript:call_link('abapcall_function_starting.html')" class="blue">callback routine</a> of a previous function (called asynchronously) has been executed and then checks the logical expression again:
<br></li>
</ul>
<ul class="circlem2">
<li>If the new check on the result of the logical expression is true, <span class="qtext">sy-subrc</span>
is set to 0 and the execution of the program is resumed with the statement that follows <span class="qtext">WAIT</span>.</li>
</ul>
<ul class="circlem2">
<li>If the new check on the result of the logical expression is false and the callback routines of the
functions previously called asynchronously were not all executed, one of the remaining callback routines must be executed before the program resumes.</li>
</ul>
<ul class="circlem2">
<li>If the new check on the result of the logical expression is false and the callback routines of the
functions previously called asynchronously were all executed, <span class="qtext">sy-subrc</span> is
set to 4 and the execution of the program is resumed with the statement that follows <span class="qtext">WAIT</span>.</li>
</ul>
<ul class="disc">
<li>
If the result of <span class="qtext">log_exp</span> is false and there is no asynchronous function call
with a callback routine, the execution of the program is not interrupted (regardless of the result of <span class="qtext">log_exp</span>) and <span class="qtext">sy-subrc</span> is set to the value 4.
<br><br></li>
<li>
If the logical expression is true, the execution of the program is not interrupted (regardless of whether there is a function call with a callback routine) and <span class="qtext">sy-subrc</span> is set to the value 0.
<br></li>
</ul>
<P>
If the statement <span class="qtext">WAIT</span> interrupts the program, the
<a href="javascript:call_link('abenwork_process_glosry.html')" class="grey" title="Glossary Entry">work process</a> is changed and a
<a href="javascript:call_link('abendatabase_commit_glosry.html')" class="grey" title="Glossary Entry">database commit</a> is executed (except in
<a href="javascript:call_link('abenupdate_glosry.html')" class="grey" title="Glossary Entry">updates</a>. For this reason, <span class="qtext">WAIT</span> must not be used between ABAP SQL statements that open or close a
<a href="javascript:call_link('abendatabase_cursor_glosry.html')" class="grey" title="Glossary Entry">database cursor</a>. <br><br>
</P>
<P>
<span class="bold">System Fields</span>
</P>
<table border>
<tr>
<td><span class="qtext"><span class="bold">sy-subrc</span></span></td>
<td><span class="bold">Meaning</span></td>
</tr>
<tr>
<td>0</td>
<td>The logical expression <span class="qtext">log_exp</span> is true.</td>
</tr>
<tr>
<td>4</td>
<td>The logical expression <span class="qtext">log_exp</span> is false. Also the current program does not contain any asynchronous function calls with callback routines, and no receiver is registered for
<a href="javascript:call_link('abenamc_glosry.html')" class="grey" title="Glossary Entry">AMC</a> messages or
<a href="javascript:call_link('abenapc_glosry.html')" class="grey" title="Glossary Entry">APC</a> messages for the use of the additions <span class="qtext">MESSAGING CHANNELS</span> or <span class="qtext">PUSH CHANNELS</span>.</td>
</tr>
<tr>
<td>8</td>
<td>The logical expression <span class="qtext">log_exp</span> is false and when the addition <span class="qtext">UP TO</span> was specified, the maximum time was exceeded.</td>
</tr>
</table><br>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>
If the logical expression is false and there is an asynchronous function call with a callback routine,
the statement <span class="qtext">WAIT FOR</span> changes the work process and hence executes all callback routines registered up until now.
<br><br></li>
<li>
When a program is interrupted, the running program is paused in its current state. After a callback
routine, all data objects that were not changed in the callback routine have the same value as when
the logical expression was last evaluated. Any methods called by functions within the logical expression are executed again during the next check.
<br><br></li>
<li>
This statement has an <a href="javascript:call_link('abapwait_obsolete.html')" class="blue">obsolete short form</a>, in which <span class="qtext">FOR ASYNCHRONOUS TASKS</span> is not specified. <br><br>
<br></li>
</ul>
<p><span class="h3">
<A NAME="!ABAP_ADDITION_1@1@"></A> <span class="bold">Addition 1</span>
</span></p>
<P>
<span class="qtext">... MESSAGING CHANNELS</span>   <br><!-- /A -->
</P>
<p><span class="h3">
<A NAME="!ABAP_ADDITION_2@2@"></A> <span class="bold">Addition 2</span>
</span></p>
<P>
<span class="qtext">... PUSH CHANNELS</span>   <br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<P>
If these additions are specified, this variant of the statement <span class="qtext">WAIT</span> is combined
with the variants <a href="javascript:call_link('abapwait_amc.html')" class="blue"><span class="qtext">WAIT FOR MESSAGING CHANNELS</span></a>
or <a href="javascript:call_link('abapwait_apc.html')" class="blue"><span class="qtext">WAIT FOR PUSH CHANNELS</span></a>. The
program flow described in the variants is added to the program flow described above. The <span class="qtext">WAIT</span>
statement then also waits for AMC messages or APC messages to be executed and does not just wait for asynchronously called functions to be executed. <br><br>
</P>
<A NAME="@@UP TO SECONDS@@WAIT FOR ASYNCHRONOUS TASKS@@"></A>
<p><span class="h3">
<A NAME="!ABAP_ADDITION_3@3@"></A> <span class="bold">Addition 3</span>
</span></p>
<P>
<span class="qtext">... UP TO sec SECONDS</span>   <br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<P>
If <span class="qtext">UP TO</span> is specified, a maximum time <span class="qtext">sec</span> can
be specified in seconds and the statement waits for asynchronously called functions to be ended for
this time. <span class="qtext">sec</span> expects a data object of the type <span class="qtext">f</span>
that must contain a positive number. The unit of the number in <span class="qtext">sec</span> is seconds and the time resolution is one millisecond.
</P>
<P>
If none of the asynchronously called functions are ended within the specified time, their callback routine
dictates that the result of the logical expression <span class="qtext">log_exp</span> is true, <span class="qtext">
sy-subrc</span> is set to 8, and the execution of the program is resumed with the statement that follows <span class="qtext">WAIT</span>.
</P>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>
If there are not asynchronous function calls with a callback routine, the addition <span class="qtext">UP TO sec SECONDS</span> is ignored.
<br><br></li>
<li>
The addition <span class="qtext">UP TO sec SECONDS</span> is ignored with respect to the execution of the callback routines. The time needed for these routines to execute can be longer than the time specified.
<br><br></li>
<li>
If the addition <span class="qtext">UP TO sec SECONDS</span> is used to cancel the wait, it does not
mean that any outstanding callback routines are never executed. A change of the work process at a later
time in the same program can result in the callback routines of the asynchronous functions executed
until now being executed. Only the callback routines of those asynchronous functions not ended at the end of the program are no longer executed. <br><br>
<br></li>
</ul>
<p><span class="h4">
<a href="javascript:call_link('abenabap_language_exceptions.html')" class="blue">Exceptions</a>
</span></p>
<P>
<span class="bold">Non-Handleable Exceptions</span>
</P>
<ul class="disc">
<li>
<span class="italic">Cause:</span> Negative time specified for <span class="qtext">sec</span>. <br><span class="italic">Runtime error:</span> <span class="qtext">WAIT_ILLEGAL_TIME_LIMIT</span> <br><br>
<br></li>
</ul>
<br>
<br>
<br>
<br>
</DIV>
<fieldset style="opacity:0">
<input id="url" type="text" />
</fieldset>
</BODY>

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abapwait_until.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:52:08 GMT -->
</html>

<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="EN">
<!-- ABENTABLE_EXP_ITAB_LINE -->

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abentable_exp_itab_line.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:51:43 GMT -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="author" content="SAP">
<meta name="description" content="table_exp - itab_line">
<title>
table_exp - itab_line - ABAP Keyword Documentation
</title>
<link rel="icon" href="ABAPIcon.ico" type="image/ico">
<link rel="shortcut icon" href="ABAPIcon.ico">
<LINK rel="stylesheet" href="abap_docu.css" type="text/css">
<script language="javascript" type="text/javascript" src="functions.js"></script>
<script type="text/JavaScript">
function urlToClipboard(id){
 try{ var loc = top.location.href;}
 catch(e){ alert( "URL cannnot be determined" ); return; }
 var field = document.getElementById(id);
 field.focus();
 if ( loc.search( ".htm" ) == -1 && loc.search( ".HTM" ) == -1  ){ loc = loc + "index.htm"; }
 if (   loc.search( "index.html" ) != -1
     || loc.search( "INDEX-2.html" ) != -1 ){
   var off = loc.search( "file=" );
   if ( off == -1  ){
     field.value = loc + "?file=abentable_exp_itab_line.htm"; }
   else {
     field.value = loc.substring( 0, off ) + "file=abentable_exp_itab_line.htm";
   }
 }
 else {
    field.value = loc; }
 field.setSelectionRange(0, field.value.length);
 var r = confirm( "Copy URL to clipboard?\n\n" + field.value + "\n\nCopy to clipboard does not work in all browsers." );
 if (r == true) {
   try{
     document.execCommand("copy");
   }
     catch(e){ alert( "URL could not be copied to clipboard" ); }
 }
 window.scrollTo(0,0);
}
</script>
</head>
<body>
<div class="all">
<div style="float:right;">
<input type="button" value="URL"
style="font-size:10px; width:30px; height:18px; padding:0; "
onclick="urlToClipboard('url')" title="Copy URL to Clipboard" ></div>
<p>
<input name="query" id="query" value="" type="text" title="Suchbegriff" size="30" maxlength="30" onkeyup="getInput()">&nbsp;
<input type="button" value="Search"
style="font-size:12px; width:50px; height:18px; padding:0"
onclick="call_search('search.html')" title="Search in ABAP Keyword Documentation" >
<hr style="width:100%;height:1px"></p>
<p class="copyright">AS ABAP Release 754, &copy;Copyright 2019 SAP SE. All rights reserved.</p>
<span class="path">
<a href="javascript:call_link('abenabap.html')" class="blue">ABAP Keyword Documentation</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_reference.html')" class="blue">ABAP &#x2212; Reference</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_data_working.html')" class="blue">Processing Internal Data</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenitab.html')" class="blue">Internal Tables</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abentable_processing_expr_func.html')" class="blue">Expressions and Functions for Internal Tables</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abentable_expressions.html')" class="blue">table_exp - Table Expressions</a>&nbsp;&rarr;&nbsp;
</span>
<A NAME="@@KEY@@!ABAP_TABLE_EXPR!@@"></A>
<A NAME="@@COMPONENTS@@!ABAP_TABLE_EXPR!@@"></A>
<p><span class="h1">
table_exp - itab_line
</span></p>
<p><span class="h2">
<span class="bold">Syntax</span>
</span></p>
<P>
<span class="qtext">... <i class=bn>{</i> <i class=bn>[</i>KEY <a href="javascript:call_link('abenkeyname.html')" class="blue">keyname</a> INDEX<i class=bn>]</i> idx <i class=bn>}</i></span> <br>
<span class="qtext">&nbsp;&nbsp;<i class=bn>|</i> <i class=bn>{</i>
<a href="javascript:call_link('abenitab_components.html')" class="blue">comp1</a> = operand1 <a href="javascript:call_link('abenitab_components.html')" class="blue">comp2</a> = operand2 ...&nbsp;&nbsp;<i class=bn>}</i></span> <br>
<span class="qtext">&nbsp;&nbsp;<i class=bn>|</i> <i class=bn>{</i> KEY
<a href="javascript:call_link('abenkeyname.html')" class="blue">keyname</a> <i class=bn>[</i>COMPONENTS<i class=bn>]</i> <i class=bn>{</i>comp_name1<i class=bn>|</i>(name1)<i class=bn>}</i> = operand1 <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <i class=bn>{</i>comp_name2<i class=bn>|</i>(name2)<i class=bn>}</i> = operand2 <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;... <i class=bn>}</i> ...</span> <br><br>
</P>
<p><span class="h2">
Alternatives:
</span></p>
<P>
   <A HREF="#!ABAP_ALTERNATIVE_1@1@" class="blue"> 1. <span class="qtext">... <i class=bn>[</i>KEY keyname INDEX<i class=bn>]</i> idx</span> </A> <br>
<br><A HREF="#!ABAP_ALTERNATIVE_2@2@" class="blue"> 2. <span class="qtext">... comp1 = operand1 comp2 = operand2 ...</span> </A> <br>
<br><A HREF="#!ABAP_ALTERNATIVE_3@3@" class="blue"> 3. <span class="qtext">... KEY keyname <i class=bn>[</i>COMPONENTS<i class=bn>]</i> ...</span> </A> <br><br>
</P>
<p><span class="h4">
Effect
</span></p>
<p>
Specifies a table row in the square brackets of a <a href="javascript:call_link('abentable_expressions.html')" class="blue">table expression</a>. This makes three alternatives possible:
</p>
<ul class="disc">
<li>Index read</li>
</ul>
<ul class="disc">
<li>Read using a free key</li>
</ul>
<ul class="disc">
<li>Read using a table key</li>
</ul>
<p><span class="h4">
Executable Example
</span></p>
<p>
<a href="javascript:call_link('abentable_exp_itab_line_abexa.html')" class="blue">Table Expressions, Specified Rows</a> <br><br>
</p>
<p><span class="h2">
<A NAME="!ABAP_ALTERNATIVE_1@1@"></A> <span class="bold">Alternative 1</span>
</span></p>
<P>
<span class="qtext">... <i class=bn>[</i>KEY keyname INDEX<i class=bn>]</i> idx</span> <br><br><br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<p>
The table expression reads the row with the row number specified in <span class="qtext">idx</span> with
respect to a table index. The row is read in exactly the same way as when specifying an index, <a href="javascript:call_link('abapread_table_index.html')" class="blue">
<span class="qtext">INDEX idx [USING KEY keyname]</span></a>, in the statement <a href="javascript:call_link('abapread_table.html')" class="blue"><span class="qtext">READ TABLE</span></a>. Similarly, <span class="qtext">idx</span> is a
<a href="javascript:call_link('abennumerical_expr_position_glosry.html')" class="grey" title="Glossary Entry">numeric expression position</a> and the optional <span class="qtext">KEY
<a href="javascript:call_link('abenkeyname.html')" class="blue">keyname</a> INDEX</span> is equivalent to the <span class="qtext">USING KEY
<a href="javascript:call_link('abenkeyname.html')" class="blue">keyname</a></span> specified here. If the optional addition is not used, <span class="qtext">itab</span> must be an
<a href="javascript:call_link('abenindex_table_glosry.html')" class="grey" title="Glossary Entry">index table</a>. If the addition is used, the secondary table index of a sorted secondary key can be specified statically or dynamically.
</p>
<p>
If no row exists for the specified index, the handleable exception CX_SY_ITAB_LINE_NOT_FOUND is usually raised. The attributes KEY_NAME and KEY_COMP_VALUES are not filled here. Exceptions to this rule are when a
<a href="javascript:call_link('abentable_exp_optional_default.html')" class="blue">start value</a> is specified, uses in the
statement <a href="javascript:call_link('abapassign_mem_area_writable_exp.html')" class="blue"><span class="qtext">ASSIGN</span></a>,
in the predicate function <a href="javascript:call_link('abenline_exists_function.html')" class="blue"><span class="qtext">line_exists</span></a>,
and in the table function <a href="javascript:call_link('abenline_index_function.html')" class="blue"><span class="qtext">line_index</span></a>. <br><br>
</p>
<p><span class="h4">
Example
</span></p>
<p>
Reads the row with the row number 1 once using the secondary table key <span class="qtext">skey</span> and twice using the primary table key. It is the third row once and the first row twice.
</p>
<p class="qtextml1">
<span class="qtext">
DATA itab TYPE TABLE OF i <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WITH NON-UNIQUE KEY primary_key COMPONENTS table_line <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WITH NON-UNIQUE SORTED KEY skey COMPONENTS table_line. <br>
 <br>itab = VALUE #( ( 3 ) ( 2 ) ( 1 ) ). <br> <br>cl_demo_output=>new( <br>&nbsp;&nbsp;)->write( itab[ KEY skey INDEX 1 ] <br>
&nbsp;&nbsp;)->write( itab[ KEY primary_key INDEX 1 ] <br>&nbsp;&nbsp;)->write( itab[ 1 ] <br>&nbsp;&nbsp;)->display( ). <br><br>
</span>
</p>
<p><span class="h2">
<A NAME="!ABAP_ALTERNATIVE_2@2@"></A> <span class="bold">Alternative 2</span>
</span></p>
<P>
<span class="qtext">... comp1 = operand1 comp2 = operand2 ...</span> <br><br><br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<p>
The table expression reads the row in accordance with the specified free search key. The search is performed
in exactly the same way as when specifying the free search key <a href="javascript:call_link('abapread_table_free.html')" class="blue"><span class="qtext">
comp1 = operand1 comp2 = operand2 ...</span></a> in the statement <a href="javascript:call_link('abapread_table.html')" class="blue"><span class="qtext">
READ TABLE</span></a>. Similarly, the components <span class="qtext">comp1 comp2 ...</span> can be specified in accordance with the rules from the section
<a href="javascript:call_link('abenitab_components.html')" class="blue">Specifying Components</a>. Also, compatible or convertible operands <span class="qtext">operand1 operand2 ...</span> must be specified that are
<a href="javascript:call_link('abengeneral_expr_position_glosry.html')" class="grey" title="Glossary Entry">general expression positions</a>.
</p>
<p>
If no row is found for the specified free key, the handleable exception CX_SY_ITAB_LINE_NOT_FOUND is usually raised. The attributes KEY_NAME and KEY_COMP_VALUES are not filled here. Exceptions to this rule are when a
<a href="javascript:call_link('abentable_exp_optional_default.html')" class="blue">start value</a> is specified, uses in the
statement <a href="javascript:call_link('abapassign_mem_area_writable_exp.html')" class="blue"><span class="qtext">ASSIGN</span></a>,
in the predicate function <a href="javascript:call_link('abenline_exists_function.html')" class="blue"><span class="qtext">line_exists</span></a>,
and in the table function <a href="javascript:call_link('abenline_index_function.html')" class="blue"><span class="qtext">line_index</span></a>.
</p>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>If the free key overlaps with some or all of the
<a href="javascript:call_link('abenprimary_table_key_glosry.html')" class="grey" title="Glossary Entry">primary table key</a>,
the optimizations described under <a href="javascript:call_link('abapread_table_free.html')" class="blue"><span class="qtext">READ TABLE</span></a> are performed when sorted tables and hashed tables are read.</li>
</ul>
<ul class="disc">
<li>Unlike the statement <a href="javascript:call_link('abapread_table.html')" class="blue"><span class="qtext">READ TABLE</span></a> with a
<a href="javascript:call_link('abapread_table_free.html')" class="blue">free key specified</a>, no binary searches can be forced
for a table expression and it is not possible to specify explicit table key for optimizing searches using secondary keys. <br><br></li>
</ul>
<p><span class="h4">
Example
</span></p>
<p>
Reads a row in an internal table using a free specified key.
</p>
<p class="qtextml1">
<span class="qtext">
DATA itab TYPE SORTED TABLE OF spfli <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WITH UNIQUE KEY carrid connid. <br>
 <br>SELECT * <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FROM spfli <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; INTO TABLE @itab. <br>
 <br>TRY. <br>&nbsp;&nbsp;&nbsp;&nbsp;cl_demo_output=>display( itab[ cityfrom = '...' <br>&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cityto&nbsp;&nbsp; = '...' ]&nbsp;&nbsp;). <br>
&nbsp;&nbsp;CATCH cx_sy_itab_line_not_found. <br>&nbsp;&nbsp;&nbsp;&nbsp;... <br>ENDTRY. <br><br>
</span>
</p>
<p><span class="h2">
<A NAME="!ABAP_ALTERNATIVE_3@3@"></A> <span class="bold">Alternative 3</span>
</span></p>
<P>
<span class="qtext">... KEY keyname <i class=bn>[</i>COMPONENTS<i class=bn>]</i> ...</span> <br><br><br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<p>
The table expression reads the row in accordance with the explicitly specified <a href="javascript:call_link('abentable_key_glosry.html')" class="grey" title="Glossary Entry">table key</a>.
</p>
<ul class="disc">
<li>Generally, the search is performed in exactly the same way as when specifying the table key <a href="javascript:call_link('abapread_table_key.html')" class="blue"><span class="qtext">WITH TABLE KEY <i
class=bn>[</i>keyname COMPONENTS<i class=bn>]</i> ...</span></a> in the statement <a href="javascript:call_link('abapread_table.html')" class="blue">
<span class="qtext">READ TABLE</span></a>. The table key must be covered completely by specifying components and no components can be specified that are not part of the table key.</li>
</ul>
<ul class="disc">
<li>If the table expression is specified as an argument of the
<a href="javascript:call_link('abenpredicate_function_glosry.html')" class="grey" title="Glossary Entry">predicate function</a>
<a href="javascript:call_link('abenline_exists_function.html')" class="blue"><span class="qtext">line_exists</span></a> or of
the table function <a href="javascript:call_link('abenline_index_function.html')" class="blue"><span class="qtext">line_index</span></a>,
the search is performed as when specifying a free search key <a href="javascript:call_link('abapread_table_free.html')" class="blue"><span class="qtext">
WITH KEY keyname COMPONENTS ...</span></a> in the statement <a href="javascript:call_link('abapread_table.html')" class="blue"><span class="qtext">
READ TABLE</span></a> and the key is joined with a table key. A sorted table key does not have to be
covered in full by specified components. For both categories of secondary keys, components can be specified that are not part of the table key.</li>
</ul>
<p>
Unlike the statement <span class="qtext">READ TABLE</span>, a table expression must specify the name
of the table key and the addition <span class="qtext">COMPONENTS</span> can be omitted. Like here, the
table key <span class="qtext">keyname</span> and the key components can be specified statically or dynamically.  The operands <span class="qtext">operand1 operand2 ...</span> are
<a href="javascript:call_link('abengeneral_expr_position_glosry.html')" class="grey" title="Glossary Entry">general expression positions</a>.
</p>
<p>
If no row is found for the specified table key, the handleable exception CX_SY_ITAB_LINE_NOT_FOUND is
usually raised. The attributes KEY_NAME and (if the table is not empty) KEY_COMP_VALUES are not filled here. Exceptions to this rule are when a
<a href="javascript:call_link('abentable_exp_optional_default.html')" class="blue">start value</a> is specified, uses in the
statement <a href="javascript:call_link('abapassign_mem_area_writable_exp.html')" class="blue"><span class="qtext">ASSIGN</span></a>,
in the predicate function <a href="javascript:call_link('abenline_exists_function.html')" class="blue"><span class="qtext">line_exists</span></a>,
and in the table function <a href="javascript:call_link('abenline_index_function.html')" class="blue"><span class="qtext">line_index</span></a>.
</p>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>Before the <a href="javascript:call_link('abenprimary_table_key_glosry.html')" class="grey" title="Glossary Entry">primary
table key</a> can be used explicitly in this variant, the key must first be specified using its predefined name <span class="qtext">primary_key</span> or an alias name.</li>
</ul>
<ul class="disc">
<li>Searches using the <a href="javascript:call_link('abenprimary_table_key_glosry.html')" class="grey" title="Glossary Entry">primary
table key</a> do not have to specify it explicitly. Instead, the variant with a free search key can be used. If this covers the primary table key, it is used for optimized reads on sorted tables and hashed tables.</li>
</ul>
<ul class="disc">
<li>The differing behavior of the specified key outside and inside the functions <a href="javascript:call_link('abenline_exists_function.html')" class="blue">
<span class="qtext">line_exists</span></a> and <a href="javascript:call_link('abenline_index_function.html')" class="blue"><span class="qtext">line_index</span></a> is explained as follows:</li>
</ul>
<ul class="circlem2">
<li>Outside the functions, the main purpose of an explicitly specified table key is to read precisely one fully specified row.</li>
</ul>
<ul class="circlem2">
<li>Within the functions, the existence of a specified row (not necessarily specified in full) or, for
example, a row number as the starting point of a subsequent sequential read using <a href="javascript:call_link('abaploop_at_itab_cond.html')" class="blue">
<span class="qtext">LOOP ... FROM</span></a> is to be determined as efficiently as possible. <br><br></li>
</ul>
<p><span class="h4">
Example
</span></p>
<p>
Reads a line in an internal table by specifying the primary table key.
</p>
<p class="qtextml1">
<span class="qtext">
DATA itab TYPE SORTED TABLE OF spfli <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WITH UNIQUE KEY carrid connid. <br>
 <br>SELECT * <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FROM spfli <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; INTO TABLE @itab. <br>
 <br>TRY. <br>&nbsp;&nbsp;&nbsp;&nbsp;cl_demo_output=>display( itab[ KEY primary_key <br>&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; carrid = '...' <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; connid = '...' ]&nbsp;&nbsp;). <br>
&nbsp;&nbsp;CATCH cx_sy_itab_line_not_found. <br>&nbsp;&nbsp;&nbsp;&nbsp;... <br>ENDTRY. <br><br>
</span>
</p>
<br>
<br>
<!-- POSTFIX --><span class="h4">Continue</span><br>
<img src="exa.gif" alt="Example" title="Example">
<a href="javascript:call_link('abentable_exp_itab_line_abexa.html')" class="blue">Table Expressions, Specified Rows</a><br>
<br>
<br>
</DIV>
<fieldset style="opacity:0">
<input id="url" type="text" />
</fieldset>
</BODY>

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abentable_exp_itab_line.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:51:43 GMT -->
</html>

<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="EN">
<!-- ABENDDICDDL_DEFINE_DRUL -->

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abenddicddl_define_drul.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:51:32 GMT -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="author" content="SAP">
<meta name="description" content="DEFINE DEPENDENCY RULE">
<meta name="keywords" content="ABAP, Dictionary, DEFINE DEPENDENCY RULE">
<title>
DEFINE DEPENDENCY RULE - ABAP Keyword Documentation
</title>
<link rel="icon" href="ABAPIcon.ico" type="image/ico">
<link rel="shortcut icon" href="ABAPIcon.ico">
<LINK rel="stylesheet" href="abap_docu.css" type="text/css">
<script language="javascript" type="text/javascript" src="functions.js"></script>
<script type="text/JavaScript">
function urlToClipboard(id){
 try{ var loc = top.location.href;}
 catch(e){ alert( "URL cannnot be determined" ); return; }
 var field = document.getElementById(id);
 field.focus();
 if ( loc.search( ".htm" ) == -1 && loc.search( ".HTM" ) == -1  ){ loc = loc + "index.htm"; }
 if (   loc.search( "index.html" ) != -1
     || loc.search( "INDEX-2.html" ) != -1 ){
   var off = loc.search( "file=" );
   if ( off == -1  ){
     field.value = loc + "?file=abenddicddl_define_drul.htm"; }
   else {
     field.value = loc.substring( 0, off ) + "file=abenddicddl_define_drul.htm";
   }
 }
 else {
    field.value = loc; }
 field.setSelectionRange(0, field.value.length);
 var r = confirm( "Copy URL to clipboard?\n\n" + field.value + "\n\nCopy to clipboard does not work in all browsers." );
 if (r == true) {
   try{
     document.execCommand("copy");
   }
     catch(e){ alert( "URL could not be copied to clipboard" ); }
 }
 window.scrollTo(0,0);
}
</script>
</head>
<body>
<div class="all">
<div style="float:right;">
<input type="button" value="URL"
style="font-size:10px; width:30px; height:18px; padding:0; "
onclick="urlToClipboard('url')" title="Copy URL to Clipboard" ></div>
<p>
<input name="query" id="query" value="" type="text" title="Suchbegriff" size="30" maxlength="30" onkeyup="getInput()">&nbsp;
<input type="button" value="Search"
style="font-size:12px; width:50px; height:18px; padding:0"
onclick="call_search('search.html')" title="Search in ABAP Keyword Documentation" >
<hr style="width:100%;height:1px"></p>
<p class="copyright">AS ABAP Release 754, &copy;Copyright 2019 SAP SE. All rights reserved.</p>
<span class="path">
<a href="javascript:call_link('abenabap.html')" class="blue">ABAP Keyword Documentation</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_dictionary.html')" class="blue">ABAP - Dictionary</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenddic_dependency_rules.html')" class="blue">Dependency Rules in ABAP Dictionary</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenddic_define_dependency_rule.html')" class="blue">Dictionary DDL for defining dependency rules</a>&nbsp;&rarr;&nbsp;
</span>
<A NAME="@@DEFINE DEPENDENCY RULE@@!ABAP_DDIC_STATEMENT!@@"></A>
<A NAME="@@{ }@@!ABAP_DDIC_DEFINE_DRUL!@@"></A>
<A NAME="@@ON@@!ABAP_DDIC_DEFINE_DRUL!@@"></A>
<A NAME="@@IF@@!ABAP_DDIC_DEFINE_DRUL!@@"></A>
<A NAME="@@THEN@@!ABAP_DDIC_DEFINE_DRUL!@@"></A>
<p><span class="h1">
DEFINE DEPENDENCY RULE
</span></p>
<A name="@@ITOC@@ABENDDICDDL_DEFINE_DRUL_1"></A>
<p><span class="h2">
Syntax
</span></p>
<p>
<span class="qtext400">DEFINE <a href="javascript:call_link('abenddicddl_define_filter_drul.html')" class="blue">FILTER</a><i class=bn>|</i>
<a href="javascript:call_link('abenddicddl_define_join_drul.html')" class="blue">JOIN</a> DEPENDENCY RULE drul <br>&nbsp;&nbsp;ON dbtab <i class=bn>[</i>, ...<i class=bn>]</i> <br>
&nbsp;&nbsp;&nbsp;&nbsp;IF { cond_pattern } <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;THEN { derived_cond }</span>
</p>
<p><span class="h4">
Effect
</span></p>
<p>
<a href="javascript:call_link('abendictionary_ddl_glosry.html')" class="grey" title="Glossary Entry">Dictionary DDL</a> statement used to define a
<a href="javascript:call_link('abendependency_rule_glosry.html')" class="grey" title="Glossary Entry">dependency rule</a>. The statement has two variants:
</p>
<ul class="disc">
<li><a href="javascript:call_link('abenddicddl_define_filter_drul.html')" class="blue"><span class="qtext400">DEFINE FILTER DEPENDENCY RULE</span></a> for filter dependency rules</li>
</ul>
<ul class="disc">
<li><a href="javascript:call_link('abenddicddl_define_join_drul.html')" class="blue"><span class="qtext400">DEFINE JOIN DEPENDENCY RULE</span></a> for join dependency rules</li>
</ul>
<p>
The name <span class="qtext400">drul</span> of a dependency rule must comply with the naming conventions for
<a href="javascript:call_link('abenddic_data_types.html')" class="blue">dictionary types</a> and can have a maximum of 30 characters. The name is in the namespace of the ABAP Dictionary
<a href="javascript:call_link('abenddic_data_types.html')" class="blue">data types</a> and must match the name of the <a href="javascript:call_link('abendrul_source_code_glosry.html')" class="grey" title="Glossary Entry">DRUL source code</a>.
</p>
<p>
The names <span class="qtext400">dbtab</span> of ABAP Dictionary database tables for which the dependency rule is defined are specified after <span class="qtext400">ON</span>.
</p>
<ul class="disc">
<li>In the case of filter dependency rules, precisely one database table must be specified.</li>
</ul>
<ul class="disc">
<li>In the case of join dependency rules, comma-separated database tables must be specified.</li>
</ul>
<p>
<span class="qtext400">cond_pattern</span> is used to specify a pattern for a relational expression
after <span class="qtext400">IF</span>. In the case of reads made on the database table <span class="qtext400">dbtab</span>,
the SAP HANA database optimizer searches for this pattern in the associated <span class="qtext400">WHERE</span>
condition or <span class="qtext400">ON</span> condition. If the pattern is found, the optimizer uses
<span class="qtext400">AND</span> to add the condition <span class="qtext400">derived_cond</span> specified
after <span class="qtext400">THEN</span> to the corresponding <span class="qtext400">WHERE</span> condition or <span class="qtext400">ON</span> condition. The potential conditions are specified in the same way as in the
<a href="javascript:call_link('abencds_ddl_glosry.html')" class="grey" title="Glossary Entry">CDS DDL</a> or
<a href="javascript:call_link('abencds_ddl_glosry.html')" class="grey" title="Glossary Entry">CDS DCL</a> syntax and are described in the filter and join dependency rules.
</p>
<p><span class="h4">
Caution
</span></p>
<p>
It cannot be guaranteed that the SAP HANA database finds the pattern <span class="qtext400">cond_pattern</span>.
This is why the additional condition <span class="qtext400">derived_cond</span> must not modify the
results set of the original query. This is technically possible, but produces undefined behavior in
cases where the SAP HANA database optimizer finds the pattern <span class="qtext400">cond_pattern</span> in some reads but not in others.
</p>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>The derivation of an additional condition <span class="qtext400">derived_cond</span> from a pattern
<span class="qtext400">cond_pattern</span> usually defines a dependency between semantic and technical
columns of a database table. When an application accesses a table with a specific selection condition for semantic columns, an additional condition for technical columns is created implicitly. In the
<a href="javascript:call_link('abenhana_data_aging_druls.html')" class="blue">optimization of access to old data</a>, regular date columns are the semantic columns and the
<a href="javascript:call_link('abentemperature_column_glosry.html')" class="grey" title="Glossary Entry">temperature column</a> is the technical column.</li>
</ul>
<ul class="disc">
<li>If multiple dependency rules are defined for a database table, <span class="qtext">AND</span> is used to join all additional conditions and append them to the original condition.</li>
</ul>
<ul class="disc">
<li>Dependency rules can be defined for database tables only; they cannot be defined for views. The
SAP HANA database optimizer evaluates all SQL reads on these tables. These include reads made with ABAP SQL, AMDP, and Native SQL, plus all reads made on views that contain the database table as a data source.</li>
</ul>
<ul class="disc">
<li>Dependency rules are not evaluated in reads not made using SQL (such as in calculation views).</li>
</ul>
<ul class="disc">
<li>As in the <a href="javascript:call_link('abencds_general_syntax_rules.html')" class="blue">CDS syntax</a>, the definition
of an ABAP Dictionary append structure can contain comments after <span class="qtext400">//</span> and between <span class="qtext400">/* ... */</span>.</li>
</ul>
<ul class="disc">
<li>Partners and customers cannot currently define their own dependency rules.</li>
</ul>
<br>
<br>
<!-- POSTFIX --><span class="h4">Continue</span><br>
<a href="javascript:call_link('abenddicddl_define_filter_drul.html')" class="blue">DEFINE FILTER DEPENDENCY RULE</a><br>
<a href="javascript:call_link('abenddicddl_define_join_drul.html')" class="blue">DEFINE JOIN DEPENDENCY RULE</a><br>
<br>
<br>
</DIV>
<fieldset style="opacity:0">
<input id="url" type="text" />
</fieldset>
</BODY>

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abenddicddl_define_drul.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:51:32 GMT -->
</html>

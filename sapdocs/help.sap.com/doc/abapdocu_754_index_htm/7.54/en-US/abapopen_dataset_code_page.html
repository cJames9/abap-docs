<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="EN">
<!-- ABAPOPEN_DATASET_CODE_PAGE -->

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abapopen_dataset_code_page.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:51:42 GMT -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="author" content="SAP">
<meta name="description" content="OPEN DATASET - CODE PAGE">
<title>
OPEN DATASET - CODE PAGE - ABAP Keyword Documentation
</title>
<link rel="icon" href="ABAPIcon.ico" type="image/ico">
<link rel="shortcut icon" href="ABAPIcon.ico">
<LINK rel="stylesheet" href="abap_docu.css" type="text/css">
<script language="javascript" type="text/javascript" src="functions.js"></script>
<script type="text/JavaScript">
function urlToClipboard(id){
 try{ var loc = top.location.href;}
 catch(e){ alert( "URL cannnot be determined" ); return; }
 var field = document.getElementById(id);
 field.focus();
 if ( loc.search( ".htm" ) == -1 && loc.search( ".HTM" ) == -1  ){ loc = loc + "index.htm"; }
 if (   loc.search( "index.html" ) != -1
     || loc.search( "INDEX-2.html" ) != -1 ){
   var off = loc.search( "file=" );
   if ( off == -1  ){
     field.value = loc + "?file=abapopen_dataset_code_page.htm"; }
   else {
     field.value = loc.substring( 0, off ) + "file=abapopen_dataset_code_page.htm";
   }
 }
 else {
    field.value = loc; }
 field.setSelectionRange(0, field.value.length);
 var r = confirm( "Copy URL to clipboard?\n\n" + field.value + "\n\nCopy to clipboard does not work in all browsers." );
 if (r == true) {
   try{
     document.execCommand("copy");
   }
     catch(e){ alert( "URL could not be copied to clipboard" ); }
 }
 window.scrollTo(0,0);
}
</script>
</head>
<body>
<div class="all">
<div style="float:right;">
<input type="button" value="URL"
style="font-size:10px; width:30px; height:18px; padding:0; "
onclick="urlToClipboard('url')" title="Copy URL to Clipboard" ></div>
<p>
<input name="query" id="query" value="" type="text" title="Suchbegriff" size="30" maxlength="30" onkeyup="getInput()">&nbsp;
<input type="button" value="Search"
style="font-size:12px; width:50px; height:18px; padding:0"
onclick="call_search('search.html')" title="Search in ABAP Keyword Documentation" >
<hr style="width:100%;height:1px"></p>
<p class="copyright">AS ABAP Release 754, &copy;Copyright 2019 SAP SE. All rights reserved.</p>
<span class="path">
<a href="javascript:call_link('abenabap.html')" class="blue">ABAP Keyword Documentation</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_reference.html')" class="blue">ABAP &#x2212; Reference</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_language_external_data.html')" class="blue">Processing External Data</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_language_files.html')" class="blue">ABAP File Interface</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenfile_interface_statements.html')" class="blue">Statements for the ABAP File Interface</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abapopen_dataset.html')" class="blue">OPEN DATASET</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abapopen_dataset_mode.html')" class="blue">OPEN DATASET - mode</a>&nbsp;&rarr;&nbsp;
</span>
<A NAME="@@CODE PAGE@@OPEN DATASET@@"></A>
<p><span class="h1">
OPEN DATASET - CODE PAGE <br><br>
</span></p>
<P>
<a href="javascript:call_link('abapopen_dataset_shortref.html')" class="blue">Quick Reference</a> <br><br>
</P>
<p><span class="h2">
<span class="bold">Syntax</span>
</span></p>
<P>
<span class="qtext">...&nbsp;&nbsp;CODE PAGE cp ...</span> <br><br>
</P>
<p><span class="h4">
Effect
</span></p>
<P>
This addition specifies that, when a <a href="javascript:call_link('abenlegacy_file_glosry.html')" class="grey" title="Glossary Entry">
legacy file</a> is opened, the representation of character-like data objects in the file is based on
the code page specified in <span class="qtext">cp</span>. When a character-like data object is written
or read, a conversion between this code page and the current character representation is performed,
if necessary. If this addition is not specified, the characters in the file are handled in accordance
with the non-Unicode code page that would be assigned when reading or writing data in a non-Unicode system (as specified by the entry in the database table <span class="lnkgrey">TCP0C</span> in the current
<a href="javascript:call_link('abentext_environment_glosry.html')" class="grey" title="Glossary Entry">text environment</a>).
</P>
<P>
If specified, the code page <span class="qtext">cp</span> expects a character-like data object that
must contain, when the statement is executed, the name of a non-Unicode page from the column CPCODEPAGE in the database table <span class="lnkgrey">TCP00</span>. Unicode code pages cannot be specified. <br><br>
</P>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>
This addition enables the automatic conversion of file content to the current Unicode character representation
<a href="javascript:call_link('abenucs2_glosry.html')" class="grey" title="Glossary Entry">UCS-2</a> when reading and writing files. In this way, files saved in any non-Unicode systems can be imported.
<br><br></li>
<li>
The statement <a href="javascript:call_link('abapset_dataset.html')" class="blue"><span class="qtext">SET DATASET</span></a> can be used to specify a different code page for an opened legacy file.
<br><br></li>
<li>
The addition <span class="qtext">CODE PAGE</span> replaces the use of the obsolete statement <a href="javascript:call_link('abaptranslate.html')" class="blue"><span class="qtext">TRANSLATE CODE PAGE</span></a> in when accessing files.
<br></li>
</ul>
<p><span class="h4">
Example
</span></p>
<p>
Opens legacy text files with the IDs <span class="qtext400">1101</span> for 7-Bit USA ASCII and <span class="qtext400">
1102</span> for 7-Bit German ASCII from the table <span class="lnkgrey">TCP00</span>. When a German
umlaut character is written to the open file with the ID <span class="qtext400">1101</span>, an exception
of the class CX_SY_CONVERSION_CODEPAGE is raised. When the character is written to the open file with
the ID <span class="qtext400">1102</span>, this exception is not raised. See also the example for the
addition <a href="javascript:call_link('abapopen_dataset_error_handling.html')" class="blue"><span class="qtext">REPLACEMENT CHARACTER</span></a>.
</p>
<p class="qtextml1">
<span class="qtext">
DATA(dset) = 'test.dat'. <br> <br>OPEN DATASET dset FOR OUTPUT IN LEGACY TEXT MODE CODE PAGE '1101'. <br>
TRY. <br>&nbsp;&nbsp;&nbsp;&nbsp;TRANSFER '&#x00C4;a&#x00D6;&#x00F6;&#x00DC;&#x00FC;' TO dset. <br>&nbsp;&nbsp;CATCH cx_sy_conversion_codepage INTO DATA(exc). <br>
&nbsp;&nbsp;&nbsp;&nbsp;cl_demo_output=>write( 'Error writing to 7-Bit USA ASCII' ). <br>ENDTRY. <br>CLOSE DATASET dset. <br>
 <br>OPEN DATASET dset FOR OUTPUT IN LEGACY TEXT MODE CODE PAGE '1102'. <br>TRY. <br>&nbsp;&nbsp;&nbsp;&nbsp;TRANSFER '&#x00C4;a&#x00D6;&#x00F6;&#x00DC;&#x00FC;' TO dset. <br>
&nbsp;&nbsp;CATCH cx_sy_conversion_codepage INTO exc. <br>&nbsp;&nbsp;&nbsp;&nbsp;cl_demo_output=>write( 'Error writing to 7-Bit German ASCII' ). <br>
ENDTRY. <br>CLOSE DATASET dset. <br> <br>cl_demo_output=>display( ). <br> <br>DELETE DATASET dset.
</span>
</p>
<br>
<br>
<br>
<br>
</DIV>
<fieldset style="opacity:0">
<input id="url" type="text" />
</fieldset>
</BODY>

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abapopen_dataset_code_page.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:51:42 GMT -->
</html>

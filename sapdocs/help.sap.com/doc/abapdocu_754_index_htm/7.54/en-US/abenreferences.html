<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="EN">
<!-- ABENREFERENCES -->

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abenreferences.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:52:21 GMT -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="author" content="SAP">
<meta name="description" content="Object References">
<meta name="keywords" content="ABAP, Object References">
<title>
Object References - ABAP Keyword Documentation
</title>
<link rel="icon" href="ABAPIcon.ico" type="image/ico">
<link rel="shortcut icon" href="ABAPIcon.ico">
<LINK rel="stylesheet" href="abap_docu.css" type="text/css">
<script language="javascript" type="text/javascript" src="functions.js"></script>
<script type="text/JavaScript">
function urlToClipboard(id){
 try{ var loc = top.location.href;}
 catch(e){ alert( "URL cannnot be determined" ); return; }
 var field = document.getElementById(id);
 field.focus();
 if ( loc.search( ".htm" ) == -1 && loc.search( ".HTM" ) == -1  ){ loc = loc + "index.htm"; }
 if (   loc.search( "index.html" ) != -1
     || loc.search( "INDEX-2.html" ) != -1 ){
   var off = loc.search( "file=" );
   if ( off == -1  ){
     field.value = loc + "?file=abenreferences.htm"; }
   else {
     field.value = loc.substring( 0, off ) + "file=abenreferences.htm";
   }
 }
 else {
    field.value = loc; }
 field.setSelectionRange(0, field.value.length);
 var r = confirm( "Copy URL to clipboard?\n\n" + field.value + "\n\nCopy to clipboard does not work in all browsers." );
 if (r == true) {
   try{
     document.execCommand("copy");
   }
     catch(e){ alert( "URL could not be copied to clipboard" ); }
 }
 window.scrollTo(0,0);
}
</script>
</head>
<body>
<div class="all">
<div style="float:right;">
<input type="button" value="URL"
style="font-size:10px; width:30px; height:18px; padding:0; "
onclick="urlToClipboard('url')" title="Copy URL to Clipboard" ></div>
<p>
<input name="query" id="query" value="" type="text" title="Suchbegriff" size="30" maxlength="30" onkeyup="getInput()">&nbsp;
<input type="button" value="Search"
style="font-size:12px; width:50px; height:18px; padding:0"
onclick="call_search('search.html')" title="Search in ABAP Keyword Documentation" >
<hr style="width:100%;height:1px"></p>
<p class="copyright">AS ABAP Release 754, &copy;Copyright 2019 SAP SE. All rights reserved.</p>
<span class="path">
<a href="javascript:call_link('abenabap.html')" class="blue">ABAP Keyword Documentation</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_reference.html')" class="blue">ABAP &#x2212; Reference</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abendeclarations.html')" class="blue">Declarations</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_declarations.html')" class="blue">Declaration Statements</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenclasses_and_interfaces.html')" class="blue">Classes and Interfaces</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_objects_oview.html')" class="blue">ABAP Objects - Overview</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenobject.html')" class="blue">Objects</a>&nbsp;&rarr;&nbsp;
</span>
<p><span class="h1">
Object References
</span></p>
<p>
Object references are used as pointer objects. Object references (the content of object reference variables) are the only way to
<a href="javascript:call_link('abenclass_components_addressing.html')" class="blue">access</a> the components of objects in an ABAP program. References can be used to access attributes and methods, but not events.
</p>
<ul class="disc">
<li><A HREF="#@@ITOC@@ABENREFERENCES_1" class="blue">Object Reference Variables</A></li>
</ul>
<ul class="disc">
<li><A HREF="#@@ITOC@@ABENREFERENCES_2" class="blue">Static Type of Object Reference Variables</A></li>
</ul>
<ul class="circlem2">
<li><A HREF="#@@ITOC@@ABENREFERENCES_3" class="blue">Class Reference Variables</A></li>
</ul>
<ul class="circlem2">
<li><A HREF="#@@ITOC@@ABENREFERENCES_4" class="blue">Interface Reference Variables</A></li>
</ul>
<ul class="circlem2">
<li><A HREF="#@@ITOC@@ABENREFERENCES_5" class="blue">Special Object Reference Variables</A></li>
</ul>
<ul class="disc">
<li><A HREF="#@@ITOC@@ABENREFERENCES_6" class="blue">Initializes Object Reference Variables</A></li>
</ul>
<ul class="disc">
<li><A HREF="#@@ITOC@@ABENREFERENCES_7" class="blue">Assigning Object References Using Up Cast</A></li>
</ul>
<ul class="disc">
<li><A HREF="#@@ITOC@@ABENREFERENCES_8" class="blue">Assigning Object References Using Down Cast</A></li>
</ul>
<ul class="disc">
<li><A HREF="#@@ITOC@@ABENREFERENCES_9" class="blue">Object References as Actual Parameters</A></li>
</ul>
<ul class="disc">
<li><A HREF="#@@ITOC@@ABENREFERENCES_10" class="blue">Assigning Object References to Field symbols</A></li>
</ul>
<A name="@@ITOC@@ABENREFERENCES_1"></A>
<p><span class="h2">
Object Reference Variables
</span></p>
<p>
Object reference variables contain object references. An object reference variable <span class="qtext">oref</span> is either initial or contains a reference to an existing object. In the latter case, the
<a href="javascript:call_link('abenpredicate_expression_glosry.html')" class="grey" title="Glossary Entry">predicate expression</a>
<a href="javascript:call_link('abenlogexp_bound.html')" class="blue"><span class="qtext">oref IS BOUND</span></a> is true. An
object reference variable that points to an object contains the 'address' of the object. Objects and their components can only be addressed through object references.
</p>
<p>
Reference variables are data objects with a deep data type. A reference variable can be defined as the
smallest indivisible unit of complex data objects such as structures and internal tables. When handling
reference variables or complex data objects that contain reference variables, note the special features that apply for deep types.
</p>
<A name="@@ITOC@@ABENREFERENCES_2"></A>
<p><span class="h2">
Static Type of Object Reference Variables
</span></p>
<p>
Object reference variables can be created either as class reference variables or interface reference variables.
</p>
<A name="@@ITOC@@ABENREFERENCES_3"></A>
<p><span class="h3">
Class Reference Variables
</span></p>
<dl><dd>
A reference variable with the static type of a class is called a class reference variable. Class reference
variables are defined by the addition <span class="qtext">TYPE REF TO class</span> of the <span class="qtext">TYPES</span> statement or <span class="qtext">DATA</span> statement. In this case, <span class="qtext">class</span> is a
<a href="javascript:call_link('abenclass_glosry.html')" class="grey" title="Glossary Entry">class</a> known at the point of declaration.
</dd></dl>
<dl><dd>
A class reference variable <span class="qtext">cref</span> enables the consumer to use the form <span class="qtext">
cref->comp</span> to access all of the visible components <span class="qtext">comp</span> of the object to which the object reference points, which usually means all public components of the class.
</dd></dl>
<A name="@@ITOC@@ABENREFERENCES_4"></A>
<p><span class="h3">
Interface Reference Variables
</span></p>
<dl><dd>
A reference variable with the static type of an interface is called an interface reference variable.
Interface reference variables are defined by the addition <span class="qtext">TYPE REF TO intf</span>
of the <span class="qtext">TYPES</span> statement or <span class="qtext">DATA</span> statement. In this case, <span class="qtext">intf</span> is an
<a href="javascript:call_link('abeninterface_glosry.html')" class="grey" title="Glossary Entry">interface</a> known at the point of declaration.
</dd></dl>
<dl><dd>
An interface reference <span class="qtext">iref</span> enables the consumer to use <span class="qtext">iref->icomp</span>
to access all of the visible interface components <span class="qtext">icomp</span> of the object to
which the reference points. Interface components are those components of an object that are declared by implementing the interface in the class.
</dd></dl>
<p>
As well as in declarations, the addition <span class="qtext">REF TO ...</span> can be used in all other statements in which types can be specified, for example to specify the
<a href="javascript:call_link('abentyping_glosry.html')" class="grey" title="Glossary Entry">types</a> of interface parameters in <a href="javascript:call_link('abenprocedure_glosry.html')" class="grey" title="Glossary Entry">procedures</a>.
</p>
<A name="@@ITOC@@ABENREFERENCES_5"></A>
<p><span class="h3">
Special Object Reference Variables
</span></p>
<p>
Within a class there are two specific references, the
<a href="javascript:call_link('abenself_reference_glosry.html')" class="grey" title="Glossary Entry">self-reference</a> <span class="qtext">me</span> and the
<a href="javascript:call_link('abenpseudo_reference_glosry.html')" class="grey" title="Glossary Entry">pseudo reference</a> <span class="qtext">super</span>.
</p>
<ul class="disc">
<li>The self-reference <span class="qtext">me</span> is used to address the components of an object
explicitly. In the instance methods of a class, <span class="qtext">me</span> is a predefined local
reference variable with the type of the class in which the instance method is implemented that points
to its own instance. It can be specified when addressing its own component but does not have to be. It can also be assigned to other reference variables or passed to methods.</li>
</ul>
<ul class="disc">
<li>The pseudo reference <span class="qtext">super</span> is used to call the obscured method in a redefined
instance method in inheritances. The pseudo reference reference is not a genuine reference because an
instance of a subclass cannot have an associated superclass instance, and hence cannot have a reference
variable. The pseudo reference <span class="qtext">super</span> is the syntax expression for a method call in a superclass.</li>
</ul>
<A name="@@ITOC@@ABENREFERENCES_6"></A>
<p><span class="h2">
Initializes Object Reference Variables
</span></p>
<p>
Like other variables, object reference variables are also initialized using the statement <a href="javascript:call_link('abapclear.html')" class="blue">
<span class="qtext">CLEAR</span></a>. The initial value of an object reference variable is a reference that does not point to any object.
</p>
<A name="@@ITOC@@ABENREFERENCES_7"></A>
<p><span class="h2">
Assigning Object References Using Up Cast
</span></p>
<p>
Object references can be assigned between object reference variables. This means that the references
in several reference variables can point to the same object (sharing). If you make assignments between
reference variables, the dynamic type of the source variable must be compatible with the static type
of the target variable. The dynamic type is the class of the object to which the reference in a reference
variable points. The static type is the type (class or interface) with which the reference variable
has been typed. The static type of the target variable must always be more general than the dynamic type of the source variable.
</p>
<p>
The syntax check in the program can only compare the static type of the source variable with the static
type of the target variable. If reference variables are assigned using the <a href="javascript:call_link('abenequals_operator.html')" class="blue">assignment operator
(<span class="qtext">=</span>)</a>, this comparison is performed and assignments can only be made that meet the above requirements for static types (known as
<a href="javascript:call_link('abenup_cast_glosry.html')" class="grey" title="Glossary Entry">up cast</a>s). The same applies
when passing parameters to procedures. Assignments of this kind are always possible if the static type
of the target variable can address the same number of components as the static type of the source variable or fewer components.
</p>
<p>
If <span class="qtext">cref1</span> and <span class="qtext">cref2</span> are class reference variables
and <span class="qtext">iref1</span> and <span class="qtext">iref2</span> are interface reference variables, the following assignments can be checked statically: <br>
</p>
<ul class="disc">
<li><span class="qtext">cref1 = cref2</span> <br></li>
</ul>
<dl><dd>
Both class reference variables must refer to the same class, or the class of <span class="qtext">cref1</span>
is a superclass of the class of <span class="qtext">cref2</span>. The class of <span class="qtext">cref1</span>
can therefore always be <span class="qtext">object</span>, because <span class="qtext">object</span> is the superclass for all classes in ABAP Objects. <br>
</dd></dl>
<ul class="disc">
<li><span class="qtext">iref1 = iref2</span> <br></li>
</ul>
<dl><dd>
Both interface reference variables must refer to the same interface, or the interface of <span class="qtext">iref2</span>
must be a nested interface that contains interface of <span class="qtext">iref1</span> as a component. <br>
</dd></dl>
<ul class="disc">
<li><span class="qtext">iref1 = cref1</span> <br></li>
</ul>
<dl><dd>
The class of the class reference variable <span class="qtext">cref1</span> or one of its superclasses
must implement the interface of the interface reference variable <span class="qtext">iref1</span>. The
implementation can be performed directly or using a nested interface that contains the interface of <span class="qtext">iref1</span> as a component. <br>
</dd></dl>
<ul class="disc">
<li><span class="qtext">cref1 = iref1</span> <br></li>
</ul>
<dl><dd>
The class of <span class="qtext">cref1</span> must be <span class="qtext">object</span>, that is, the reference variable <span class="qtext">cref1</span> must have the type <span class="qtext">REF TO object</span>.
</dd></dl>
<p>
<span class="qtext">object</span> is a predefined empty class and the root node for all inheritance
trees in ABAP Objects. This class has no components and is the generic type of all object reference
variables.  Reference variables with the type <span class="qtext">object</span> can be used as containers for passing references. They cannot be used for static
<a href="javascript:call_link('abenclass_components_addressing.html')" class="blue">access</a> to objects. Dynamic access is possible.
</p>
<A name="@@ITOC@@ABENREFERENCES_8"></A>
<p><span class="h2">
Assigning Object References Using Down Cast
</span></p>
<p>
In all cases where a static type check is not possible, and in all cases where type checks are not performed until program runtime, an explicit down cast is necessary. The following make this possible:
</p>
<ul class="disc">
<li>Assignments with the casting operator <a href="javascript:call_link('abapmove_cast.html')" class="blue"><span class="qtext">?=</span></a>.
In this case, there is no static type check. Instead, the system checks at runtime whether the object
reference in the source variable points to an object to which the object reference in the target variable
may also point. The dynamic type of the source variable is compared with the static type of the target
variable. If assignment is possible, the system assigns the reference, otherwise, it raises the handleable exception CX_SY_MOVE_CAST_ERROR.</li>
</ul>
<ul class="disc">
<li><a href="javascript:call_link('abenconstructor_expression_glosry.html')" class="grey" title="Glossary Entry">Constructor
expressions</a> using the casting operator <a href="javascript:call_link('abenconstructor_expression_cast.html')" class="blue"><span class="qtext">
CAST</span></a>, which can be used in all operand positions. This has the same effect as an assignment, but can reduce the number of helper variables needed.</li>
</ul>
<ul class="disc">
<li>The addition <span class="qtext">INTO</span> of the statement <a href="javascript:call_link('abapwhen_type.html')" class="blue"><span class="qtext">
WHEN TYPE</span></a> in a case distinction using <a href="javascript:call_link('abapcase_type.html')" class="blue"><span class="qtext">CASE TYPE OF</span></a>. This combines a feasibility check for the down cast and the down cast itself.</li>
</ul>
<p>
The syntax requires a down cast to be used in all cases that are not specified above for static type checks.
</p>
<p>
For non-initial reference variables, the predicate expression <a href="javascript:call_link('abenlogexp_instance_of.html')" class="blue"><span class="qtext">
IS INSTANCE OF</span></a> or the case distinction <a href="javascript:call_link('abapcase_type.html')" class="blue"><span class="qtext">CASE
TYPE OF</span></a> can be used to check whether a down cast can be applied to specific classes or interfaces.
</p>
<p><span class="h4">
Example
</span></p>
<dl><dd>
<span class="qtext">cref1 ?= iref1</span>
</dd></dl>
<dl><dd>
Assigning an interface reference variable to a class reference variable. For the assignment to be successful,
the object to which <span class="qtext">iref1</span> points must belong to the same class as the type of the class reference variable <span class="qtext">cref1</span> or to an appropriate subclass.
</dd></dl>
<A name="@@ITOC@@ABENREFERENCES_9"></A>
<p><span class="h2">
Object References as Actual Parameters
</span></p>
<p>
Object references can be passed as actual parameters to
<a href="javascript:call_link('abenprocedure_glosry.html')" class="grey" title="Glossary Entry">procedures</a> (methods, function
modules , and subroutines ) by specifying object reference variables. As far as typed formal parameters
are concerned, note that you may only pass actual parameters of exactly the same type if the formal
parameter can be changed in the procedure. This applies also to <span class="qtext">EXPORTING</span>
and <span class="qtext">CHANGING</span> parameters of function modules and methods , parameters in subroutines passed by reference, and <span class="qtext">CHANGING</span> parameters in subroutines passed by value .
</p>
<p>
Passing actual parameters to formal parameters like in an
<a href="javascript:call_link('abenup_cast_glosry.html')" class="grey" title="Glossary Entry">up cast</a> (such as when passing
a class reference variable to a formal parameter typed with reference to an interface of the class or one of its superclasses) is not possible if the parameter can be changed in the procedure.
</p>
<p>
The reason is that a reference could be assigned to the actual parameter in the procedure which is incompatible
with its static type, such as a reference to any other class that implements the same interface or a reference to a subclass in another path of the inheritance tree.
</p>
<A name="@@ITOC@@ABENREFERENCES_10"></A>
<p><span class="h2">
Assigning Object References to Field symbols
</span></p>
<p>
When you assign object references to typed field symbols, the same applies as when you pass a reference
to typed formal parameters: The types must be identical. Otherwise, incompatibilities between dynamic
and static types may occur. For example, if you assign two class reference variables of different classes implementing the same interface one after the other to the same field symbol, an inconsistent state results.
</p>
<br>
<br>
<br>
<br>
</DIV>
<fieldset style="opacity:0">
<input id="url" type="text" />
</fieldset>
</BODY>

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abenreferences.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:52:21 GMT -->
</html>

<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="EN">
<!-- ABAPMODIFY_DBTAB -->

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abapmodify_dbtab.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:51:50 GMT -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="author" content="SAP">
<meta name="description" content="MODIFY dbtab">
<meta name="keywords" content="ABAP, Database Table, Insert or Edit">
<title>
MODIFY dbtab - ABAP Keyword Documentation
</title>
<link rel="icon" href="ABAPIcon.ico" type="image/ico">
<link rel="shortcut icon" href="ABAPIcon.ico">
<LINK rel="stylesheet" href="abap_docu.css" type="text/css">
<script language="javascript" type="text/javascript" src="functions.js"></script>
<script type="text/JavaScript">
function urlToClipboard(id){
 try{ var loc = top.location.href;}
 catch(e){ alert( "URL cannnot be determined" ); return; }
 var field = document.getElementById(id);
 field.focus();
 if ( loc.search( ".htm" ) == -1 && loc.search( ".HTM" ) == -1  ){ loc = loc + "index.htm"; }
 if (   loc.search( "index.html" ) != -1
     || loc.search( "INDEX-2.html" ) != -1 ){
   var off = loc.search( "file=" );
   if ( off == -1  ){
     field.value = loc + "?file=abapmodify_dbtab.htm"; }
   else {
     field.value = loc.substring( 0, off ) + "file=abapmodify_dbtab.htm";
   }
 }
 else {
    field.value = loc; }
 field.setSelectionRange(0, field.value.length);
 var r = confirm( "Copy URL to clipboard?\n\n" + field.value + "\n\nCopy to clipboard does not work in all browsers." );
 if (r == true) {
   try{
     document.execCommand("copy");
   }
     catch(e){ alert( "URL could not be copied to clipboard" ); }
 }
 window.scrollTo(0,0);
}
</script>
</head>
<body>
<div class="all">
<div style="float:right;">
<input type="button" value="URL"
style="font-size:10px; width:30px; height:18px; padding:0; "
onclick="urlToClipboard('url')" title="Copy URL to Clipboard" ></div>
<p>
<input name="query" id="query" value="" type="text" title="Suchbegriff" size="30" maxlength="30" onkeyup="getInput()">&nbsp;
<input type="button" value="Search"
style="font-size:12px; width:50px; height:18px; padding:0"
onclick="call_search('search.html')" title="Search in ABAP Keyword Documentation" >
<hr style="width:100%;height:1px"></p>
<p class="copyright">AS ABAP Release 754, &copy;Copyright 2019 SAP SE. All rights reserved.</p>
<span class="path">
<a href="javascript:call_link('abenabap.html')" class="blue">ABAP Keyword Documentation</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_reference.html')" class="blue">ABAP &#x2212; Reference</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_language_external_data.html')" class="blue">Processing External Data</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_sql.html')" class="blue">ABAP Database Access</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenopensql.html')" class="blue">ABAP SQL</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenopen_sql_writing.html')" class="blue">ABAP SQL - Write Accesses</a>&nbsp;&rarr;&nbsp;
</span>
<A NAME="@@MODIFY dbtab@@!ABAP_STATEMENT_OSQL!@@"></A>
<A NAME="@@FROM@@MODIFY dbtab@@"></A>
<p><span class="h1">
MODIFY dbtab <br><br>
</span></p>
<P>
<a href="javascript:call_link('abapmodify_dbtab_shortref.html')" class="blue">Quick Reference</a> <br><br>
</P>
<p><span class="h2">
<span class="bold">Syntax</span>
</span></p>
<P>
<span class="qtext">MODIFY <span class="lnkgrey">target</span> <i class=bn>[</i><span class="lnkgrey">connection</span><i class=bn>]</i> FROM <a href="javascript:call_link('abapmodify_source.html')" class="blue">source</a>.</span> <br><br>
</P>
<p><span class="h4">
Effect
</span></p>
<P>
The <a href="javascript:call_link('abenopen_sql_glosry.html')" class="grey" title="Glossary Entry">ABAP SQL</a> statement <span class="qtext">
MODIFY</span> inserts one or more rows specified in <span class="lnkgrey"><span class="qtext">source</span></span>
in the database table or classic view specified in <span class="lnkgrey"><span class="qtext">target</span></span>,
or overwrites existing rows. The addition <span class="lnkgrey"><span class="qtext">connection</span></span> can be used to specify a
<a href="javascript:call_link('abensecondary_db_connection_glosry.html')" class="grey" title="Glossary Entry">secondary connection</a>. <br><br>
</P>
<P>
<span class="bold">System Fields</span> <br><br>The statement <span class="qtext">MODIFY</span> sets the values of the system fields <span class="qtext">sy-subrc</span> and <span class="qtext">sy-dbcnt</span>. <br><br>
</P>
<table border>
<tr>
<td><span class="qtext"><span class="bold">sy-subrc</span></span></td>
<td><span class="bold">Meaning</span></td>
</tr>
<tr>
<td>0 (means:</td>
<td>When a work area was declared in <span class="qtext">source</span>, the specified row was inserted
or modified. When an internal table was specified in <span class="qtext">source</span>, all specified lines were inserted, modified, or the internal table is empty.</td>
</tr>
<tr>
<td>2 (means:</td>
<td>When a <a href="javascript:call_link('abenlob_handle_structure_glosry.html')" class="grey" title="Glossary Entry">LOB handle structure</a> was specified with a component for
<a href="javascript:call_link('abenwriter_stream_glosry.html')" class="grey" title="Glossary Entry">writer streams</a>, the non-LOB
handle components were not yet written to the database, but instead are passed when the stream is closed,
at the latest. Whether this situation occurs or not depends on the database. See <span class="lnkgrey">LOB handles</span>.</td>
</tr>
<tr>
<td>4 (means:</td>
<td>When a work area or a subquery was specified in <span class="qtext">source</span>, no rows were
processed, or when an internal table was specified in <span class="qtext">source</span>, not all specified rows were processed because there is already a row with the same unique
<a href="javascript:call_link('abensecondary_index_glosry.html')" class="grey" title="Glossary Entry">secondary index</a> in the database table.</td>
</tr>
</table><br>
<P>
The statement <span class="qtext">MODIFY</span> sets <span class="qtext">sy-dbcnt</span> to the number
of processed rows. If an overflow occurs because the number or rows is greater than 2,147,483,647, <span class="qtext">
sy-dbcnt</span> is set to -1. If <span class="qtext">sy-subrc</span> is 2, <span class="qtext">sy-dbcnt</span> is also set to the value -1 (for undefined). <br><br>
</P>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>
The changes are committed to the database by the next
<a href="javascript:call_link('abendatabase_commit_glosry.html')" class="grey" title="Glossary Entry">database commit</a>. Until that point, they can still be undone using a
<a href="javascript:call_link('abendatabase_rollback_glosry.html')" class="grey" title="Glossary Entry">database rollback</a> The current
<a href="javascript:call_link('abendb_isolation.html')" class="blue">isolation level</a> defines whether the modified data can be read into other
<a href="javascript:call_link('abendatabase_luw_glosry.html')" class="grey" title="Glossary Entry">database LUWs</a> before or only after the database commit.
<br><br></li>
<li>
The statement <span class="qtext">MODIFY</span> sets a
<a href="javascript:call_link('abendatabase_lock_glosry.html')" class="grey" title="Glossary Entry">database lock</a> as an
<a href="javascript:call_link('abenexclusive_lock_glosry.html')" class="grey" title="Glossary Entry">exclusive lock</a> until the next database commit or rollback. If used incorrectly, this can produce a
<a href="javascript:call_link('abendeadlock_glosry.html')" class="grey" title="Glossary Entry">deadlock</a>.
<br><br></li>
<li>
The number of rows that can be inserted or modified in the tables of a database within a
<a href="javascript:call_link('abendatabase_luw_glosry.html')" class="grey" title="Glossary Entry">database LUW</a> is limited, since a database system can only manage a limited amount of locks and data in the rollback area.
<br><br></li>
<li>
Once rows have been inserted in a <a href="javascript:call_link('abenddic_database_tables_gtt.html')" class="blue">global temporary table</a>, this table must be emptied again explicitly before the next implicit
<a href="javascript:call_link('abendatabase_commit_glosry.html')" class="grey" title="Glossary Entry">database commit</a> using
the ABAP SQL statement <a href="javascript:call_link('abapdelete_dbtab.html')" class="blue"><span class="qtext">DELETE FROM</span></a> without <span class="qtext">WHERE</span> or using an explicit
<a href="javascript:call_link('abendb_commit.html')" class="blue">database commit</a> or <a href="javascript:call_link('abendb_rollback.html')" class="blue">database rollback</a>. If not, the runtime error COMMIT_GTT_ERROR is produced.
<br><br></li>
<li>
The statement <span class="qtext">MODIFY dbtab FROM wa</span> has the statement <a href="javascript:call_link('abapmodify_itab_single.html')" class="blue">
<span class="qtext">MODIFY itab FROM wa</span></a> with identical syntax. If an internal table has the same name as a database table, a statement like this accesses the internal table.
<br></li>
</ul>
<p><span class="h4">
Example
</span></p>
<p>
The first <span class="qtext">MODIFY</span> statement inserts a row in an empty table. The second <span class="qtext">
MODIFY</span> statement modifies the values of the non-key fields of this row and inserts two additional rows.
</p>
<p class="qtextml1">
<span class="qtext">
DELETE FROM demo_update. <br> <br>MODIFY demo_update FROM @( <br>&nbsp;&nbsp;VALUE #(&nbsp;&nbsp;id = 'X' col1 = 10 col2 = 20 col3 = 30 col4 = 40 ) ). <br>
 <br>MODIFY demo_update FROM TABLE @( <br>&nbsp;&nbsp;VALUE #( ( id = 'X' col1 =&nbsp;&nbsp;1 col2 =&nbsp;&nbsp;2 col3 =&nbsp;&nbsp;3 col4 =&nbsp;&nbsp;4 ) <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( id = 'Y' col1 = 11 col2 = 12 col3 = 13 col4 = 14 ) <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( id = 'Z' col1 = 21 col2 = 22 col3 = 23 col4 = 24 ) ) ). <br><br>
</span>
</p>
<br>
<br>
<!-- POSTFIX --><span class="h4">Continue</span><br>
<a href="javascript:call_link('abapmodify_source.html')" class="blue">MODIFY dbtab - source</a><br>
<img src="exa.gif" alt="Example" title="Example">
<a href="javascript:call_link('abenbulk_modify_abexa.html')" class="blue">MODIFY FROM TABLE</a><br>
<br>
<br>
</DIV>
<fieldset style="opacity:0">
<input id="url" type="text" />
</fieldset>
</BODY>

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abapmodify_dbtab.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:51:50 GMT -->
</html>

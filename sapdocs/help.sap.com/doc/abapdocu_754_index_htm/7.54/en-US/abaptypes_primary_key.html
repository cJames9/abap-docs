<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="EN">
<!-- ABAPTYPES_PRIMARY_KEY -->

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abaptypes_primary_key.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:51:33 GMT -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="author" content="SAP">
<meta name="description" content="TYPES - key">
<meta name="keywords" content="ABAP, Primary Key, Primary Table Key">
<title>
TYPES - key - ABAP Keyword Documentation
</title>
<link rel="icon" href="ABAPIcon.ico" type="image/ico">
<link rel="shortcut icon" href="ABAPIcon.ico">
<LINK rel="stylesheet" href="abap_docu.css" type="text/css">
<script language="javascript" type="text/javascript" src="functions.js"></script>
<script type="text/JavaScript">
function urlToClipboard(id){
 try{ var loc = top.location.href;}
 catch(e){ alert( "URL cannnot be determined" ); return; }
 var field = document.getElementById(id);
 field.focus();
 if ( loc.search( ".htm" ) == -1 && loc.search( ".HTM" ) == -1  ){ loc = loc + "index.htm"; }
 if (   loc.search( "index.html" ) != -1
     || loc.search( "INDEX-2.html" ) != -1 ){
   var off = loc.search( "file=" );
   if ( off == -1  ){
     field.value = loc + "?file=abaptypes_primary_key.htm"; }
   else {
     field.value = loc.substring( 0, off ) + "file=abaptypes_primary_key.htm";
   }
 }
 else {
    field.value = loc; }
 field.setSelectionRange(0, field.value.length);
 var r = confirm( "Copy URL to clipboard?\n\n" + field.value + "\n\nCopy to clipboard does not work in all browsers." );
 if (r == true) {
   try{
     document.execCommand("copy");
   }
     catch(e){ alert( "URL could not be copied to clipboard" ); }
 }
 window.scrollTo(0,0);
}
</script>
</head>
<body>
<div class="all">
<div style="float:right;">
<input type="button" value="URL"
style="font-size:10px; width:30px; height:18px; padding:0; "
onclick="urlToClipboard('url')" title="Copy URL to Clipboard" ></div>
<p>
<input name="query" id="query" value="" type="text" title="Suchbegriff" size="30" maxlength="30" onkeyup="getInput()">&nbsp;
<input type="button" value="Search"
style="font-size:12px; width:50px; height:18px; padding:0"
onclick="call_search('search.html')" title="Search in ABAP Keyword Documentation" >
<hr style="width:100%;height:1px"></p>
<p class="copyright">AS ABAP Release 754, &copy;Copyright 2019 SAP SE. All rights reserved.</p>
<span class="path">
<a href="javascript:call_link('abenabap.html')" class="blue">ABAP Keyword Documentation</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_reference.html')" class="blue">ABAP &#x2212; Reference</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abendeclarations.html')" class="blue">Declarations</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_declarations.html')" class="blue">Declaration Statements</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abentypes_and_objects.html')" class="blue">Data Types and Data Objects</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abentypes_statements.html')" class="blue">Declaring Data Types</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abaptypes.html')" class="blue">TYPES</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abaptypes_itab.html')" class="blue">TYPES - TABLE OF</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abaptypes_keydef.html')" class="blue">TYPES - tabkeys</a>&nbsp;&rarr;&nbsp;
</span>
<p><span class="h1">
TYPES - key <br><br>
</span></p>
<P>
<a href="javascript:call_link('abaptypes_shortref.html')" class="blue">Quick Reference</a> <br>
</P>
<p><span class="h2">
<span class="bold">Syntax</span>
</span></p>
<P>
<span class="qtext">... <i class=bn>{</i> <i class=bn>[</i>UNIQUE <i class=bn>|</i> NON-UNIQUE<i class=bn>]</i></span> <br>
<span class="qtext">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<i class=bn>{</i> <i class=bn>{</i>KEY <i class=bn>[</i>primary_key <i
class=bn>[</i>ALIAS key_name<i class=bn>]</i> COMPONENTS<i class=bn>]</i> comp1 comp2 ...<i class=bn>}</i></span> <br>
<span class="qtext">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<i class=bn>|</i> <i class=bn>{</i>DEFAULT KEY<i class=bn>}</i> <i class=bn>}</i>&nbsp;&nbsp;<i class=bn>}</i></span> <br>
<span class="qtext">&nbsp;&nbsp;<i class=bn>|</i> <i class=bn>{</i> EMPTY KEY <i class=bn>}</i> ...</span> <br><br>
</P>
<p><span class="h2">
Alternatives:
</span></p>
<P>
   <A HREF="#!ABAP_ALTERNATIVE_1@1@" class="blue"> 1. <span class="qtext">... <i class=bn>[</i>UNIQUE<i
class=bn>|</i>NON-UNIQUE<i class=bn>]</i> <i class=bn>{</i>KEY ...<i class=bn>}</i><i class=bn>|</i><i class=bn>{</i>DEFAULT KEY<i class=bn>}</i></span> </A> <br>
<br><A HREF="#!ABAP_ALTERNATIVE_2@2@" class="blue"> 2. <span class="qtext">... EMPTY KEY</span> </A> <br><br>
</P>
<A NAME="@@KEY primary_key@@TYPES@@"></A>
<A NAME="@@UNIQUE KEY primary_key@@TYPES@@"></A>
<A NAME="@@NON-UNIQUE KEY primary_key@@TYPES@@"></A>
<A NAME="@@DEFAULT KEY@@TYPES@@"></A>
<p><span class="h2">
<A NAME="!ABAP_ALTERNATIVE_1@1@"></A> <span class="bold">Alternative 1</span>
</span></p>
<P>
<span class="qtext">... <i class=bn>[</i>UNIQUE<i class=bn>|</i>NON-UNIQUE<i class=bn>]</i> <i class=bn>{</i>KEY ...<i
class=bn>}</i><i class=bn>|</i><i class=bn>{</i>DEFAULT KEY<i class=bn>}</i></span> <br><br><br><!-- /A -->
</P>
<p><span class="h3">
Extras:
</span></p>
<P>
   <A HREF="#!ABAP_ADDITION_1@1@" class="blue"> 1. <span class="qtext"> ... primary_key COMPONENTS</span> </A> <br>
<br><A HREF="#!ABAP_ADDITION_2@2@" class="blue"> 2. <span class="qtext">... ALIAS key_name</span> </A> <br><br>
</P>
<p><span class="h4">
Effect
</span></p>
<P>
Defines the <a href="javascript:call_link('abenprimary_table_key_glosry.html')" class="grey" title="Glossary Entry">primary table key</a> of a table type by specifying components or by specifying it as a standard key.
</P>
<P>
<span class="bold">Name of the Primary Key</span>
</P>
<P>
Like <a href="javascript:call_link('abaptypes_secondary_key.html')" class="blue">secondary keys</a>, the primary key also has
a name with which it is addressed. This name cannot be freely selected and is predefined as "primary_key".
It does not have to be explicitly specified when the table is defined since it is always set implicitly. However, it can also be specified before the addition <span class="qtext">COMPONENTS</span>.
</P>
<P>
<span class="bold">Key Fields</span>
</P>
<P>
The key fields of the primary key can be defined in the following ways; the order is significant:
</P>
<ul class="disc">
<li>
Individual components <span class="qtext">comp1 comp2 ...</span> of the row type are specified after
<span class="qtext">KEY</span>. The row type must be structured and the components cannot be table types
nor can they contain table types as components. For elementary row types, <span class="qtext">table_line</span> is the only component that can be specified. <br>
<br></li>
<li>
If the whole table row is to be defined as a key, the
<a href="javascript:call_link('abenpseudo_component_glosry.html')" class="grey" title="Glossary Entry">pseudo component</a> <span class="qtext">
table_line</span> can be specified as the only component <span class="qtext">comp</span> after <span class="qtext">
KEY</span>. This is possible for all row types that are not table types or that do not contain table
types as components. For structured row types, <span class="qtext">table_line</span> operates like a listing of each individual component. <br>
<br></li>
<li>
By specifying the <a href="javascript:call_link('abenstandard_key_glosry.html')" class="grey" title="Glossary Entry">standard
key</a> <span class="qtext">DEFAULT KEY</span>. The standard key fields of a structured row type are
all fields with a non-numeric elementary data type. The standard key for non-structured row types is
the entire table row, if the row type itself is not a table type. If there is no corresponding component or if the row type is itself a table type, the standard key is
<a href="javascript:call_link('abenitab_empty_key.html')" class="blue">empty</a> (this applies to standard tables only).
<br></li>
</ul>
<P>
The key fields of the primary table key are generally read-only in all operations that change the content of individual rows of a sorted table or hashed table.
</P>
<P>
<span class="bold">Uniqueness of the Primary Key</span>
</P>
<P>
If specified, <span class="qtext">UNIQUE</span> or <span class="qtext">NON-UNIQUE</span> specify the
uniqueness of the primary table key. In the case of a primary table key specified with <span class="qtext">UNIQUE</span>,
a row with specific content of the key fields can appear only once in an internal table of this type. Only <span class="qtext">NON-UNIQUE</span> can be used for
<a href="javascript:call_link('abenstandard_table_glosry.html')" class="grey" title="Glossary Entry">standard tables</a>. <span class="qtext">UNIQUE</span> must be used for
<a href="javascript:call_link('abenhashed_table_glosry.html')" class="grey" title="Glossary Entry">hashed tables</a> and both can be specified for
<a href="javascript:call_link('abensorted_table_glosry.html')" class="grey" title="Glossary Entry">sorted tables</a>.
</P>
<P>
Uniqueness does not have to be specified, which makes the table type partially generic with respect to the primary key (if specified). The table type can then only be used for
<a href="javascript:call_link('abentyping_glosry.html')" class="grey" title="Glossary Entry">typings</a> of formal parameters or field symbols. The differences between the table categories are as follows:
</P>
<ul class="disc">
<li>
The addition <span class="qtext">NON-UNIQUE</span> is expanded implicitly in the case of types for standard tables. A standard table is never generic with respect to uniqueness. <br>
<br></li>
<li>
Types for sorted tables can be completely generic with respect to uniqueness. <br>
<br></li>
<li>
Types for hash tables can be completely generic with respect to uniqueness; a fixed hash table, however, always has a unique primary key. <br>
<br></li>
<li>
Uniqueness cannot be specified for the generic table categories <span class="qtext">ANY TABLE</span> or <span class="qtext">INDEX TABLE</span>. <br><br>
<br></li>
</ul>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>
The declaration of the primary table key as a <a href="javascript:call_link('abenstandard_key_glosry.html')" class="grey" title="Glossary Entry">standard key</a> can be
<a href="javascript:call_link('abenitab_standard_key.html')" class="blue">critical</a> for various reasons. We recommend that you specify the key fields explicitly instead.
<br><br></li>
<li>
Structured components in particular can be explicitly specified as key fields, provided that the components meet the other requirements. When a structured key field is evaluated, the rules for
<a href="javascript:call_link('abenlogexp_rules_operands_struc.html')" class="blue">structure comparisons</a> apply.
<br><br></li>
<li>
Key fields can also have <a href="javascript:call_link('abenreference_type_glosry.html')" class="grey" title="Glossary Entry">reference
types</a>. However, particularly for sorted keys this is not recommended, as sorting reference variables
is questionable. For non-initial invalid references, no order is defined. A runtime error occurs if such a reference has to be compared within the framework of a key access.
<br><br></li>
<li>
The addition <span class="qtext">DEFAULT KEY</span> must not be confused with the addition <span class="qtext">EMPTY KEY</span>. A standard key declared using the addition <span class="qtext">DEFAULT KEY</span> can be
<a href="javascript:call_link('abenitab_empty_key.html')" class="blue">empty</a> unexpectedly in a standard table, whereas <span class="qtext">EMPTY KEY</span> declares empty primary table keys explicitly for tables with any row types.
<br><br></li>
<li>
<a href="javascript:call_link('abenstatic_box_glosry.html')" class="grey" title="Glossary Entry">Static boxes</a> and their components can be key fields of internal tables. <br><br>
<br></li>
</ul>
<p><span class="h4">
Example
</span></p>
<P>
Definition of a primary key without explicit name specification. The statement has the same meaning as in the following example.
</P>
<p class="qtextml1">
<span class="qtext">
TYPES sbook_tab <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TYPE SORTED TABLE <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OF sbook <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WITH UNIQUE KEY carrid connid fldate bookid. <br><br>
</span>
</p>
<A NAME="@@primary_key COMPONENTS@@TYPES@@"></A>
<p><span class="h3">
<A NAME="!ABAP_ADDITION_1@1@"></A> <span class="bold">Addition 1</span>
</span></p>
<P>
<span class="qtext"> ... primary_key COMPONENTS</span>   <br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<P>

</P>
<P>
If the key fields are defined by specifying components, the name of the primary key can be specified
explicitly in the statement <span class="qtext">TYPES</span>. However, the predefined name "primary_key"
must be specified for <span class="qtext">primary_key</span>. The addition <span class="qtext">COMPONENTS</span> must then also be specified before the component is specified.
</P>
<p><span class="h4">
Note
</span></p>
<P>
Explicitly specifying the name <span class="qtext">primary_key</span> does not enable the predefined
name "primary_key" to be changed, but does enable an alias name to be specified using the addition <span class="qtext">ALIAS</span>. <br><br>
</P>
<p><span class="h4">
Example
</span></p>
<P>
Definition of a primary key with explicit name specification. The statement has the same meaning as in the previous example.
</P>
<p class="qtextml1">
<span class="qtext">
TYPES sbook_tab <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TYPE SORTED TABLE <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OF sbook <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WITH UNIQUE KEY primary_key <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; COMPONENTS carrid connid fldate bookid. <br><br>
</span>
</p>
<A NAME="@@ALIAS@@TYPES@@"></A>
<p><span class="h3">
<A NAME="!ABAP_ADDITION_2@2@"></A> <span class="bold">Addition 2</span>
</span></p>
<P>
<span class="qtext">... ALIAS key_name</span>   <br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<P>
An alias name <span class="qtext">key_name</span> can be defined for the primary key when using sorted
tables and hashed tables, as long as the primary key is not generic. The alias name is in the namespace of the secondary key, must comply with the
<a href="javascript:call_link('abennaming_conventions.html')" class="blue">naming conventions</a>, and must be unique. It enables the primary key to be addressed like a secondary key by means of a self-defined name.
</P>
<P>
The syntax requires the name <span class="qtext">primary_key</span> to be specified explicitly in the definition of the alias name too.
</P>
<p><span class="h4">
Example
</span></p>
<p>
Defines a primary key with an explicitly specified name and its use in a <a href="javascript:call_link('abentable_expression_glosry.html')" class="grey" title="Glossary Entry">table expression</a>.
</p>
<p class="qtextml1">
<span class="qtext">
TYPES sbook_tab <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TYPE SORTED TABLE <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OF sbook <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WITH UNIQUE KEY primary_key ALIAS full_table_key <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; COMPONENTS carrid connid fldate bookid. <br>
 <br>DATA bookings TYPE sbook_tab. <br> <br>DATA(customid) = bookings[ KEY full_table_key COMPONENTS <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; carrid = '...' <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; connid = '...' <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fldate = '...' <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; bookid = '...'&nbsp;&nbsp;]-customid. <br><br>
</span>
</p>
<A NAME="@@EMPTY KEY@@TYPES@@"></A>
<p><span class="h2">
<A NAME="!ABAP_ALTERNATIVE_2@2@"></A> <span class="bold">Alternative 2</span>
</span></p>
<P>
<span class="qtext">... EMPTY KEY</span> <br><br><br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<P>
Defines an <a href="javascript:call_link('abenitab_empty_key.html')" class="blue">empty primary key</a> of a table type. This variant is possible for standard tables only. An empty table key does not contain any key fields.
</P>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>
When an empty table key is defined explicitly, this means that the internal table is to be handled like an array that is not subject to being ordered by key values.
<br><br></li>
<li>
The ordering of a standard table with an empty primary key is determined for the most part by the
<a href="javascript:call_link('abenprimary_table_index_glosry.html')" class="grey" title="Glossary Entry">primary index</a>. There are no restrictions on related index accesses and loop processing.
<br><br></li>
<li>
In statements that evaluate the primary table key to identify rows, an empty table key generally produces unexpected behavior and a syntax check warning. For a list of these statements, see
<a href="javascript:call_link('abenitab_empty_key.html')" class="blue">Empty Table Key</a>.
<br><br></li>
<li>
A table key where <span class="qtext">EMPTY KEY</span> is used to declare an empty table key explicitly
is not generic with respect to its primary key. This means that the addition <span class="qtext">EMPTY KEY</span> can be used to prevent a table type from being too generic with respect to its primary key.
<br><br></li>
<li>
The explicit declaration of an empty table key using <span class="qtext">EMPTY KEY</span> is independent of the row type.
<br><br></li>
<li>
A standard table with an empty primary key can have non-empty <a href="javascript:call_link('abensecondary_key_glosry.html')" class="grey" title="Glossary Entry">secondary keys</a>.
<br><br></li>
<li>
Empty table keys can also be created implicitly when the
<a href="javascript:call_link('abenitab_standard_key.html')" class="blue">standard key</a> is used for standard tables. If an
empty table key is to be used, however, it is better to declare it explicitly using <span class="qtext">EMPTY KEY</span>.
<br></li>
</ul>
<p><span class="h4">
Example
</span></p>
<P>
The table in the example below is only intended for a loop in which all rows of the table are processed in a random order.
</P>
<dl><dd>
<span class="qtext">TYPES addresses TYPE STANDARD TABLE OF scustom-email WITH EMPTY KEY. <br> <br>DATA&nbsp;&nbsp;email_tab TYPE addresses. <br>
 <br>FIELD-SYMBOLS &lt;email> LIKE LINE OF email_tab. <br> <br>... <br> <br>SELECT email <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FROM scustom <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; INTO TABLE @email_tab. <br> <br>... <br> <br>LOOP AT email_tab ASSIGNING &lt;email> USING KEY primary_key. <br>
&nbsp;&nbsp;mail_manager->send( address = &lt;email> text = ... ). <br>ENDLOOP.</span>
</dd></dl>
<br>
<br>
<br>
<br>
</DIV>
<fieldset style="opacity:0">
<input id="url" type="text" />
</fieldset>
</BODY>

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abaptypes_primary_key.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:51:33 GMT -->
</html>

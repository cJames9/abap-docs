<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="EN">
<!-- ABENCDS_F1_GROUP_BY -->

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abencds_f1_group_by.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:51:51 GMT -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="author" content="SAP">
<meta name="description" content="ABAP CDS - SELECT, GROUP BY">
<title>
ABAP CDS - SELECT, GROUP BY - ABAP Keyword Documentation
</title>
<link rel="icon" href="ABAPIcon.ico" type="image/ico">
<link rel="shortcut icon" href="ABAPIcon.ico">
<LINK rel="stylesheet" href="abap_docu.css" type="text/css">
<script language="javascript" type="text/javascript" src="functions.js"></script>
<script type="text/JavaScript">
function urlToClipboard(id){
 try{ var loc = top.location.href;}
 catch(e){ alert( "URL cannnot be determined" ); return; }
 var field = document.getElementById(id);
 field.focus();
 if ( loc.search( ".htm" ) == -1 && loc.search( ".HTM" ) == -1  ){ loc = loc + "index.htm"; }
 if (   loc.search( "index.html" ) != -1
     || loc.search( "INDEX-2.html" ) != -1 ){
   var off = loc.search( "file=" );
   if ( off == -1  ){
     field.value = loc + "?file=abencds_f1_group_by.htm"; }
   else {
     field.value = loc.substring( 0, off ) + "file=abencds_f1_group_by.htm";
   }
 }
 else {
    field.value = loc; }
 field.setSelectionRange(0, field.value.length);
 var r = confirm( "Copy URL to clipboard?\n\n" + field.value + "\n\nCopy to clipboard does not work in all browsers." );
 if (r == true) {
   try{
     document.execCommand("copy");
   }
     catch(e){ alert( "URL could not be copied to clipboard" ); }
 }
 window.scrollTo(0,0);
}
</script>
</head>
<body>
<div class="all">
<div style="float:right;">
<input type="button" value="URL"
style="font-size:10px; width:30px; height:18px; padding:0; "
onclick="urlToClipboard('url')" title="Copy URL to Clipboard" ></div>
<p>
<input name="query" id="query" value="" type="text" title="Suchbegriff" size="30" maxlength="30" onkeyup="getInput()">&nbsp;
<input type="button" value="Search"
style="font-size:12px; width:50px; height:18px; padding:0"
onclick="call_search('search.html')" title="Search in ABAP Keyword Documentation" >
<hr style="width:100%;height:1px"></p>
<p class="copyright">AS ABAP Release 754, &copy;Copyright 2019 SAP SE. All rights reserved.</p>
<span class="path">
<a href="javascript:call_link('abenabap.html')" class="blue">ABAP Keyword Documentation</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_dictionary.html')" class="blue">ABAP - Dictionary</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abencds.html')" class="blue">ABAP CDS in ABAP Dictionary</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenddic_cds_entities.html')" class="blue">ABAP CDS - Data Definitions</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abencds_f1_ddl_syntax.html')" class="blue">ABAP CDS - DDL for Data Definitions</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abencds_f1_define_view.html')" class="blue">ABAP CDS - DEFINE VIEW</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abencds_f1_select_statement.html')" class="blue">ABAP CDS - SELECT</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abencds_select_clauses.html')" class="blue">ABAP CDS - SELECT, clauses</a>&nbsp;&rarr;&nbsp;
</span>
<A NAME="@@GROUP BY@@!ABAP_CDS_SELECT!@@"></A>
<p><span class="h1">
ABAP CDS - SELECT, GROUP BY
</span></p>
<A name="@@ITOC@@ABENCDS_F1_GROUP_BY_1"></A>
<p><span class="h2">
Syntax
</span></p>
<p>
<span class="qtext400">... GROUP BY field1, field2, ... <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp; <a href="javascript:call_link('abencds_f1_case_expression.html')" class="blue">path_expr1</a>, <a href="javascript:call_link('abencds_f1_case_expression.html')" class="blue">path_expr2</a>, ...</span>
</p>
<p><span class="h4">
Effect
</span></p>
<p>
Groups those rows in the results set of a <a href="javascript:call_link('abencds_view_glosry.html')" class="grey" title="Glossary Entry">
CDS view</a> in that have the same content in the elements specified by the fields <span class="qtext400">field1</span>, <span class="qtext400">field2</span>, ... or
<a href="javascript:call_link('abencds_f1_case_expression.html')" class="blue">path expressions</a> <span class="qtext400">path_expr1</span>,
<span class="qtext400">path_expr2</span> ... as a single row. The fields must be specified using the
same names as the fields in the data source <a href="javascript:call_link('abencds_f1_data_source.html')" class="blue"><span class="qtext400">
data_source</span></a>. The current CDS view cannot be specified using alternative element names, which are defined with <a href="javascript:call_link('abencds_f1_select_list_entry.html')" class="blue"><span class="qtext400">AS</span></a>.
</p>
<p>
Any elements of the CDS view that are not specified after <span class="qtext400">GROUP BY</span> must be defined in the <a href="javascript:call_link('abencds_f1_select_list.html')" class="blue"><span class="qtext400">SELECT</span> list</a> using
<a href="javascript:call_link('abencds_f1_aggregate_functions.html')" class="blue">aggregate expressions</a>. Conversely, <span class="qtext400">
GROUP BY</span> must be used if aggregate expressions are contained in the <span class="qtext400">SELECT</span>
list and all elements not defined using aggregate expressions must be specified after <span class="qtext400">GROUP
BY</span>. Literals and other expressions cannot be specified after <span class="qtext400">GROUP BY</span>.
If expressions or calls of built-in functions are specified as elements of the <span class="qtext400">SELECT</span>
list using aggregate expressions, all the fields used must be specified in the <span class="qtext400">GROUP BY</span> clause.
</p>
<p>
When the CDS view is accessed, the results of the aggregate expressions are calculated from the values
of the corresponding fields of the combined rows and the results are placed in the element of the resulting row in the results set.
</p>
<p>
The fields specified after <span class="qtext400">GROUP BY</span> cannot be of the <a href="javascript:call_link('abenddic_builtin_types.html')" class="blue">type</a> LCHR, LRAW, STRING, RAWSTRING, or GEOM_EWKB.
</p>
<p><span class="h4">
Note
</span></p>
<p>
A <a href="javascript:call_link('abencds_f1_where_clause.html')" class="blue"><span class="qtext400">WHERE</span> condition</a> is evaluated before the rows are combined using <span class="qtext400">GROUP BY</span>.
</p>
<p><span class="h4">
Example
</span></p>
<p>
When a CDS view is accessed, the view returns <span class="qtext400">sales_order</span> for every role
of a business partner and returns the number of business partners and the total of all gross amounts for every currency.
</p>
<dl><dd>
<span class="qtext400">@AbapCatalog.sqlViewName: 'SALES_ORDER_VW' <br>define view sales_order as <br>&nbsp;&nbsp;select from snwd_so <br>
&nbsp;&nbsp;&nbsp;&nbsp;inner join <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;snwd_bpa on buyer_guid = snwd_bpa.node_key <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ bp_role as role, //e.g. customer or supplier <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;count(distinct buyer_guid) as partners_count, <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Semantics.currencyCode snwd_so.currency_code, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Semantics.amount.currencyCode: 'currency_code' <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sum(snwd_so.gross_amount) as sum_gross_amount } <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;group by bp_role, snwd_so.currency_code;</span>
</dd></dl>
<br>
<br>
<br>
<br>
</DIV>
<fieldset style="opacity:0">
<input id="url" type="text" />
</fieldset>
</BODY>

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abencds_f1_group_by.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:51:51 GMT -->
</html>

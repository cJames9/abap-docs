<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="EN">
<!-- ABAPLOOP_AT_DBTAB -->

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abaploop_at_dbtab.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:51:55 GMT -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="author" content="SAP">
<meta name="description" content="LOOP AT dbtab">
<title>
LOOP AT dbtab - ABAP Keyword Documentation
</title>
<link rel="icon" href="ABAPIcon.ico" type="image/ico">
<link rel="shortcut icon" href="ABAPIcon.ico">
<LINK rel="stylesheet" href="abap_docu.css" type="text/css">
<script language="javascript" type="text/javascript" src="functions.js"></script>
<script type="text/JavaScript">
function urlToClipboard(id){
 try{ var loc = top.location.href;}
 catch(e){ alert( "URL cannnot be determined" ); return; }
 var field = document.getElementById(id);
 field.focus();
 if ( loc.search( ".htm" ) == -1 && loc.search( ".HTM" ) == -1  ){ loc = loc + "index.htm"; }
 if (   loc.search( "index.html" ) != -1
     || loc.search( "INDEX-2.html" ) != -1 ){
   var off = loc.search( "file=" );
   if ( off == -1  ){
     field.value = loc + "?file=abaploop_at_dbtab.htm"; }
   else {
     field.value = loc.substring( 0, off ) + "file=abaploop_at_dbtab.htm";
   }
 }
 else {
    field.value = loc; }
 field.setSelectionRange(0, field.value.length);
 var r = confirm( "Copy URL to clipboard?\n\n" + field.value + "\n\nCopy to clipboard does not work in all browsers." );
 if (r == true) {
   try{
     document.execCommand("copy");
   }
     catch(e){ alert( "URL could not be copied to clipboard" ); }
 }
 window.scrollTo(0,0);
}
</script>
</head>
<body>
<div class="all">
<div style="float:right;">
<input type="button" value="URL"
style="font-size:10px; width:30px; height:18px; padding:0; "
onclick="urlToClipboard('url')" title="Copy URL to Clipboard" ></div>
<p>
<input name="query" id="query" value="" type="text" title="Suchbegriff" size="30" maxlength="30" onkeyup="getInput()">&nbsp;
<input type="button" value="Search"
style="font-size:12px; width:50px; height:18px; padding:0"
onclick="call_search('search.html')" title="Search in ABAP Keyword Documentation" >
<hr style="width:100%;height:1px"></p>
<p class="copyright">AS ABAP Release 754, &copy;Copyright 2019 SAP SE. All rights reserved.</p>
<span class="path">
<a href="javascript:call_link('abenabap.html')" class="blue">ABAP Keyword Documentation</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_reference.html')" class="blue">ABAP &#x2212; Reference</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_obsolete.html')" class="blue">Obsolete Language Elements</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abendata_storage_obsolete.html')" class="blue">Obsolete Processing of External Data</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abendatabase_access_obsolete.html')" class="blue">Obsolete Database Access</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abendb_access_obsolete.html')" class="blue">Obsolete Access Statements</a>&nbsp;&rarr;&nbsp;
</span>
<A NAME="@@LOOP AT dbtab@@!ABAP_STATEMENT_OBS!@@"></A>
<p><span class="h1">
LOOP AT dbtab <br><br>
</span></p>
<P>
<a href="javascript:call_link('abaploop_at_dbtab_shortref.html')" class="blue">Quick Reference</a> <br><br>
</P>
<p><span class="h2">
<span class="bold">Obsolete Syntax</span>
</span></p>
<P>
<span class="qtext">LOOP AT <i class=bn>{</i> dbtab <i class=bn>|</i> *dbtab <i class=bn>}</i> <i class=bn>[</i>VERSION vers<i class=bn>]</i>.</span> <br>
<span class="qtext">&nbsp;&nbsp;...</span> <br><span class="qtext">ENDLOOP.</span> <br><br>
</P>
<p><span class="h3">
Addition:
</span></p>
<P>
   <A HREF="#!ABAP_ONE_ADD@1@" class="blue"> <span class="qtext">... VERSION vers</span> </A> <br><br>
</P>
<p><span class="h4">
Effect
</span></p>
<P>
The statements <span class="qtext">LOOP</span> and <span class="qtext">ENDLOOP</span> define a loop around a statement block (not allowed in classes). <span class="qtext">dbtab</span> expects a database table or
<a href="javascript:call_link('abenclassical_view_glosry.html')" class="grey" title="Glossary Entry">classic view</a> that starts with "T" and has a maximum length of five characters. For the database table or view <span class="qtext">dbtab</span>, a
<a href="javascript:call_link('abentable_work_area_glosry.html')" class="grey" title="Glossary Entry">table work area</a> or an
<a href="javascript:call_link('abaptables_asterisk.html')" class="blue">additional table work area</a> must be declared using
the statement <a href="javascript:call_link('abaptables.html')" class="blue"><span class="qtext">TABLES</span></a>. All components
of the table work area that match the primary key fields of the database table or view <span class="qtext">dbtab</span> must be character-like.
</P>
<P>
In each loop run, the statement <span class="qtext">LOOP</span> reads a row from the database table
or view <span class="qtext">dbtab</span> and assigns its content either to the table work area, or if
<span class="qtext">*dbtab</span> is specified, to the additional table work area. The rows to be read are determined by the content of the components of the table work area, which correspond with the
<a href="javascript:call_link('abenprimary_key_glosry.html')" class="grey" title="Glossary Entry">primary key fields</a> of the
database table or view <span class="qtext">dbtab</span>. Before the first loop run, the content of these
components is taken as the search key, reading from the left, and the database table or view is searched generically for suitable entries. The search key handles blanks as if they match all values.
</P>
<P>
If a database table or view is specified that does not begin with "T", the first letter is implicitly replaced by "T". The loop is not executed if the database table or view does not exist. <br><br>
</P>
<P>
<span class="bold">System Fields</span>
</P>
<table border>
<tr>
<td><span class="qtext"><span class="bold">sy-subrc</span></span></td>
<td><span class="bold">Meaning</span></td>
</tr>
<tr>
<td>12</td>
<td>The database table or view was not found.</td>
</tr>
</table><br>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>
This form of the <span class="qtext">LOOP</span>-loop is not allowed in classes. It must be replaced by the <a href="javascript:call_link('abapselect.html')" class="blue"><span class="qtext">SELECT</span></a> statement.
<br><br></li>
<li>
Obsolete access statements do not support <a href="javascript:call_link('abenopen_sql_client_handling.html')" class="blue">implicit client handling</a>. The
<a href="javascript:call_link('abenclient_identifier_glosry.html')" class="grey" title="Glossary Entry">client ID</a> of a database
table must be specified explicitly. Note that application programs should only use data from the current client. <br><br>
<br></li>
</ul>
<A NAME="@@VERSION@@LOOP AT dbtab (obsolete)@@"></A>
<p><span class="h3">
<A NAME="!ABAP_ONE_ADD@1@"></A> <span class="bold">Addition</span>
</span></p>
<P>
<span class="qtext">... VERSION vers</span> <!-- /A -->  <br>
</P>
<p><span class="h4">
Effect
</span></p>
<P>
If the addition <span class="qtext">VERSION</span> is specified, the database table or view <span class="qtext">dbtab</span>
is not read, and the table or view whose name is composed of "T" and the content of <span class="qtext">vers</span>
is read instead. <span class="qtext">vers</span> expects a data object with a maximum of four characters,
of type <span class="qtext">c</span>. The content of the row is still assigned to the table work area
of <span class="qtext">dbtab</span> or <span class="qtext">*dbtab</span> and its type is cast. If the table work area is too short, a runtime error occurs. <br><br>
</P>
<p><span class="h4">
Example
</span></p>
<P>
Sequential reading of rows from database table <span class="lnkgrey">T100</span>.
</P>
<dl><dd>
<span class="qtext">TABLES t100. <br> <br>t100 = space. <br>t100-sprsl = 'E'. <br>t100-arbgb = 'BC'. <br>t100-msgnr = '1'. <br> <br>LOOP AT t100. <br>&nbsp;&nbsp;... <br>ENDLOOP.</span>
</dd></dl>
<P>
The ABAP SQL syntax to be used instead reads:
</P>
<p class="qtextml1">
<span class="qtext">
DATA wa TYPE t100. <br> <br>SELECT * <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FROM t100 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; WHERE sprsl = 'E' AND <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; arbgb = 'BC' AND <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; msgnr LIKE '1%' <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; INTO @wa. <br>&nbsp;&nbsp;... <br>ENDSELECT.
</span>
</p>
<br>
<br>
<br>
<br>
</DIV>
<fieldset style="opacity:0">
<input id="url" type="text" />
</fieldset>
</BODY>

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abaploop_at_dbtab.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:51:55 GMT -->
</html>

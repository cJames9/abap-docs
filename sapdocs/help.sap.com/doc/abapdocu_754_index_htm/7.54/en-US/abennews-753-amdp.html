<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="EN">
<!-- ABENNEWS-753-AMDP -->

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abennews-753-amdp.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:52:58 GMT -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="author" content="SAP">
<meta name="description" content="AMDP in Release 7.53">
<title>
AMDP in Release 7.53 - ABAP Keyword Documentation
</title>
<link rel="icon" href="ABAPIcon.ico" type="image/ico">
<link rel="shortcut icon" href="ABAPIcon.ico">
<LINK rel="stylesheet" href="abap_docu.css" type="text/css">
<script language="javascript" type="text/javascript" src="functions.js"></script>
<script type="text/JavaScript">
function urlToClipboard(id){
 try{ var loc = top.location.href;}
 catch(e){ alert( "URL cannnot be determined" ); return; }
 var field = document.getElementById(id);
 field.focus();
 if ( loc.search( ".htm" ) == -1 && loc.search( ".HTM" ) == -1  ){ loc = loc + "index.htm"; }
 if (   loc.search( "index.html" ) != -1
     || loc.search( "INDEX-2.html" ) != -1 ){
   var off = loc.search( "file=" );
   if ( off == -1  ){
     field.value = loc + "?file=abennews-753-amdp.htm"; }
   else {
     field.value = loc.substring( 0, off ) + "file=abennews-753-amdp.htm";
   }
 }
 else {
    field.value = loc; }
 field.setSelectionRange(0, field.value.length);
 var r = confirm( "Copy URL to clipboard?\n\n" + field.value + "\n\nCopy to clipboard does not work in all browsers." );
 if (r == true) {
   try{
     document.execCommand("copy");
   }
     catch(e){ alert( "URL could not be copied to clipboard" ); }
 }
 window.scrollTo(0,0);
}
</script>
</head>
<body>
<div class="all">
<div style="float:right;">
<input type="button" value="URL"
style="font-size:10px; width:30px; height:18px; padding:0; "
onclick="urlToClipboard('url')" title="Copy URL to Clipboard" ></div>
<p>
<input name="query" id="query" value="" type="text" title="Suchbegriff" size="30" maxlength="30" onkeyup="getInput()">&nbsp;
<input type="button" value="Search"
style="font-size:12px; width:50px; height:18px; padding:0"
onclick="call_search('search.html')" title="Search in ABAP Keyword Documentation" >
<hr style="width:100%;height:1px"></p>
<p class="copyright">AS ABAP Release 754, &copy;Copyright 2019 SAP SE. All rights reserved.</p>
<span class="path">
<a href="javascript:call_link('abenabap.html')" class="blue">ABAP Keyword Documentation</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abennews.html')" class="blue">ABAP - Release-Specific Changes</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abennews-75.html')" class="blue">Changes in Releases 7.5x</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abennews-753.html')" class="blue">Changes in Release 7.53</a>&nbsp;&rarr;&nbsp;
</span>
<p><span class="h1">
AMDP in Release 7.53 <br><br>
</span></p>
<P>
<br><A HREF="#!ABAP_MODIFICATION_1@1@" class="blue"> 1. AMDP scalar functions </A>
</P>
<P>
<br><A HREF="#!ABAP_MODIFICATION_2@2@" class="blue"> 2. Enhancement to logical database schemas </A>
</P>
<P>
<br><A HREF="#!ABAP_MODIFICATION_3@3@" class="blue"> 3. Access to the current ABAP database schema </A>
</P>
<P>
<br><A HREF="#!ABAP_MODIFICATION_4@4@" class="blue"> 4. Restrictions removed </A>
</P>
<P>
<br><A HREF="#!ABAP_MODIFICATION_5@5@" class="blue"> 5. Option <span class="qtext">CDS SESSION CLIENT</span> mandatory </A> <br><br> <br><br>
</P>
<p><span class="h4">
<A NAME="!ABAP_MODIFICATION_1@1@"></A> <span class="bold">Modification 1</span>
</span></p>
<P>
<span class="bold">AMDP Scalar Functions</span> <br><br><!-- /A -->
</P>
<P>
<a href="javascript:call_link('abenamdp_scalar_function_glosry.html')" class="grey" title="Glossary Entry">AMDP</a> scalar functions are now supported alongside
<a href="javascript:call_link('abenamdp_table_function_glosry.html')" class="grey" title="Glossary Entry">AMDP table functions</a>. The
<a href="javascript:call_link('abenamdp_function_methods.html')" class="blue">AMDP function implementation</a> of an AMDP scalar function has an elementary return value and can be used in ABAP like a regular function method.
</P>
<P>
In the implementation of <a href="javascript:call_link('abenamdp_scalar_function_glosry.html')" class="grey" title="Glossary Entry">
AMDP scalar functions</a>, it is possible to specify the database-specific option <a href="javascript:call_link('abapmethod_by_db_proc.html')" class="blue">
<span class="qtext">DETERMINISTIC</span></a> after <span class="qtext">OPTIONS</span>. This buffers the result of the function for the duration of a query. <br><br> <br><br>
</P>
<p><span class="h4">
<A NAME="!ABAP_MODIFICATION_2@2@"></A> <span class="bold">Modification 2</span>
</span></p>
<P>
<span class="bold">Enhancement to Logical Database Schemas</span> <br><br><!-- /A -->
</P>
<P>
In <a href="javascript:call_link('abenlogical_database_schema_glosry.html')" class="grey" title="Glossary Entry">logical database schemas</a>, a new flag can be specified that allows the current
<a href="javascript:call_link('abenabap_db_schema_glosry.html')" class="grey" title="Glossary Entry">ABAP database schema</a>
to be mapped in the transaction <span class="lnkgrey">DB_SCHEMA_MAP</span>. The predefined name <span class="qtext400">:abap_db_schema</span> should be used for mappings of this type. <br><br> <br><br>
</P>
<p><span class="h4">
<A NAME="!ABAP_MODIFICATION_3@3@"></A> <span class="bold">Modification 3</span>
</span></p>
<P>
<span class="bold">Access to the Current ABAP Database Schema</span> <br><br><!-- /A -->
</P>
<P>
In an <a href="javascript:call_link('abenamdp_method_glosry.html')" class="grey" title="Glossary Entry">AMDP method</a>, a
<a href="javascript:call_link('abenlogical_database_schema_glosry.html')" class="grey" title="Glossary Entry">logical database schema</a> to which the current
<a href="javascript:call_link('abenabap_db_schema_glosry.html')" class="grey" title="Glossary Entry">ABAP database schema</a>
is mapped (using the predefined name <span class="qtext400">:abap_db_schema</span>) can be specified
in the macro <a href="javascript:call_link('abenamdp_logical_db_schemas.html')" class="blue"><span class="qtext400">$ABAP.schema</span></a>.
For each logical database schema used in a macro like this, the new addition <a href="javascript:call_link('abapmethod_by_db_proc.html')" class="blue">
<span class="qtext">USING SCHEMA</span></a> must be specified in the statement <span class="qtext">METHOD</span>
to declare the used objects. In this way, an AMDP method can access database objects located in different
database schemas in different systems (including the ABAP database schema) without needing to modify the syntax. <br><br> <br><br>
</P>
<p><span class="h4">
<A NAME="!ABAP_MODIFICATION_4@4@"></A> <span class="bold">Modification 4</span>
</span></p>
<P>
<span class="bold">Restrictions Removed</span> <br><br><!-- /A -->
</P>
<P>
The following restrictions were removed:
</P>
<ul class="disc">
<li>
Tabular input parameters are now allowed in <a href="javascript:call_link('abenamdp_function_method_glosry.html')" class="grey" title="Glossary Entry">AMDP function implementations</a> for
<a href="javascript:call_link('abencds_table_function_glosry.html')" class="grey" title="Glossary Entry">CDS table functions</a>. Previously, only elementary input parameters were allowed. In AMDP function implementations for
<a href="javascript:call_link('abencds_table_function_glosry.html')" class="grey" title="Glossary Entry">CDS table functions</a>, however, the restriction that only elementary input parameters are allowed still applies.
<br><br></li>
<li>
Tabular input parameters of <a href="javascript:call_link('abenamdp_procedure_method_glosry.html')" class="grey" title="Glossary Entry">AMDP procedure implementations</a> and of
<a href="javascript:call_link('abenamdp_function_method_glosry.html')" class="grey" title="Glossary Entry">AMDP function implementations</a>
can now be made optional using <a href="javascript:call_link('abapmethods_parameters.html')" class="blue"><span class="qtext">OPTIONAL</span></a>,
but it is still not possible to specify a start value with <a href="javascript:call_link('abapmethods_parameters.html')" class="blue"><span class="qtext">DEFAULT</span></a>.
<br><br></li>
<li>
When a replacement parameter declared using <a href="javascript:call_link('abapmethods_general.html')" class="blue"><span class="qtext">DEFAULT</span></a> is specified for an elementary input parameter of an
<a href="javascript:call_link('abenamdp_methods.html')" class="blue">AMDP method</a>, the following (previously undocumented) restrictions were lifted:
<br></li>
</ul>
<ul class="circlem2">
<li>Constants declared using the addition <a href="javascript:call_link('abapdata_options.html')" class="blue"><span class="qtext">VALUE
IS INITIAL</span></a> can now be specified for the data types <span class="qtext">d</span>, <span class="qtext">t</span>, and <span class="qtext">x</span>. This previously produced a syntax error.</li>
</ul>
<ul class="circlem2">
<li>Constants declared using the addition <a href="javascript:call_link('abapdata_options.html')" class="blue"><span class="qtext">VALUE
'00010101'</span></a> can now be specified for the data type <span class="qtext">d</span>, or the literal <span class="qtext">'00010101'</span> can be specified directly. Both previously produced a syntax error.</li>
</ul>
<ul class="circlem2">
<li>Constants declared by specifying numeric literals after <a href="javascript:call_link('abapdata_options.html')" class="blue"><span class="qtext">
VALUE</span></a> and whose lengths are not precisely 8 or 6 can now be specified for the data types
<span class="qtext">d</span> and <span class="qtext">t</span>. This previously produced a syntax error.
Until now, values of literals with lengths of precisely 8 or 6 were handled like a string. This incorrect
behavior was also modified and the numeric value is handled as the number of days since 01.01.001 or as the number of seconds since 00:00:00. This modification is incompatible if an
<a href="javascript:call_link('abenamdp_procedure_glosry.html')" class="grey" title="Glossary Entry">AMDP procedure</a> or
<a href="javascript:call_link('abenamdp_function_glosry.html')" class="grey" title="Glossary Entry">function</a> with an input parameter of this type is called from other
<a href="javascript:call_link('abendatabase_procedure_glosry.html')" class="grey" title="Glossary Entry">database procedures</a> or
<a href="javascript:call_link('abendatabase_function_glosry.html')" class="grey" title="Glossary Entry">functions</a> without an actual parameter being assigned to the parameter in question.</li>
</ul>
<dl>

<dd>
In AMDP methods, the addition <span class="qtext">DEFAULT</span> now behaves in the same way as in regular
methods. It still cannot be specified for the data types <span class="qtext">string</span>, <span class="qtext">xstring</span>,
<span class="qtext">decfloat16</span>, and <span class="qtext">decfloat34</span>, however, and no literals can be specified that cannot be converted into the data type of the input parameter. <br><br> <br><br>
</dd>
</dl>
<p><span class="h4">
<A NAME="!ABAP_MODIFICATION_5@5@"></A> <span class="bold">Modification 5</span>
</span></p>
<P>
<span class="bold">Option <span class="qtext">CDS SESSION CLIENT</span> Mandatory</span> <br><br><!-- /A -->
</P>
<P>
The option <a href="javascript:call_link('abapmethods_amdp_options.html')" class="blue"><span class="qtext">CDS SESSION CLIENT</span></a> is now mandatory when an AMDP method accesses the
<a href="javascript:call_link('abencds_database_view_glosry.html')" class="grey" title="Glossary Entry">CDS database view</a> of a
<a href="javascript:call_link('abencds_view_glosry.html')" class="grey" title="Glossary Entry">CDS view</a> whose
<a href="javascript:call_link('abencds_client_handling.html')" class="blue">client handling</a> is determined by the annotation
<a href="javascript:call_link('abencds_client_handling.html')" class="blue"><span class="qtext400">@ClientHandling.algorithm: #SESSION_VARIABLE</span></a>. If this option is not specified in this case, a syntax error occurs. The option sets the
<a href="javascript:call_link('abensession_variable_glosry.html')" class="grey" title="Glossary Entry">session variable</a> of
the database that can be addressed under the name <a href="javascript:call_link('abencds_f1_session_variable.html')" class="blue"><span class="qtext400">$session.client</span></a> in the
<a href="javascript:call_link('abencds_ddl_glosry.html')" class="grey" title="Glossary Entry">CDS DDL</a> of the
<a href="javascript:call_link('abenabap_cds_glosry.html')" class="grey" title="Glossary Entry">ABAP CDS</a> to a particular value
when the method is called from ABAP. An exception of the class CX_AMDP_CDS_CLIENT_MISMATCH can now no longer be raised.
</P>
<br>
<br>
<br>
<br>
</DIV>
<fieldset style="opacity:0">
<input id="url" type="text" />
</fieldset>
</BODY>

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abennews-753-amdp.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:52:58 GMT -->
</html>

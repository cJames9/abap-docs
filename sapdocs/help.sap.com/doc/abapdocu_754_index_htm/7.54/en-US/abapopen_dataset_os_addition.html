<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="EN">
<!-- ABAPOPEN_DATASET_OS_ADDITION -->

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abapopen_dataset_os_addition.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:51:49 GMT -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="author" content="SAP">
<meta name="description" content="OPEN DATASET - os_additions">
<title>
OPEN DATASET - os_additions - ABAP Keyword Documentation
</title>
<link rel="icon" href="ABAPIcon.ico" type="image/ico">
<link rel="shortcut icon" href="ABAPIcon.ico">
<LINK rel="stylesheet" href="abap_docu.css" type="text/css">
<script language="javascript" type="text/javascript" src="functions.js"></script>
<script type="text/JavaScript">
function urlToClipboard(id){
 try{ var loc = top.location.href;}
 catch(e){ alert( "URL cannnot be determined" ); return; }
 var field = document.getElementById(id);
 field.focus();
 if ( loc.search( ".htm" ) == -1 && loc.search( ".HTM" ) == -1  ){ loc = loc + "index.htm"; }
 if (   loc.search( "index.html" ) != -1
     || loc.search( "INDEX-2.html" ) != -1 ){
   var off = loc.search( "file=" );
   if ( off == -1  ){
     field.value = loc + "?file=abapopen_dataset_os_addition.htm"; }
   else {
     field.value = loc.substring( 0, off ) + "file=abapopen_dataset_os_addition.htm";
   }
 }
 else {
    field.value = loc; }
 field.setSelectionRange(0, field.value.length);
 var r = confirm( "Copy URL to clipboard?\n\n" + field.value + "\n\nCopy to clipboard does not work in all browsers." );
 if (r == true) {
   try{
     document.execCommand("copy");
   }
     catch(e){ alert( "URL could not be copied to clipboard" ); }
 }
 window.scrollTo(0,0);
}
</script>
</head>
<body>
<div class="all">
<div style="float:right;">
<input type="button" value="URL"
style="font-size:10px; width:30px; height:18px; padding:0; "
onclick="urlToClipboard('url')" title="Copy URL to Clipboard" ></div>
<p>
<input name="query" id="query" value="" type="text" title="Suchbegriff" size="30" maxlength="30" onkeyup="getInput()">&nbsp;
<input type="button" value="Search"
style="font-size:12px; width:50px; height:18px; padding:0"
onclick="call_search('search.html')" title="Search in ABAP Keyword Documentation" >
<hr style="width:100%;height:1px"></p>
<p class="copyright">AS ABAP Release 754, &copy;Copyright 2019 SAP SE. All rights reserved.</p>
<span class="path">
<a href="javascript:call_link('abenabap.html')" class="blue">ABAP Keyword Documentation</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_reference.html')" class="blue">ABAP &#x2212; Reference</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_language_external_data.html')" class="blue">Processing External Data</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_language_files.html')" class="blue">ABAP File Interface</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenfile_interface_statements.html')" class="blue">Statements for the ABAP File Interface</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abapopen_dataset.html')" class="blue">OPEN DATASET</a>&nbsp;&rarr;&nbsp;
</span>
<p><span class="h1">
OPEN DATASET - os_additions <br><br>
</span></p>
<P>
<a href="javascript:call_link('abapopen_dataset_shortref.html')" class="blue">Quick Reference</a> <br><br>
</P>
<p><span class="h2">
<span class="bold">Syntax</span>
</span></p>
<P>
<span class="qtext">... <i class=bn>[</i>TYPE attr<i class=bn>]</i></span> <br><span class="qtext">&nbsp;&nbsp;&nbsp;&nbsp;<i class=bn>[</i>FILTER opcom<i class=bn>]</i> ...</span> <br><br>
</P>
<p><span class="h3">
Extras:
</span></p>
<P>
   <A HREF="#!ABAP_ADDITION_1@1@" class="blue"> 1. <span class="qtext">... TYPE attr</span> </A> <br><br><A HREF="#!ABAP_ADDITION_2@2@" class="blue"> 2. <span class="qtext">... FILTER opcom</span> </A> <br><br>
</P>
<p><span class="h4">
Effect
</span></p>
<P>
These additions can be used to make operating system-specific settings and set operating system statements. <br><br>
</P>
<A NAME="@@TYPE@@OPEN DATASET@@"></A>
<p><span class="h3">
<A NAME="!ABAP_ADDITION_1@1@"></A> <span class="bold">Addition 1</span>
</span></p>
<P>
<span class="qtext">... TYPE attr</span>   <br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<P>
The behavior of this addition is determined by the operating system of the
<a href="javascript:call_link('abenhost_computer_glosry.html')" class="grey" title="Glossary Entry">host computer server</a> of the current
<a href="javascript:call_link('abenapplication_server_glosry.html')" class="grey" title="Glossary Entry">AS Instance</a>. If
the operating system is not an MS Windows operating system, a character-like field can be specified
for <span class="qtext">attr</span> that contains operating system-specific parameters for the file
that is to be opened. These parameters are passed to the operating system of the AS Instance unchanged, and without being checked for correctness.
</P>
<P>
If the operating system is an MS Windows operating system, and the file is opened as a
<a href="javascript:call_link('abentext_file_glosry.html')" class="grey" title="Glossary Entry">text file</a> or as a
<a href="javascript:call_link('abenlegacy_file_glosry.html')" class="grey" title="Glossary Entry">legacy</a> text file and the
addition <a href="javascript:call_link('abapopen_dataset_linefeed.html')" class="blue"><span class="qtext">WITH LINEFEED</span></a> is not used, the content of <span class="qtext">attr</span> controls the end-of-line marking of the text file:
</P>
<ol>
<li>
If <span class="qtext">attr</span> contains the value <span class="qtext400">"NT"</span>, the end-of-line is marked by <span class="qtext400">"CRLF"</span>. <br>
<br></li>
<li>
If <span class="qtext">attr</span> contains the value <span class="qtext400">"UNIX"</span>, the end-of-line is marked by <span class="qtext400">"LF"</span>.
<br></li>
</ol>
<P>
All other values of <span class="qtext">attr</span> are ignored in MS Windows operating systems, and
the end-of-line marking is opened in the same way as described in the addition <a href="javascript:call_link('abapopen_dataset_linefeed.html')" class="blue"><span class="qtext">WITH LINEFEED</span></a>. <br><br>
</P>
<p><span class="h4">
Note
</span></p>
<P>
Instead of specifying the values <span class="qtext400">"UNIX"</span> or <span class="qtext400">"NT"</span> after <span class="qtext">TYPE</span>, it is best to use the addition
 <a href="javascript:call_link('abapopen_dataset_linefeed.html')" class="blue"><span class="qtext">WITH LINEFEED</span></a>.
If it is used, the values <span class="qtext400">"UNIX"</span> or <span class="qtext400">"NT"</span> cannot be specified. <br><br>
</P>
<p><span class="h4">
Example
</span></p>
<P>
Creating a file <span class="qtext">test.dat</span>. The properties entered under <span class="qtext">TYPE</span> are specific for the operating system IBM i5/OS (previously OS/400).
</P>
<p class="qtextml1">
<span class="qtext">
OPEN DATASET 'test.dat' <br>&nbsp;&nbsp;TYPE 'lrecl=80, blksize=8000, recfm=FB' <br>&nbsp;&nbsp;FOR OUTPUT IN TEXT MODE <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ENCODING DEFAULT <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; WITH SMART LINEFEED. <br><br>
</span>
</p>
<A NAME="@@FILTER@@OPEN DATASET@@"></A>
<p><span class="h3">
<A NAME="!ABAP_ADDITION_2@2@"></A> <span class="bold">Addition 2</span>
</span></p>
<P>
<span class="qtext">... FILTER opcom</span>   <br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<P>
This addition can be used if the operating system of the current AS Instance
<a href="javascript:call_link('abenhost_computer_glosry.html')" class="grey" title="Glossary Entry">host computer</a> supports pipes (Unix and
<a href="javascript:call_link('abenhost_computer_glosry.html')" class="grey" title="Glossary Entry">MS</a> Windows). A character-like
field can be specified for <span class="qtext">opcom</span>, which contains an operating system statement that corresponds to the appropriate command-level syntax.
</P>
<P>
When the statement <a href="javascript:call_link('abapopen_dataset.html')" class="blue"><span class="qtext">OPEN DATASET</span></a>
is executed, a process is started in the operating system for the specified statement. When the file
is opened for reading, a channel (pipe) is linked with STDOUT of the process, from which the data is
read during file reading. The file itself is linked with STDIN of the process. When the file is opened
for writing, a channel (pipe) is linked to STDIN of the process, to which data is passed when writing. The output of the process is diverted to this file.
</P>
<P>
If, as part of the <a href="javascript:call_link('abenfile_interface_authority.html')" class="blue">automatic authorization check</a>
for file access, the database table SPTH is used to make a check using the authorization group and the
authorization object S_PATH, the current user must have an authorization for the activity <span class="qtext400">"A6"</span>
(Read) or <span class="qtext400">"A7"</span> (Change) when using the addition <span class="qtext">FILTER</span>.
</P>
<P>
The addition <span class="qtext">FILTER</span> must not be used together with the addition <a href="javascript:call_link('abapopen_dataset_position.html')" class="blue">
<span class="qtext">AT POSITION</span></a> or for the access type <a href="javascript:call_link('abapopen_dataset_access.html')" class="blue"><span class="qtext">FOR UPDATE</span></a>. <br><br>
</P>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>
When working with pipes, it must be ensured that the pipe only exists in the current work process. If the
<a href="javascript:call_link('abenwork_process_glosry.html')" class="grey" title="Glossary Entry">work process</a> is switched
while the file is open, the pipe is lost and any attempted reads or writes raise a handleable exception of the class CX_SY_PIPE_REOPEN.
<br><br></li>
<li>
Pipes should only be used for operating system statements required in association with files. No other operating system statements should be used. Use the
<a href="javascript:call_link('abenabap_system_commands_appl_sxpg.html')" class="blue">SXPG framework</a> instead. See also
<a href="javascript:call_link('abenabap_system_commands_appl_depr.html')" class="blue">Unwanted Calls of Operating System Statements</a>.
<br><br></li>
<li>
When the authorization object <a href="javascript:call_link('abenfile_interface_authority.html')" class="blue">S_PATH</a> is
checked, for compatibility reasons an empty value is also accepted for the activity alongside the values
<span class="qtext400">"A6"</span> or <span class="qtext400">"A7"</span> if the addition <span class="qtext">FILTER</span> is used.
<br></li>
</ul>
<p><span class="h4">
Security Note
</span></p>
<P>
Using operating system statements that are injected into a program from outside is a serious security risk. Any statements passed to a program from outside must be checked thoroughly before being used. See
<a href="javascript:call_link('abensys_comm_injections_scrty.html')" class="blue">System Command Injections</a>. <br><br>
</P>
<p><span class="h4">
Example
</span></p>
<P>
On a Unix platform, the statement <span class="qtext">gzip</span> is used as a write filter and the
statement <span class="qtext">gzip -d</span> is used as a read filter. When the file is accessed for writing the data is compressed, and when it is accessed for reading, the data is decompressed.
</P>
<p class="qtextml1">
<span class="qtext">
DATA file TYPE string VALUE `/usr/test.Z`. <br> <br>OPEN DATASET file FOR OUTPUT IN BINARY MODE <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FILTER 'gzip'. <br>
... <br>CLOSE DATASET file. <br> <br>OPEN DATASET file FOR INPUT IN BINARY MODE <br>&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FILTER 'gzip -d'. <br>... <br>CLOSE DATASET file. <br><br>
</span>
</p>
<br>
<br>
<br>
<br>
</DIV>
<fieldset style="opacity:0">
<input id="url" type="text" />
</fieldset>
</BODY>

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abapopen_dataset_os_addition.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:51:49 GMT -->
</html>

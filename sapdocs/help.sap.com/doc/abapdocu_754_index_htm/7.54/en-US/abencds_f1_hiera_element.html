<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="EN">
<!-- ABENCDS_F1_HIERA_ELEMENT -->

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abencds_f1_hiera_element.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:51:28 GMT -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="author" content="SAP">
<meta name="description" content="ABAP CDS - DEFINE HIERARCHY, element">
<title>
ABAP CDS - DEFINE HIERARCHY, element - ABAP Keyword Documentation
</title>
<link rel="icon" href="ABAPIcon.ico" type="image/ico">
<link rel="shortcut icon" href="ABAPIcon.ico">
<LINK rel="stylesheet" href="abap_docu.css" type="text/css">
<script language="javascript" type="text/javascript" src="functions.js"></script>
<script type="text/JavaScript">
function urlToClipboard(id){
 try{ var loc = top.location.href;}
 catch(e){ alert( "URL cannnot be determined" ); return; }
 var field = document.getElementById(id);
 field.focus();
 if ( loc.search( ".htm" ) == -1 && loc.search( ".HTM" ) == -1  ){ loc = loc + "index.htm"; }
 if (   loc.search( "index.html" ) != -1
     || loc.search( "INDEX-2.html" ) != -1 ){
   var off = loc.search( "file=" );
   if ( off == -1  ){
     field.value = loc + "?file=abencds_f1_hiera_element.htm"; }
   else {
     field.value = loc.substring( 0, off ) + "file=abencds_f1_hiera_element.htm";
   }
 }
 else {
    field.value = loc; }
 field.setSelectionRange(0, field.value.length);
 var r = confirm( "Copy URL to clipboard?\n\n" + field.value + "\n\nCopy to clipboard does not work in all browsers." );
 if (r == true) {
   try{
     document.execCommand("copy");
   }
     catch(e){ alert( "URL could not be copied to clipboard" ); }
 }
 window.scrollTo(0,0);
}
</script>
</head>
<body>
<div class="all">
<div style="float:right;">
<input type="button" value="URL"
style="font-size:10px; width:30px; height:18px; padding:0; "
onclick="urlToClipboard('url')" title="Copy URL to Clipboard" ></div>
<p>
<input name="query" id="query" value="" type="text" title="Suchbegriff" size="30" maxlength="30" onkeyup="getInput()">&nbsp;
<input type="button" value="Search"
style="font-size:12px; width:50px; height:18px; padding:0"
onclick="call_search('search.html')" title="Search in ABAP Keyword Documentation" >
<hr style="width:100%;height:1px"></p>
<p class="copyright">AS ABAP Release 754, &copy;Copyright 2019 SAP SE. All rights reserved.</p>
<span class="path">
<a href="javascript:call_link('abenabap.html')" class="blue">ABAP Keyword Documentation</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_dictionary.html')" class="blue">ABAP - Dictionary</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abencds.html')" class="blue">ABAP CDS in ABAP Dictionary</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenddic_cds_entities.html')" class="blue">ABAP CDS - Data Definitions</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abencds_f1_ddl_syntax.html')" class="blue">ABAP CDS - DDL for Data Definitions</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abencds_f1_define_hierarchy.html')" class="blue">ABAP CDS - DEFINE HIERARCHY</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abencds_f1_hiera_element_list.html')" class="blue">ABAP CDS - DEFINE HIERARCHY, element_list</a>&nbsp;&rarr;&nbsp;
</span>
<p><span class="h1">
ABAP CDS - DEFINE HIERARCHY, element
</span></p>
<A name="@@ITOC@@ABENCDS_F1_HIERA_ELEMENT_1"></A>
<p><span class="h2">
Syntax
</span></p>
<p>
<span class="qtext400">... <i class=bn>[</i><a href="javascript:call_link('abencds_f1_hiera_elem_annotation.html')" class="blue">@element_annot1</a><i class=bn>]</i> <br>
&nbsp;&nbsp;&nbsp;&nbsp;<i class=bn>[</i><a href="javascript:call_link('abencds_f1_hiera_elem_annotation.html')" class="blue">@element_annot2</a><i class=bn>]</i> <br>
&nbsp;&nbsp;&nbsp;&nbsp;... <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <i class=bn>[</i>KEY<i class=bn>]</i> <i class=bn>{</i> _assoc
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <i class=bn>[</i>AS alias<i class=bn>]</i> <i class=bn>}</i> <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <i class=bn>|</i> <i class=bn>{</i> element
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<i class=bn>[</i>AS alias<i class=bn>]</i> <i class=bn>}</i> <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <i class=bn>|</i> <i class=bn>{</i> $node.hierarchy_attribute AS alias&nbsp;&nbsp;<i class=bn>}</i> <br>
&nbsp;&nbsp;&nbsp;&nbsp;<i class=bn>[</i><a href="javascript:call_link('abencds_f1_hiera_elem_annotation.html')" class="blue">@&lt;element_annot1</a><i class=bn>]</i> <br>
&nbsp;&nbsp;&nbsp;&nbsp;<i class=bn>[</i><a href="javascript:call_link('abencds_f1_hiera_elem_annotation.html')" class="blue">@&lt;element_annot2</a><i class=bn>]</i> ...</span> <br><br>
</p>
<p><span class="h2">
Alternatives:
</span></p>
<P>
   <A HREF="#!ABAP_ALTERNATIVE_1@1@" class="blue"> 1. <span class="qtext">... _assoc</span> </A> <br><br>
<A HREF="#!ABAP_ALTERNATIVE_2@2@" class="blue"> 2. <span class="qtext">... element</span> </A> <br><br><A HREF="#!ABAP_ALTERNATIVE_3@3@" class="blue">
 3. <span class="qtext">... $node.hierarchy_attribute</span> </A> <br><br>
</P>
<p><span class="h3">
Extras:
</span></p>
<P>
   <A HREF="#!ABAP_ADDITION_1@1@" class="blue"> 1. <span class="qtext">... @element_annot ... @&lt;element_annot</span> </A> <br>
<br><A HREF="#!ABAP_ADDITION_2@2@" class="blue"> 2. <span class="qtext">... KEY</span> </A> <br><br><A HREF="#!ABAP_ADDITION_3@3@" class="blue"> 3. <span class="qtext">... AS alias</span> </A> <br><br>
</P>
<p><span class="h4">
Effect
</span></p>
<p>
Specifies an element in the <a href="javascript:call_link('abencds_f1_hiera_element_list.html')" class="blue">element list</a> of a
<a href="javascript:call_link('abencds_hierarchy_glosry.html')" class="grey" title="Glossary Entry">CDS hierarchy</a>. The names of the elements in a hierarchy must be unique and must be in the same namespace as the
<a href="javascript:call_link('abencds_f1_hiera_parameter_list.html')" class="blue">parameters</a> of the CDS hierarchy. <br><br>
</p>
<p><span class="h2">
<A NAME="!ABAP_ALTERNATIVE_1@1@"></A> <span class="bold">Alternative 1</span>
</span></p>
<P>
<span class="qtext">... _assoc</span> <br><br><br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<p>
<span class="qtext">_assoc</span> can be used to make the CDS hierarchy publish a
<a href="javascript:call_link('abencds_association_glosry.html')" class="grey" title="Glossary Entry">CDS association</a> that
itself is published by the CDS view <span class="qtext400">cds_view</span> specified after <a href="javascript:call_link('abencds_f1_define_hierarchy.html')" class="blue">
<span class="qtext400">SOURCE</span></a> in its <span class="qtext400">SELECT</span> list. The name of a CDS association can be specified for <span class="qtext">_assoc</span> but path expressions are not possible.
</p>
<p>
The CDS hierarchy publishes the CDS association for use in CDS views or in ABAP SQL:
</p>
<ul class="disc">
<li>A CDS view can evaluate the CDS association in its <a href="javascript:call_link('abencds_f1_path_expression.html')" class="blue">path expressions</a>.</li>
</ul>
<ul class="disc">
<li>The CDS association can be used in ABAP SQL <a href="javascript:call_link('abenopen_sql_path.html')" class="blue">path expressions</a>.</li>
</ul>
<p>
The current CDS hierarchy is the source data source of the published CDS association and any join expressions
created for a path expression from the CDS association use the current CDS hierarchy as their left side.
All fields of the source data source of the CDS association that occur in the <span class="qtext400">ON</span> condition must also be specified as elements of the current element list.
</p>
<p>
A CDS association published in this way is, like any element, part of the element list. It is not, however,
part of the results set or a component of a type defined in ABAP with respect to the CDS hierarchy.
If no alternative element name <span class="qtext400">alias</span> is defined, the element name is defined by the name of the CDS association.
</p>
<p><span class="h4">
Note
</span></p>
<p>
When a CDS association is published, care should be taken that the publisher hierarchy itself is the
source data source of the published CDS association and not the data source of the view. More specifically,
when CDS associations are published that were already published by the source of the hierarchy, the
hierarchy replaces the original view as the source data source of the CDS association. The left side
of an instance of a join expression created for the published CDS association is the results set of the hierarchy. <br><br>
</p>
<p><span class="h2">
<A NAME="!ABAP_ALTERNATIVE_2@2@"></A> <span class="bold">Alternative 2</span>
</span></p>
<P>
<span class="qtext">... element</span> <br><br><br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<p>
<span class="qtext">element</span> can be used to specify an element of the CDS view <span class="qtext400">cds_view</span>
specified after <a href="javascript:call_link('abencds_f1_define_hierarchy.html')" class="blue"><span class="qtext400">SOURCE</span></a>.
This element is part of the results set of the CDS hierarchy and a component of a type defined in ABAP with respect to the CDS hierarchy.
</p>
<p><span class="h4">
Note
</span></p>
<p>
When the hierarchy is defined in <a href="javascript:call_link('abenopen_sql_glosry.html')" class="grey" title="Glossary Entry">ABAP SQL</a>, the element is a regular component of the
<a href="javascript:call_link('abenhierarchy_glosry.html')" class="grey" title="Glossary Entry">hierarchy</a> in the results
list, if <span class="qtext">*</span> or <span class="qtext">...~*</span> are used in the <span class="qtext">SELECT</span> list. <br><br>
</p>
<A NAME="@@$node@@!ABAP_CDS_HIERA_ELEM!@@"></A>
<p><span class="h2">
<A NAME="!ABAP_ALTERNATIVE_3@3@"></A> <span class="bold">Alternative 3</span>
</span></p>
<P>
<span class="qtext">... $node.hierarchy_attribute</span> <br><br><br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<p>
<span class="qtext400">$node.hierarchy_attribute</span> can be used to specify a
<a href="javascript:call_link('abenhierarchy_attribute_glosry.html')" class="grey" title="Glossary Entry">hierarchy attribute</a> <span class="qtext400">hierarchy_attribute</span> after the prefix <span class="qtext400">$node</span>. The names of all
<a href="javascript:call_link('abencds_hierarchy_attributes.html')" class="blue">hierarchy attributes</a> can be specified for
<span class="qtext400">hierarchy_attribute</span>. In this case, <span class="qtext400">AS ALIAS</span> must be used to define an alternative element name, which cannot be the name of a hierarchy attribute.
</p>
<p>
This element is part of the results set of the CDS hierarchy and a component of a type defined in ABAP
with respect to the CDS hierarchy. When the CDS hierarchy is accessed, the element contains the respective value of the hierarchy attribute for each row.
</p>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>When the hierarchy is defined in <a href="javascript:call_link('abenopen_sql_glosry.html')" class="grey" title="Glossary Entry">ABAP SQL</a>, the element is a regular component of the
<a href="javascript:call_link('abenhierarchy_glosry.html')" class="grey" title="Glossary Entry">hierarchy</a> in the results
list, if <span class="qtext">*</span> or <span class="qtext">...~*</span> are used in the <span class="qtext">SELECT</span> list.</li>
</ul>
<ul class="disc">
<li>When the hierarchy is accessed in <a href="javascript:call_link('abenopen_sql_glosry.html')" class="grey" title="Glossary Entry">ABAP SQL</a>, the associated additional
<a href="javascript:call_link('abenhierarchy_column_glosry.html')" class="grey" title="Glossary Entry">hierarchy column</a> can be used to access the hierarchy attribute.</li>
</ul>
<ul class="disc">
<li>It is practical to include a hierarchy attribute in the element list of a CDS hierarchy explicitly
either if it is required when other CDS entities access the CDS hierarchy, or if it is a component of a structured type in ABAP that references the CDS hierarchy. <br><br></li>
</ul>
<p><span class="h3">
<A NAME="!ABAP_ADDITION_1@1@"></A> <span class="bold">Addition 1</span>
</span></p>
<P>
<span class="qtext">... @element_annot</span>   <br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<p>
Specifies annotations for the element. The annotations can be specified before the element using <a href="javascript:call_link('abencds_f1_hiera_elem_annotation.html')" class="blue">
<span class="qtext400">@element_annot</span></a> or after the element using <a href="javascript:call_link('abencds_f1_hiera_elem_annotation.html')" class="blue"><span class="qtext400">@&lt;element_annot</span></a>.
</p>
<p><span class="h4">
Note
</span></p>
<p>
Element annotations can be used to annotate the elements and CDS associations of a CDS hierarchy with semantic attributes. <br><br>
</p>
<A NAME="@@KEY@@!ABAP_CDS_HIERA_ELEM!@@"></A>
<p><span class="h3">
<A NAME="!ABAP_ADDITION_2@2@"></A> <span class="bold">Addition 2</span>
</span></p>
<P>
<span class="qtext">... KEY</span>   <br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<p>
<span class="qtext400">KEY</span> is used to define the current element as the key element of the current
<a href="javascript:call_link('abencds_hierarchy_glosry.html')" class="grey" title="Glossary Entry">CDS hierarchy</a>. Those elements of the
<a href="javascript:call_link('abencds_f1_hiera_element_list.html')" class="blue">element list</a> can be defined as key elements
that are placed without gaps at the start of the list. The key elements of the CDS entity are evaluated
as follows if they are used as a data source of a <a href="javascript:call_link('abapselect.html')" class="blue"><span class="qtext">SELECT</span></a> statement in ABAP SQL:
</p>
<ul class="disc">
<li>By the addition <a href="javascript:call_link('abaporderby_clause.html')" class="blue"><span class="qtext">ORDER BY PRIMARY KEY</span></a>.</li>
</ul>
<ul class="disc">
<li>In implicit <a href="javascript:call_link('abencds_access_control_glosry.html')" class="grey" title="Glossary Entry">access control</a>.</li>
</ul>
<dl><dd>
If a CDS role defined for a CDS entity is evaluated when the entity is accessed, its key elements must
identify a unique row in the results set. If this is not the case, the internal instance of access control
can produce duplicate entries or even incorrect results when aggregate functions are used. If a unique
key cannot be determined for a CDS entity, no key element should be defined. A different instance of access control is then produced internally, which is less efficient.
</dd></dl>
<p>
Otherwise, the key elements of the CDS entity are used to document the semantics of the data model.
The addition <span class="qtext400">KEY</span> is then ignored when the CDS hierarchy is activated and when other accesses are performed in program executions.
</p>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>In the ABAP SQL syntax check, the key elements are used in places where the key is respected.</li>
</ul>
<ul class="disc">
<li>The key elements are not relevant for the uniqueness of rows within the results set of the CDS hierarchy,
which means that exceptions can be raised when making assignments to internal tables with appropriately unique table keys. <br><br></li>
</ul>
<A NAME="@@AS@@!ABAP_CDS_HIERA_ELEM!@@"></A>
<p><span class="h3">
<A NAME="!ABAP_ADDITION_3@3@"></A> <span class="bold">Addition 3</span>
</span></p>
<P>
<span class="qtext">... AS alias</span>   <br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<p>
Defines an alternative element name for the current element. The alternative element name replaces the
actual name of the element. When the current CDS hierarchy is accessed, the alternative element names must be used instead of the actual name.
</p>
<br>
<br>
<!-- POSTFIX --><span class="h4">Continue</span><br>
<a href="javascript:call_link('abencds_f1_hiera_elem_annotation.html')" class="blue">ABAP CDS - DEFINE HIERARCHY, element_annot</a><br>
<br>
<br>
</DIV>
<fieldset style="opacity:0">
<input id="url" type="text" />
</fieldset>
</BODY>

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abencds_f1_hiera_element.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:51:28 GMT -->
</html>

<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="EN">
<!-- ABAPMOVE-CORRESPONDING_STRUCTURE -->

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abapmove-corresponding_structure.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:52:46 GMT -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="author" content="SAP">
<meta name="description" content="MOVE-CORRESPONDING - structure">
<title>
MOVE-CORRESPONDING - structure - ABAP Keyword Documentation
</title>
<link rel="icon" href="ABAPIcon.ico" type="image/ico">
<link rel="shortcut icon" href="ABAPIcon.ico">
<LINK rel="stylesheet" href="abap_docu.css" type="text/css">
<script language="javascript" type="text/javascript" src="functions.js"></script>
<script type="text/JavaScript">
function urlToClipboard(id){
 try{ var loc = top.location.href;}
 catch(e){ alert( "URL cannnot be determined" ); return; }
 var field = document.getElementById(id);
 field.focus();
 if ( loc.search( ".htm" ) == -1 && loc.search( ".HTM" ) == -1  ){ loc = loc + "index.htm"; }
 if (   loc.search( "index.html" ) != -1
     || loc.search( "INDEX-2.html" ) != -1 ){
   var off = loc.search( "file=" );
   if ( off == -1  ){
     field.value = loc + "?file=abapmove-corresponding_structure.htm"; }
   else {
     field.value = loc.substring( 0, off ) + "file=abapmove-corresponding_structure.htm";
   }
 }
 else {
    field.value = loc; }
 field.setSelectionRange(0, field.value.length);
 var r = confirm( "Copy URL to clipboard?\n\n" + field.value + "\n\nCopy to clipboard does not work in all browsers." );
 if (r == true) {
   try{
     document.execCommand("copy");
   }
     catch(e){ alert( "URL could not be copied to clipboard" ); }
 }
 window.scrollTo(0,0);
}
</script>
</head>
<body>
<div class="all">
<div style="float:right;">
<input type="button" value="URL"
style="font-size:10px; width:30px; height:18px; padding:0; "
onclick="urlToClipboard('url')" title="Copy URL to Clipboard" ></div>
<p>
<input name="query" id="query" value="" type="text" title="Suchbegriff" size="30" maxlength="30" onkeyup="getInput()">&nbsp;
<input type="button" value="Search"
style="font-size:12px; width:50px; height:18px; padding:0"
onclick="call_search('search.html')" title="Search in ABAP Keyword Documentation" >
<hr style="width:100%;height:1px"></p>
<p class="copyright">AS ABAP Release 754, &copy;Copyright 2019 SAP SE. All rights reserved.</p>
<span class="path">
<a href="javascript:call_link('abenabap.html')" class="blue">ABAP Keyword Documentation</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_reference.html')" class="blue">ABAP &#x2212; Reference</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_data_working.html')" class="blue">Processing Internal Data</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenvalue_assignments.html')" class="blue">Assignments</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abencorresponding.html')" class="blue">Assigning Structure Components</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abapmove-corresponding.html')" class="blue">MOVE-CORRESPONDING</a>&nbsp;&rarr;&nbsp;
</span>
<p><span class="h1">
MOVE-CORRESPONDING - structure <br><br>
</span></p>
<P>
<a href="javascript:call_link('abapmove-corresponding_shortref.html')" class="blue">Quick Reference</a> <br><br>
</P>
<p><span class="h2">
<span class="bold">Syntax</span>
</span></p>
<P>
<span class="qtext">MOVE-CORRESPONDING <i class=bn>[</i>EXACT<i class=bn>]</i> struc1 TO struc2 <br>&nbsp;&nbsp;<i class=bn>[</i>EXPANDING NESTED TABLES<i class=bn>]</i></span>. <br><br>
</P>
<p><span class="h3">
Extras:
</span></p>
<P>
   <A HREF="#!ABAP_ADDITION_1@1@" class="blue"> 1. <span class="qtext">... EXACT</span> </A> <br><br><A HREF="#!ABAP_ADDITION_2@2@" class="blue"> 2. <span class="qtext">... EXPANDING NESTED TABLES</span> </A> <br><br>
</P>
<p><span class="h4">
Effect
</span></p>
<P>
This variant of the statement <span class="qtext">MOVE-CORRESPONDING</span> requires
<a href="javascript:call_link('abenstructure_glosry.html')" class="grey" title="Glossary Entry">structures</a> to be specified for <span class="qtext">struc1</span> and <span class="qtext">struc2</span>.
<a href="javascript:call_link('abenmesh_glosry.html')" class="grey" title="Glossary Entry">Meshes</a> - as operands of statement
<span class="qtext">MOVE-CORRESPONDING</span> - are handled in the same way as normal structures and can also be specified.
</P>
<P>
The system searches for all components with the same name in <span class="qtext">struc1</span> and <span class="qtext">
struc2</span> and the content of components in <span class="qtext">struc1</span> is assigned to the
components with the same name in <span class="qtext">struc2</span>. Other components are not affected.
If field symbols are used as operands, the names of the components are evaluated in accordance with the data type of the field symbols. A
<a href="javascript:call_link('abencast_casting_glosry.html')" class="grey" title="Glossary Entry">casting</a> may be used to make this type different from the names of the actual structures.
</P>
<P>
Nested structures are fully expanded. The names of the components are compared down to the lowest common
level. If the addition <span class="qtext">EXPANDING NESTED TABLES</span> is not specified, the following statement is executed for each identically named component pair <span class="qtext">comp</span>:
</P>
<P>
<a href="javascript:call_link('abapmove.html')" class="blue"><span class="qtext">struc2-comp = struc1-comp.</span></a>
</P>
<P>
Any associated conversions are performed and the relevant exceptions may be raised. In particular, if the components are table-like, the entire table body is mapped in accordance with the
<a href="javascript:call_link('abenconversion_itab.html')" class="blue">conversion rules for internal tables</a>.
</P>
<P>
If <span class="qtext">struc1</span> or <span class="qtext">struc2</span> are empty
<a href="javascript:call_link('abencustomizing_include_glosry.html')" class="grey" title="Glossary Entry">customizing includes</a>
when the statement is executed (that is they do not contain any components), the statement is ignored.
If <span class="qtext">struc1</span> is a structure that contains empty customizing includes as components, these are also ignored when the structure is evaluated. <br><br>
</P>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>
If structures are specified for <span class="qtext">struc1</span> and <span class="qtext">struc2</span>
and the structures are known statically, the names are compared once when the program is generated by
ABAP Compiler. If untyped field symbols or formal parameters are used, the names must be compared each time the statement is executed. <br>
<br></li>
<li>
Field symbols that point to structures can have different names for the components than the structure
itself, as specified by the <a href="javascript:call_link('abapassign_casting.html')" class="blue"><span class="qtext">CASTING</span></a>
addition of the statement <a href="javascript:call_link('abapassign.html')" class="blue"><span class="qtext">ASSIGN</span></a>.
The statement <span class="qtext">MOVE-CORRESPONDING</span> evaluates the names of the data type of
the current operand. In this way, components in the same structure can also be assigned to each other.
Note that the order of editing, and hence the result in a component that is both source and target,
is usually undefined. No temporary intermediate result is created and it is not possible to exchange the content of two components from the same structure in a single statement. See the executable example
<a href="javascript:call_link('abenreflexive_corresponding_abexa.html')" class="blue">Reflexive Component Assignments</a>. <br>
<br></li>
<li>
The compiler optimizes the <span class="qtext">MOVE-CORRESPONDING</span> statement for structures so
that sequences of components that have the same names in both structures are grouped and copied together. It is therefore advisable to construct the structures in question in the same way whenever possible. <br>
<br></li>
<li>
<span class="qtext">MOVE-CORRESPONDING</span> for structures ignores names that were only defined with
the <span class="qtext">AS name</span> addition of the <a href="javascript:call_link('abapinclude_type.html')" class="blue"><span class="qtext">
INCLUDE</span></a> statement or when structures were integrated into ABAP Dictionary. Any components
renamed using the addition <span class="qtext">RENAMING WITH SUFFIX</span> of the statement <span class="qtext">INCLUDE</span> (or renamed similarly in ABAP Dictionary) are, however, not ignored. <br><br>
<br></li>
</ul>
<p><span class="h3">
<A NAME="!ABAP_ADDITION_1@1@"></A> <span class="bold">Addition 1</span>
</span></p>
<P>
<span class="qtext">... EXACT</span>   <br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<P>
If the addition <span class="qtext">EXACT</span> is specified for <span class="qtext">MOVE-CORRESPONDING</span> the following
<a href="javascript:call_link('abenlossless_move.html')" class="blue">lossless assignment</a> is made for each identically named component pair <span class="qtext">comp</span>
</P>
<P>
<span class="qtext">struc2-comp = <a href="javascript:call_link('abenconstructor_expression_exact.html')" class="blue">EXACT</a> #( struc1-comp ).</span>
</P>
<P>
and the corresponding checks are performed. If an exception is raised, all components are assigned up to the component that raised the exception. This component, and all following components, are not assigned. <br><br>
</P>
<p><span class="h3">
<A NAME="!ABAP_ADDITION_2@2@"></A> <span class="bold">Addition 2</span>
</span></p>
<P>
<span class="qtext">... EXPANDING NESTED TABLES</span>   <br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<P>
This addition specifies that, for two components with the same name and which are both internal tables, no
<a href="javascript:call_link('abapmove.html')" class="blue">assignment</a> is made and that the variant <a href="javascript:call_link('abapmove-corresponding_itab.html')" class="blue"><span class="qtext">MOVE-CORRESPONDING <i
class=bn>[</i>EXACT<i class=bn>]</i></span> for internal tables</a> with the addition <span class="qtext">EXPANDING
NESTED TABLES</span> and without the addition <span class="qtext">KEEPING TARGET LINES</span> is executed instead.
</P>
<P>
Tabular components are resolved at every hierarchy level and identically named components are mapped row by row. The target tables are deleted before a mapping.
</P>
<p><span class="h4">
Note
</span></p>
<P>
If one of two identically named components is an internal table and the other not, <span class="qtext">MOVE-CORRESPONDING</span>
is never possible, regardless of whether <span class="qtext">EXPANDING NESTED TABLES</span> is used. <br><br>
</P>
<p><span class="h4">
Example
</span></p>
<P>
In the following example, the structure <span class="qtext">struc1</span> contains the components:
</P>
<ul class="disc">
<li>
<span class="qtext">struc1-comp1</span>
<br><br></li>
<li>
<span class="qtext">struc1-struci-comp1</span>
<br><br></li>
<li>
<span class="qtext">struc1-struci-comp2-col1</span>
<br><br></li>
<li>
<span class="qtext">struc1-struci-comp2-col2</span>
<br><br></li>
<li>
<span class="qtext">struc1-itab</span>
<br></li>
</ul>
<P>
The structure <span class="qtext">struc2</span> contains the components:
</P>
<ul class="disc">
<li>
<span class="qtext">struc2-struci-comp1</span>
<br><br></li>
<li>
<span class="qtext">struc2-struci-comp2</span>
<br><br></li>
<li>
<span class="qtext">struc2-struci-comp3</span>
<br><br></li>
<li>
<span class="qtext">struc2-itab</span>
<br></li>
</ul>
<P>
Over the length of the shorter path, the components <span class="qtext">struci-comp1</span>, <span class="qtext">struci-comp2</span>,
and <span class="qtext">itab</span> have the same name. These are assigned from <span class="qtext">struc1</span>
to <span class="qtext">struc2</span> in both <span class="qtext">MOVE-CORRESPONDING</span> statements.
In <span class="qtext">struc1</span>, <span class="qtext">struci-comp2</span> is self-structured; in
<span class="qtext">struc2</span>, <span class="qtext">struci-comp2</span> is elementary. When <span class="qtext">
struc1-struci-comp2</span> is assigned to <span class="qtext">struc2-struci-comp2</span>, the source
field is documented as an elementary field of type <span class="qtext">c</span> in accordance with the conversion rules for structures.
</P>
<P>
The components <span class="qtext">itab</span> are table-like and have compatible row types. The statement
<span class="qtext">MOVE-CORRESPONDING</span> without the addition <span class="qtext">EXPANDING NESTED
TABLE</span> maps the table body and the content of <span class="qtext">itab</span> in <span class="qtext">struc2</span>
then matches the content of <span class="qtext">itab</span> in <span class="qtext">struc1</span>. If
the addition <span class="qtext">EXPANDING NESTED TABLE</span> is used, only the component <span class="qtext">col2</span> is mapped and <span class="qtext">col3</span> remains initial.
</P>
<P>
The components <span class="qtext">struc1-comp1</span> and <span class="qtext">struc2-struci-comp3</span> do not have any equivalents with the same name and are ignored in the assignment.
</P>
<p class="qtextml1">
<span class="qtext">
TYPES: BEGIN OF line1, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; col1 TYPE i, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; col2 TYPE i, <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; END OF line1, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; BEGIN OF line2, <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; col2 TYPE i, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; col3 TYPE i, <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; END OF line2. <br> <br>DATA: BEGIN OF struc1, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;comp1 TYPE c LENGTH 1 VALUE 'U', <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BEGIN OF struci, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;comp1 TYPE c LENGTH 1 VALUE 'V', <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BEGIN OF comp2, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;col1 TYPE c LENGTH 1 VALUE 'X', <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;col2 TYPE c LENGTH 1 VALUE 'Y', <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;END OF comp2, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;END OF struci, <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;itab TYPE TABLE OF line1 WITH EMPTY KEY, <br>&nbsp;&nbsp;&nbsp;&nbsp; END OF struc1. <br>
 <br>DATA: BEGIN OF struc2, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BEGIN OF struci, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;comp1 TYPE string, <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;comp2 TYPE string, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;comp3 TYPE string, <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;END OF struci, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;itab TYPE TABLE OF line2 WITH EMPTY KEY, <br>
&nbsp;&nbsp;&nbsp;&nbsp; END OF struc2. <br> <br>struc1-itab = VALUE #( <br>&nbsp;&nbsp;( col1 = 11 col2 = 12 ) <br>
&nbsp;&nbsp;( col1 = 21 col2 = 22 ) ). <br> <br>MOVE-CORRESPONDING struc1 TO struc2. <br>MOVE-CORRESPONDING struc1 TO struc2 EXPANDING NESTED TABLES. <br><br>
</span>
</p>
<p><span class="h4">
Example
</span></p>
<P>
This example shows how <span class="qtext">MOVE-CORRESPONDING</span> is applied to two structures with
the same type <span class="qtext">t_str</span> and which are cast using field symbols with different
types. The statement evaluates the names of the types of the field symbols, which assigns the content of components that actually have different names.
</P>
<p class="qtextml1">
<span class="qtext">
TYPES: BEGIN OF t_str, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; a1 TYPE i, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; a2 TYPE i, <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; END OF t_str. <br> <br>TYPES: BEGIN OF t_str1, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; b1 TYPE i, <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; b2 TYPE i, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; END OF t_str1. <br>
 <br>TYPES: BEGIN OF t_str2, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; b2 TYPE i, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; b1 TYPE i, <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; END OF t_str2. <br> <br>DATA(str1) = VALUE t_str( a1 = 1 a2 = 2 ). <br>
DATA str2 LIKE str1. <br> <br>FIELD-SYMBOLS &lt;fs1> TYPE t_str1. <br>ASSIGN str1 TO &lt;fs1> CASTING. <br>
 <br>FIELD-SYMBOLS &lt;fs2> TYPE t_str2. <br>ASSIGN str2 TO &lt;fs2> CASTING. <br> <br>MOVE-CORRESPONDING &lt;fs1> TO &lt;fs2>. <br>
 <br>cl_demo_output=>write(&nbsp;&nbsp; str1 ). <br>cl_demo_output=>display( str2 ). <br><br>
</span>
</p>
<p><span class="h4">
Executable Example
</span></p>
<P>
<a href="javascript:call_link('abenmove_corresponding_struc_abexa.html')" class="blue"><span class="qtext">MOVE-CORRESPONDING</span> for Structures</a>
</P>
<br>
<br>
<br>
<br>
</DIV>
<fieldset style="opacity:0">
<input id="url" type="text" />
</fieldset>
</BODY>

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abapmove-corresponding_structure.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:52:46 GMT -->
</html>

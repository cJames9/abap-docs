<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="EN">
<!-- ABAPLOOP_AT_ITAB_GROUP_BY_BINDING -->

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abaploop_at_itab_group_by_binding.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:51:35 GMT -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="author" content="SAP">
<meta name="description" content="LOOP AT itab - group_result">
<title>
LOOP AT itab - group_result - ABAP Keyword Documentation
</title>
<link rel="icon" href="ABAPIcon.ico" type="image/ico">
<link rel="shortcut icon" href="ABAPIcon.ico">
<LINK rel="stylesheet" href="abap_docu.css" type="text/css">
<script language="javascript" type="text/javascript" src="functions.js"></script>
<script type="text/JavaScript">
function urlToClipboard(id){
 try{ var loc = top.location.href;}
 catch(e){ alert( "URL cannnot be determined" ); return; }
 var field = document.getElementById(id);
 field.focus();
 if ( loc.search( ".htm" ) == -1 && loc.search( ".HTM" ) == -1  ){ loc = loc + "index.htm"; }
 if (   loc.search( "index.html" ) != -1
     || loc.search( "INDEX-2.html" ) != -1 ){
   var off = loc.search( "file=" );
   if ( off == -1  ){
     field.value = loc + "?file=abaploop_at_itab_group_by_binding.htm"; }
   else {
     field.value = loc.substring( 0, off ) + "file=abaploop_at_itab_group_by_binding.htm";
   }
 }
 else {
    field.value = loc; }
 field.setSelectionRange(0, field.value.length);
 var r = confirm( "Copy URL to clipboard?\n\n" + field.value + "\n\nCopy to clipboard does not work in all browsers." );
 if (r == true) {
   try{
     document.execCommand("copy");
   }
     catch(e){ alert( "URL could not be copied to clipboard" ); }
 }
 window.scrollTo(0,0);
}
</script>
</head>
<body>
<div class="all">
<div style="float:right;">
<input type="button" value="URL"
style="font-size:10px; width:30px; height:18px; padding:0; "
onclick="urlToClipboard('url')" title="Copy URL to Clipboard" ></div>
<p>
<input name="query" id="query" value="" type="text" title="Suchbegriff" size="30" maxlength="30" onkeyup="getInput()">&nbsp;
<input type="button" value="Search"
style="font-size:12px; width:50px; height:18px; padding:0"
onclick="call_search('search.html')" title="Search in ABAP Keyword Documentation" >
<hr style="width:100%;height:1px"></p>
<p class="copyright">AS ABAP Release 754, &copy;Copyright 2019 SAP SE. All rights reserved.</p>
<span class="path">
<a href="javascript:call_link('abenabap.html')" class="blue">ABAP Keyword Documentation</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_reference.html')" class="blue">ABAP &#x2212; Reference</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_data_working.html')" class="blue">Processing Internal Data</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenitab.html')" class="blue">Internal Tables</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abentable_processing_statements.html')" class="blue">Processing Statements for Internal Tables</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abaploop_at_itab_variants.html')" class="blue">LOOP AT itab</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abaploop_at_itab_group_by.html')" class="blue">LOOP AT itab - GROUP BY</a>&nbsp;&rarr;&nbsp;
</span>
<A NAME="@@INTO@@LOOP AT GROUP BY@@"></A>
<A NAME="@@ASSIGNING@@LOOP AT GROUP BY@@"></A>
<A NAME="@@REFERENCE INTO@@LOOP AT GROUP BY@@"></A>
<p><span class="h1">
LOOP AT itab - group_result
</span></p>
<p><span class="h2">
<span class="bold">Syntax</span>
</span></p>
<P>
<span class="qtext"> ... <i class=bn>{</i> <i class=bn>}</i> <br>&nbsp;&nbsp;<i class=bn>|</i> <i class=bn>{</i>INTO group<i
class=bn>}</i><i class=bn>|</i><i class=bn>{</i>ASSIGNING &lt;group><i class=bn>}</i><i class=bn>|</i><i class=bn>{</i>REFERENCE INTO group_ref<i class=bn>}</i> ...</span> <br><br>
</P>
<p><span class="h2">
Alternatives:
</span></p>
<P>
   <A HREF="#!ABAP_ALTERNATIVE_1@1@" class="blue"> 1. <span class="qtext">... <i class=bn>{</i> <i class=bn>}</i></span> </A> <br>
<br><A HREF="#!ABAP_ALTERNATIVE_2@2@" class="blue"> 2. <span class="qtext">... <i class=bn>{</i>INTO group<i
class=bn>}</i><i class=bn>|</i><i class=bn>{</i>ASSIGNING &lt;group><i class=bn>}</i><i class=bn>|</i><i class=bn>{</i>REFERENCE INTO group_ref<i class=bn>}</i></span> </A> <br><br>
</P>
<p><span class="h4">
Effect
</span></p>
<P>
Defines the output behavior of the <a href="javascript:call_link('abaploop_at_itab_group_by.html')" class="blue">group loop</a> in a
<a href="javascript:call_link('abaploop_at_itab_group_by.html')" class="blue">grouping</a> of an internal table in a <span class="qtext">LOOP</span>.  The output behavior defines the following:
</P>
<ul class="disc">
<li>
A data object or field symbol whose content is accessed in the group loop and which can also be passed to called procedures.
<br><br></li>
<li>
A name for the group which can only be used within the current group loop (and loops nested here) in
the statement <a href="javascript:call_link('abaploop_at_group.html')" class="blue"><span class="qtext">LOOP AT GROUP</span></a>
or in an expression <a href="javascript:call_link('abenfor_in_group.html')" class="blue"><span class="qtext">FOR ... IN GROUP</span></a> for specifying a group. <br><br>
<br></li>
</ul>
<p><span class="h2">
<A NAME="!ABAP_ALTERNATIVE_1@1@"></A> <span class="bold">Alternative 1</span>
</span></p>
<P>
<span class="qtext">... <i class=bn>{</i> <i class=bn>}</i></span> <br><br><br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<P>
Representative binding. If nothing is specified for the output behavior <span class="qtext">group_result</span>,
the output behavior is determined for the table rows using the addition <a href="javascript:call_link('abaploop_at_itab_result.html')" class="blue">
<span class="qtext">result</span></a>. In each loop pass, the first row of the current group is assigned
as a representative of its group to the data object or field symbol defined there. The representative
is bound to the current group and the group can be addressed using the name of the representative in
the statement <a href="javascript:call_link('abaploop_at_group.html')" class="blue"><span class="qtext">LOOP
AT GROUP</span></a> or the expression <a href="javascript:call_link('abenfor_in_group.html')" class="blue"><span class="qtext">FOR ... IN GROUP</span></a>.
</P>
<P>
If the representative binding is used,
</P>
<ul class="disc">
<li>
the addition <a href="javascript:call_link('abaploop_at_itab_group_by.html')" class="blue"><span class="qtext">WITHOUT MEMBERS</span></a> is not possible, since there would be no assignment of the representative to its group in this case,
<br><br></li>
<li>
no additional components for <a href="javascript:call_link('abaploop_at_itab_group_by_key.html')" class="blue"><span class="qtext">GROUP
SIZE</span></a> and <a href="javascript:call_link('abaploop_at_itab_group_by_key.html')" class="blue"><span class="qtext">GROUP
INDEX</span></a> can be created for a structured group key, since it is impossible to access these components in this case.
<br></li>
</ul>
<P>
Outside of the group loop, the representative is not bound to the group and cannot be used to specify it in
<a href="javascript:call_link('abenmember_loop_glosry.html')" class="grey" title="Glossary Entry">member loops</a>. This applies in particular to procedures called from the group loop.
</P>
<p><span class="h4">
Note
</span></p>
<P>
If a representative is bound to the current group, the associated group key in cannot be addressed in the group loop.
</P>
<p><span class="h4">
Example
</span></p>
<P>
The group key in the following example is a structure with two components <span class="qtext">key1</span>
and <span class="qtext">key2</span> to which the columns <span class="qtext">key1</span> and <span class="qtext">key2</span>
respectively are assigned to each row of the internal table <span class="qtext">itab</span> in the grouping.
This produces three groups with the group key values <span class="qtext400">(a, a)</span>, <span class="qtext400">(a,
b)</span>, and <span class="qtext400">(b, a)</span>. Accordingly, the group loop is passed three times
and the first, second, and sixth row are assigned to the field symbol <span class="qtext">&lt;wa></span> as representatives. See also the
<a href="javascript:call_link('abenloop_at_group_abexa.html')" class="blue">executable example</a> of output behavior.
</P>
<p class="qtextml1">
<span class="qtext">
TYPES: <br>&nbsp;&nbsp;BEGIN OF struct, <br>&nbsp;&nbsp;&nbsp;&nbsp;key1 TYPE string, <br>&nbsp;&nbsp;&nbsp;&nbsp;key2 TYPE string, <br>
&nbsp;&nbsp;&nbsp;&nbsp;col&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TYPE i, <br>&nbsp;&nbsp;END OF struct, <br>
&nbsp;&nbsp;itab TYPE STANDARD TABLE OF struct WITH EMPTY KEY. <br> <br>DATA(itab) = VALUE itab( <br>&nbsp;&nbsp;( key1 = `a` key2 = `a` col = 1 ) <br>
&nbsp;&nbsp;( key1 = `a` key2 = `b` col = 2 ) <br>&nbsp;&nbsp;( key1 = `a` key2 = `a` col = 3 ) <br>&nbsp;&nbsp;( key1 = `a` key2 = `a` col = 4 ) <br>
&nbsp;&nbsp;( key1 = `a` key2 = `b` col = 5 ) <br>&nbsp;&nbsp;( key1 = `b` key2 = `a` col = 6 ) <br>&nbsp;&nbsp;( key1 = `b` key2 = `a` col = 7 )&nbsp;&nbsp;). <br>
 <br>LOOP AT itab ASSIGNING FIELD-SYMBOL(&lt;wa>) <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; GROUP BY ( key1 = &lt;wa>-key1 key2 = &lt;wa>-key2 ). <br>
&nbsp;&nbsp;cl_demo_output=>write( &lt;wa> ). <br>ENDLOOP. <br> <br>cl_demo_output=>display( ). <br><br>
</span>
</p>
<p><span class="h2">
<A NAME="!ABAP_ALTERNATIVE_2@2@"></A> <span class="bold">Alternative 2</span>
</span></p>
<P>
<span class="qtext">... <i class=bn>{</i>INTO group<i class=bn>}</i><i class=bn>|</i><i class=bn>{</i>ASSIGNING &lt;group><i
class=bn>}</i><i class=bn>|</i><i class=bn>{</i>REFERENCE INTO group_ref<i class=bn>}</i></span> <br><br><br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<P>
Group key binding. If an explicit output behavior <span class="qtext">group_result</span> is specified,
the group key of the current key is assigned to the data object or field symbol specified after <span class="qtext">
INTO</span>, <span class="qtext">ASSIGNING</span>, or <span class="qtext">REFERENCE INTO</span> in every
loop pass. Here, the same syntax and semantics apply as in the output behavior <a href="javascript:call_link('abaploop_at_itab_result.html')" class="blue">
<span class="qtext">result</span></a>. The data type of the specified data object or field symbol must match the data type of the group key. If the group key is constructed as a new structure in the
<a href="javascript:call_link('abaploop_at_itab_group_by_key.html')" class="blue">group key expression</a>, the row type must be a structure whose components exist with the same name and in the same order as in the group key.
</P>
<P>
The specified data object or field symbol is bound to the current group and the group can be addressed
using its name in the statement <a href="javascript:call_link('abaploop_at_group.html')" class="blue"><span class="qtext">LOOP
AT GROUP</span></a> or the expression <a href="javascript:call_link('abenfor_in_group.html')" class="blue"><span class="qtext">FOR
... IN GROUP</span></a>. Outside of the group loop, the data object or field symbol is not bound to the group and cannot be used to specify it in
<a href="javascript:call_link('abenmember_loop_glosry.html')" class="grey" title="Glossary Entry">member loops</a>. This applies
in particular to procedures called from the group loop. When the group loop is closed, the grouping is canceled and a specified data object is initialized or a field symbol no longer has a group key assigned to it.
</P>
<P>
The data object or field symbol of the output behavior defined in <a href="javascript:call_link('abaploop_at_itab_result.html')" class="blue">
<span class="qtext">result</span></a> for the table rows can still be addressed in the group loop but it is either initial after the <span class="qtext">LOOP</span> statement or does not point to a row.
</P>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>
To specify a type-friendly data object or field symbol as a target for the group key, it is best to use an <a href="javascript:call_link('abeninline_declarations.html')" class="blue">inline declaration</a>. This can always be done here.
<br><br></li>
<li>
The output behavior <a href="javascript:call_link('abaploop_at_itab_result.html')" class="blue"><span class="qtext">result</span></a>
for the table rows is still needed for the construction of the group key <a href="javascript:call_link('abaploop_at_itab_group_by_key.html')" class="blue">
<span class="qtext">group_key</span></a> if <span class="qtext">group_result</span> is specified explicitly.
<br><br></li>
<li>
Unlike in <a href="javascript:call_link('abaploop_at_itab_result.html')" class="blue"><span class="qtext">result</span></a> for
table rows, no addition <span class="qtext">CASTING</span> can be specified after <span class="qtext">ASSIGNING</span>.
<br></li>
</ul>
<p><span class="h4">
Example
</span></p>
<P>
Like in the previous example, however the groups are not assigned to an implicit representative here
and are assigned to the explicitly defined target area for the group key instead. In each of the three
loop passes, the reference variable <span class="qtext">group_key</span> declared inline points to the
structured group key <span class="qtext400">(a, a)</span>, <span class="qtext400">(a, b)</span>, and <span class="qtext400">(b, a)</span> in question. See also the
<a href="javascript:call_link('abenloop_at_group_abexa.html')" class="blue">executable example</a> of output behavior.
</P>
<p class="qtextml1">
<span class="qtext">
TYPES: <br>&nbsp;&nbsp;BEGIN OF struct, <br>&nbsp;&nbsp;&nbsp;&nbsp;key1 TYPE string, <br>&nbsp;&nbsp;&nbsp;&nbsp;key2 TYPE string, <br>
&nbsp;&nbsp;&nbsp;&nbsp;col&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TYPE i, <br>&nbsp;&nbsp;END OF struct, <br>
&nbsp;&nbsp;itab TYPE STANDARD TABLE OF struct WITH EMPTY KEY. <br> <br>DATA(itab) = VALUE itab( <br>&nbsp;&nbsp;( key1 = `a` key2 = `a` col = 1 ) <br>
&nbsp;&nbsp;( key1 = `a` key2 = `b` col = 2 ) <br>&nbsp;&nbsp;( key1 = `a` key2 = `a` col = 3 ) <br>&nbsp;&nbsp;( key1 = `a` key2 = `a` col = 4 ) <br>
&nbsp;&nbsp;( key1 = `a` key2 = `b` col = 5 ) <br>&nbsp;&nbsp;( key1 = `b` key2 = `a` col = 6 ) <br>&nbsp;&nbsp;( key1 = `b` key2 = `a` col = 7 )&nbsp;&nbsp;). <br>
 <br>LOOP AT itab ASSIGNING FIELD-SYMBOL(&lt;wa>) <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; GROUP BY ( key1 = &lt;wa>-key1 key2 = &lt;wa>-key2 ) <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; WITHOUT MEMBERS <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; REFERENCE INTO DATA(group_key). <br>
&nbsp;&nbsp;cl_demo_output=>write( group_key->* ). <br>ENDLOOP. <br> <br>cl_demo_output=>display( ). <br><br> <br><br>
</span>
</p>
<br>
<br>
<br>
<br>
</DIV>
<fieldset style="opacity:0">
<input id="url" type="text" />
</fieldset>
</BODY>

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abaploop_at_itab_group_by_binding.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:51:35 GMT -->
</html>

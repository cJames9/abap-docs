<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="EN">
<!-- ABENCDS_F1_SESSION_VARIABLE -->

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abencds_f1_session_variable.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:51:28 GMT -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="author" content="SAP">
<meta name="description" content="ABAP CDS - session_variable">
<meta name="keywords" content="ABAP, ABAP CDS, Session Variables">
<title>
ABAP CDS - session_variable - ABAP Keyword Documentation
</title>
<link rel="icon" href="ABAPIcon.ico" type="image/ico">
<link rel="shortcut icon" href="ABAPIcon.ico">
<LINK rel="stylesheet" href="abap_docu.css" type="text/css">
<script language="javascript" type="text/javascript" src="functions.js"></script>
<script type="text/JavaScript">
function urlToClipboard(id){
 try{ var loc = top.location.href;}
 catch(e){ alert( "URL cannnot be determined" ); return; }
 var field = document.getElementById(id);
 field.focus();
 if ( loc.search( ".htm" ) == -1 && loc.search( ".HTM" ) == -1  ){ loc = loc + "index.htm"; }
 if (   loc.search( "index.html" ) != -1
     || loc.search( "INDEX-2.html" ) != -1 ){
   var off = loc.search( "file=" );
   if ( off == -1  ){
     field.value = loc + "?file=abencds_f1_session_variable.htm"; }
   else {
     field.value = loc.substring( 0, off ) + "file=abencds_f1_session_variable.htm";
   }
 }
 else {
    field.value = loc; }
 field.setSelectionRange(0, field.value.length);
 var r = confirm( "Copy URL to clipboard?\n\n" + field.value + "\n\nCopy to clipboard does not work in all browsers." );
 if (r == true) {
   try{
     document.execCommand("copy");
   }
     catch(e){ alert( "URL could not be copied to clipboard" ); }
 }
 window.scrollTo(0,0);
}
</script>
</head>
<body>
<div class="all">
<div style="float:right;">
<input type="button" value="URL"
style="font-size:10px; width:30px; height:18px; padding:0; "
onclick="urlToClipboard('url')" title="Copy URL to Clipboard" ></div>
<p>
<input name="query" id="query" value="" type="text" title="Suchbegriff" size="30" maxlength="30" onkeyup="getInput()">&nbsp;
<input type="button" value="Search"
style="font-size:12px; width:50px; height:18px; padding:0"
onclick="call_search('search.html')" title="Search in ABAP Keyword Documentation" >
<hr style="width:100%;height:1px"></p>
<p class="copyright">AS ABAP Release 754, &copy;Copyright 2019 SAP SE. All rights reserved.</p>
<span class="path">
<a href="javascript:call_link('abenabap.html')" class="blue">ABAP Keyword Documentation</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_dictionary.html')" class="blue">ABAP - Dictionary</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abencds.html')" class="blue">ABAP CDS in ABAP Dictionary</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenddic_cds_entities.html')" class="blue">ABAP CDS - Data Definitions</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abencds_f1_ddl_syntax.html')" class="blue">ABAP CDS - DDL for Data Definitions</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abencds_f1_define_view.html')" class="blue">ABAP CDS - DEFINE VIEW</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abencds_f1_select_statement.html')" class="blue">ABAP CDS - SELECT</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abencds_operands_and_expressions.html')" class="blue">ABAP CDS - SELECT, Operands and Expressions</a>&nbsp;&rarr;&nbsp;
</span>
<A NAME="@@$session@@!ABAP_CDS_SELECT!@@"></A>
<A NAME="@@user@@!ABAP_CDS_SESSION_VAR!@@"></A>
<A NAME="@@client@@!ABAP_CDS_SESSION_VAR!@@"></A>
<A NAME="@@system_language@@!ABAP_CDS_SESSION_VAR!@@"></A>
<A NAME="@@system_date@@!ABAP_CDS_SESSION_VAR!@@"></A>
<p><span class="h1">
ABAP CDS - session_variable
</span></p>
<A name="@@ITOC@@ABENCDS_F1_SESSION_VARIABLE_1"></A>
<p><span class="h2">
Syntax
</span></p>
<p>
<span class="qtext400">... $session.vname ...</span>
</p>
<p><span class="h4">
Effect
</span></p>
<p>
Specifies a <a href="javascript:call_link('abensession_variable_glosry.html')" class="grey" title="Glossary Entry">session variable</a>
<span class="qtext">vname</span> in an operand position in a <a href="javascript:call_link('abencds_f1_select_statement.html')" class="blue"><span class="qtext400">SELECT</span> statement</a> of a
<a href="javascript:call_link('abencds_view_glosry.html')" class="grey" title="Glossary Entry">CDS view</a>. The variable is
case-sensitive. <span class="qtext400">$session.vname</span>, <span class="qtext400">$Session.Vname</span>, and <span class="qtext400">$SESSION.VNAME</span> can all be used. No other spellings are allowed.
</p>
<p>
Session variables have a predefined name and are set to a predefined value when the CDS view is used
in ABAP SQL. This also applies to CDS views that are used as data sources in other CDS views. The following session variables exist:
</p>
<table border>
<tr>
<td><span class="bold">vname</span></td>
<td><span class="bold">Valued when accessed using ABAP SQL</span></td>
</tr>
<tr>
<td><span class="qtext400">user</span></td>
<td>Current <a href="javascript:call_link('abenuser_name_glosry.html')" class="grey" title="Glossary Entry">user name</a>, nominal
value of the ABAP system field <a href="javascript:call_link('abensystem_fields.html')" class="blue"><span class="qtext">sy-uname</span></a></td>
</tr>
<tr>
<td><span class="qtext400">client</span></td>
<td>Current <a href="javascript:call_link('abenclient_glosry.html')" class="grey" title="Glossary Entry">client</a>. The default
value is the nominal value of the ABAP system field <a href="javascript:call_link('abensystem_fields.html')" class="blue"><span class="qtext">
sy-mandt</span></a>. In reads with an ABAP SQL statement (with the addition <a href="javascript:call_link('abapselect_client.html')" class="blue"><span class="qtext">USING CLIENT</span></a>) and in calls of an
<a href="javascript:call_link('abenamdp_method_glosry.html')" class="grey" title="Glossary Entry">AMDP method</a> from ABAP (in
whose declaration the addition <a href="javascript:call_link('abapmethods_amdp_options.html')" class="blue"><span class="qtext">AMDP OPTIONS CDS SESSION CLIENT</span></a> is specified, the value specified here.</td>
</tr>
<tr>
<td><span class="qtext400">system_language</span></td>
<td><a href="javascript:call_link('abentext_env_langu_glosry.html')" class="grey" title="Glossary Entry">Text environment language</a> of the current
<a href="javascript:call_link('abeninternal_session_glosry.html')" class="grey" title="Glossary Entry">internal session</a>,
nominal value of the ABAP system field <a href="javascript:call_link('abensystem_fields.html')" class="blue"><span class="qtext">sy-langu</span></a></td>
</tr>
<tr>
<td><span class="qtext400">system_date</span></td>
<td>Current <a href="javascript:call_link('abensystem_date_glosry.html')" class="grey" title="Glossary Entry">system date</a>
of the AS ABAP, nominal value of the ABAP system field <a href="javascript:call_link('abensystem_fields.html')" class="blue"><span class="qtext">sy-datum</span></a></td>
</tr>
</table><br>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>From a technical perspective, session variables indicate global variables of the current database
that are set to their value when the CDS view is used in ABAP SQL. If ABAP SQL is not used to access a CDS view with session variables, the content of the variables is undefined (with the exception of the
<a href="javascript:call_link('abenhana_database_glosry.html')" class="grey" title="Glossary Entry">SAP HANA database</a>).</li>
</ul>
<ul class="disc">
<li>On a <a href="javascript:call_link('abenhana_database_glosry.html')" class="grey" title="Glossary Entry">SAP HANA database</a> used as a
<a href="javascript:call_link('abenstandard_db_glosry.html')" class="grey" title="Glossary Entry">standard AS ABAP database</a>, the
<a href="javascript:call_link('abenhana_session_variables.html')" class="blue">ABAP-specific session variables</a> are called
<span class="qtext400">APPLICATIONUSER</span>, <span class="qtext400">CDS_CLIENT</span>, <span class="qtext400">LOCALE_SAP</span>,
and <span class="qtext400">SAP_SYSTEM_DATE</span> and exist and are set independently of ABAP CDS and ABAP SQL. They can be accessed using the database function <span class="qtext400">SESSION_CONTEXT</span>.</li>
</ul>
<ul class="disc">
<li>A further <a href="javascript:call_link('abenhana_session_variables.html')" class="blue">ABAP-specific session variable</a>
<span class="qtext400">CLIENT</span> in the SAP HANA database always contains the current client of
the ABAP session and is not modified by the ABAP SQL addition <a href="javascript:call_link('abapselect_client.html')" class="blue"><span class="qtext">USING CLIENT</span></a> or by ABAP calls of an
<a href="javascript:call_link('abenamdp_method_glosry.html')" class="grey" title="Glossary Entry">AMDP method</a> (in whose declaration
the addition <a href="javascript:call_link('abapmethods_amdp_options.html')" class="blue"><span class="qtext">AMDP OPTIONS CDS
SESSION CLIENT</span></a> is specified). The HANA session variable <span class="qtext400">CLIENT</span> does not have a corresponding variable in ABAP CDS.</li>
</ul>
<ul class="disc">
<li>For <a href="javascript:call_link('abencds_f1_parameter_list.html')" class="blue">input parameters</a> of CDS views annotated
with the special annotation <a href="javascript:call_link('abencds_f1_parameter_annotations.html')" class="blue"><span class="qtext400">environment.systemField</span></a>,
ABAP SQL can pass the values of the session variables specified here automatically too. It is generally preferable to use this type of local input parameter.</li>
</ul>
<ul class="disc">
<li>In existing CDS views without corresponding input parameters, session variables can be passed to the input parameters of CDS views or CDS table functions used there.</li>
</ul>
<ul class="disc">
<li>When the ABAP SQL statement <a href="javascript:call_link('abapselect.html')" class="blue"><span class="qtext">SELECT</span></a>
is used to access a CDS view that uses the session client <span class="qtext400">client</span>, the
addition <a href="javascript:call_link('abapselect_client.html')" class="blue"><span class="qtext">USING CLIENT</span></a> can
be used and is respected in the session variable for the duration of the ABAP SQL statement. The additions <a href="javascript:call_link('abapselect_client.html')" class="blue"><span class="qtext">USING <i
class=bn>[</i>ALL<i class=bn>]</i> CLIENTS <i class=bn>[</i>IN<i class=bn>]</i></span></a> plus the
obsolete addition <a href="javascript:call_link('abapselect_client_obsolete.html')" class="blue"> <span class="qtext">CLIENT SPECIFIED</span></a> cannot be used.</li>
</ul>
<ul class="disc">
<li>In the <a href="javascript:call_link('abencds_database_view_glosry.html')" class="grey" title="Glossary Entry">CDS database view</a> of a
<a href="javascript:call_link('abencds_view_glosry.html')" class="grey" title="Glossary Entry">CDS view</a> whose
<a href="javascript:call_link('abencds_client_handling.html')" class="blue">client handling</a> is set by the annotation <a href="javascript:call_link('abencds_client_handling.html')" class="blue">
<span class="qtext400">@ClientHandling.algorithm: #SESSION_VARIABLE</span></a>, the value of the session variable <span class="qtext400">client</span> is used in <span class="qtext400">WHERE</span> conditions for the
<a href="javascript:call_link('abenclient_column_glosry.html')" class="grey" title="Glossary Entry">client column</a>.</li>
</ul>
<ul class="disc">
<li>A CDS view that accesses a session variable directly or using a view cannot usually be
<a href="javascript:call_link('abencds_sap_puffer.html')" class="blue">buffered</a>. Only
<a href="javascript:call_link('abencds_client_handling.html')" class="blue">client-specific</a> views that access the session variable <span class="qtext400">client</span> directly can be buffered.</li>
</ul>
<p><span class="h4">
Example
</span></p>
<p>
The following CDS view contains the possible session variables in the <span class="qtext400">SELECT</span>
list. The program <span class="lnkgrey">DEMO_CDS_SESSION_VARIABLES</span> uses ABAP SQL to access the
view and fills the session variables with the associated values. Here, it is possible to define whether <a href="javascript:call_link('abapselect_client.html')" class="blue"><span class="qtext">USING CLIENT</span></a> is used or not.
</p>
<dl><dd>
<span class="qtext400">@AbapCatalog.sqlViewName: 'DEMO_CDS_SESSVAR' <br>@AccessControl.authorizationCheck: #NOT_ALLOWED <br>
define view demo_cds_session_variables <br>&nbsp;&nbsp;as select from <br>&nbsp;&nbsp;&nbsp;&nbsp;demo_expressions&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;{ <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;id, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$session.user
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;as system_user, <br>&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;$session.client&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;as system_client, <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$session.system_language as system_language, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$session.system_date&nbsp;&nbsp;&nbsp;&nbsp; as system_date <br>&nbsp;&nbsp;&nbsp;&nbsp;} </span>
</dd></dl>
<p><span class="h4">
Example
</span></p>
<p>
The following CDS view <span class="qtext400">DEMO_CDS_SELECT_T100</span> accesses a further CDS view
<span class="qtext400">DEMO_CDS_SELECT_T100_LANGU</span> with a language input parameter to which the
annotation <a href="javascript:call_link('abencds_f1_parameter_annotations.html')" class="blue"><span class="qtext400">environment.systemField</span></a>
with the value <span class="qtext400">system_language</span> is assigned. Unlike in ABAP SQL, there
is no implicit pass of the actual parameter to the input parameter here and the corresponding session
variable <span class="qtext400">$session.system_language</span> is passed instead. The program <span class="lnkgrey">
DEMO_CDS_T100</span> uses ABAP SQL to access both views and the result is identical. When <span class="qtext400">DEMO_CDS_SELECT_T100_LANGU</span>
is accessed, the value of the system field <span class="qtext">sy-langu</span> is passed implicitly
to the input parameter. When <span class="qtext400">DEMO_CDS_SELECT_T100</span> is accessed, the session variable <span class="qtext400">$session.system_language</span> is filled with this value.
</p>
<dl><dd>
<span class="qtext400">@AbapCatalog.sqlViewName: 'DEMO_CDS_T100' <br>@AccessControl.authorizationCheck: #NOT_REQUIRED <br>
define view demo_cds_select_t100 <br> as select from <br> demo_cds_select_t100_langu( p_langu: $session.system_language ) <br> { <br> * <br> }&nbsp;&nbsp;&nbsp;&nbsp;</span>
</dd></dl>
<dl><dd>
<span class="qtext400">@AbapCatalog.sqlViewName: 'DEMO_CDS_T100_LG' <br>@AccessControl.authorizationCheck: #NOT_REQUIRED <br>
define view demo_cds_select_t100_langu <br> with parameters <br> @Environment.systemField:#SYSTEM_LANGUAGE <br>
 p_langu : lang <br> as select from <br> t100 <br> { <br> * <br> } <br> where <br> sprsl = :p_langu <br> and arbgb = 'SABAPDEMOS'&nbsp;&nbsp;&nbsp;&nbsp;</span>
</dd></dl>
<br>
<br>
<br>
<br>
</DIV>
<fieldset style="opacity:0">
<input id="url" type="text" />
</fieldset>
</BODY>

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abencds_f1_session_variable.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:51:28 GMT -->
</html>

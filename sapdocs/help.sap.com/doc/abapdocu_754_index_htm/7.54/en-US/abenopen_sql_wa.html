<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="EN">
<!-- ABENOPEN_SQL_WA -->

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abenopen_sql_wa.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:52:52 GMT -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="author" content="SAP">
<meta name="description" content="ABAP SQL - Work Areas in Statements">
<title>
ABAP SQL - Work Areas in Statements - ABAP Keyword Documentation
</title>
<link rel="icon" href="ABAPIcon.ico" type="image/ico">
<link rel="shortcut icon" href="ABAPIcon.ico">
<LINK rel="stylesheet" href="abap_docu.css" type="text/css">
<script language="javascript" type="text/javascript" src="functions.js"></script>
<script type="text/JavaScript">
function urlToClipboard(id){
 try{ var loc = top.location.href;}
 catch(e){ alert( "URL cannnot be determined" ); return; }
 var field = document.getElementById(id);
 field.focus();
 if ( loc.search( ".htm" ) == -1 && loc.search( ".HTM" ) == -1  ){ loc = loc + "index.htm"; }
 if (   loc.search( "index.html" ) != -1
     || loc.search( "INDEX-2.html" ) != -1 ){
   var off = loc.search( "file=" );
   if ( off == -1  ){
     field.value = loc + "?file=abenopen_sql_wa.htm"; }
   else {
     field.value = loc.substring( 0, off ) + "file=abenopen_sql_wa.htm";
   }
 }
 else {
    field.value = loc; }
 field.setSelectionRange(0, field.value.length);
 var r = confirm( "Copy URL to clipboard?\n\n" + field.value + "\n\nCopy to clipboard does not work in all browsers." );
 if (r == true) {
   try{
     document.execCommand("copy");
   }
     catch(e){ alert( "URL could not be copied to clipboard" ); }
 }
 window.scrollTo(0,0);
}
</script>
</head>
<body>
<div class="all">
<div style="float:right;">
<input type="button" value="URL"
style="font-size:10px; width:30px; height:18px; padding:0; "
onclick="urlToClipboard('url')" title="Copy URL to Clipboard" ></div>
<p>
<input name="query" id="query" value="" type="text" title="Suchbegriff" size="30" maxlength="30" onkeyup="getInput()">&nbsp;
<input type="button" value="Search"
style="font-size:12px; width:50px; height:18px; padding:0"
onclick="call_search('search.html')" title="Search in ABAP Keyword Documentation" >
<hr style="width:100%;height:1px"></p>
<p class="copyright">AS ABAP Release 754, &copy;Copyright 2019 SAP SE. All rights reserved.</p>
<span class="path">
<a href="javascript:call_link('abenabap.html')" class="blue">ABAP Keyword Documentation</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_reference.html')" class="blue">ABAP &#x2212; Reference</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_language_external_data.html')" class="blue">Processing External Data</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_sql.html')" class="blue">ABAP Database Access</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenopensql.html')" class="blue">ABAP SQL</a>&nbsp;&rarr;&nbsp;
</span>
<p><span class="h1">
ABAP SQL - Work Areas in Statements
</span></p>
<p>
If the ABAP SQL statements
</p>
<ul class="disc">
<li><span class="qtext">SELECT</span> or <span class="qtext">FETCH</span> without the addition <span class="qtext">CORRESPONDING FIELDS</span>,</li>
</ul>
<ul class="disc">
<li><span class="qtext">INSERT</span>, <span class="qtext">UPDATE</span>, <span class="qtext">MODIFY</span>, or <span class="qtext">DELETE</span></li>
</ul>
<p>
Specify work areas <span class="qtext">wa</span> or internal tables <span class="qtext">itab</span>
as the target or source areas, the following prerequisites apply to the work area or row type of the internal table; if the prerequisites are ignored, a syntax error occurs or an exception is raised.
</p>
<ul class="disc">
<li><A HREF="#@@ITOC@@ABENOPEN_SQL_WA_1" class="blue">Regular Work Areas</A></li>
</ul>
<ul class="disc">
<li><A HREF="#@@ITOC@@ABENOPEN_SQL_WA_2" class="blue">LOB Handle Structures</A></li>
</ul>
<A name="@@ITOC@@ABENOPEN_SQL_WA_1"></A>
<p><span class="h2">
Regular Work Areas
</span></p>
<p>
The following rules apply to work areas  that do not contain reference variables for <a href="javascript:call_link('abenlob_handle_glosry.html')" class="grey" title="Glossary Entry">LOB Handles</a> :
</p>
<ul class="disc">
<li>The data type of the work area or row type of the internal table must not be
<a href="javascript:call_link('abendeep_glosry.html')" class="grey" title="Glossary Entry"> deep</a> or contain deep components. This excludes strings and special work areas for
<a href="javascript:call_link('abenopen_sql_streaming.html')" class="blue">streaming</a> and <a href="javascript:call_link('abenlocators.html')" class="blue">locators</a>.</li>
</ul>
<ul class="disc">
<li>The data type of the work area and the row type of the internal table must not contain any <a href="javascript:call_link('abenenumerated_type_glosry.html')" class="grey" title="Glossary Entry">enumerated types</a>.</li>
</ul>
<ul class="disc">
<li>The work area or row type of the internal table must be at least as long as the database structure and the
<a href="javascript:call_link('abenalignment_glosry.html')" class="grey" title="Glossary Entry">alignment</a> must match. In the statement <span class="qtext">DELETE</span>, this prerequisite must only be met in the length of the
<a href="javascript:call_link('abenprimary_key_glosry.html')" class="grey" title="Glossary Entry">primary key</a>.</li>
</ul>
<ul class="disc">
<li>If the work area or rows of the internal table are structured, the
<a href="javascript:call_link('abenunicode_fragment_view_glosry.html')" class="grey" title="Glossary Entry">fragment view</a> of the database structure must match that of the work area or the internal table.</li>
</ul>
<ul class="disc">
<li>If the work area or rows of the internal table are elementary, they must be character-like and
<a href="javascript:call_link('abenflat_glosry.html')" class="grey" title="Glossary Entry">flat</a>. The columns of the database structure must also be character-like and flat.</li>
</ul>
<ul class="disc">
<li>If the work area contains strings as components or is itself a string, or if columns of type
<a href="javascript:call_link('abenddic_builtin_types.html')" class="blue">SSTRING</a>,
<a href="javascript:call_link('abenddic_builtin_types.html')" class="blue">STRING</a>,
<a href="javascript:call_link('abenddic_builtin_types.html')" class="blue">RAWSTRING</a>, or GEOM_EWKB appear in the database structure, the work area must be compatible with the database structure.</li>
</ul>
<ul class="disc">
<li>If the column specification <span class="qtext">*</span> is used in the statement <span class="qtext">SELECT</span> to access a
<a href="javascript:call_link('abencds_entity_glosry.html')" class="grey" title="Glossary Entry">CDS entity</a>, the work area is always checked as if it contained a string as a component.</li>
</ul>
<ul class="disc">
<li>For the modifying operations <span class="qtext">INSERT</span>, <span class="qtext">UPDATE</span>,
and <span class="qtext">MODIFY</span>, the passed values must match the value range of the columns of the database tables. Otherwise, corresponding exceptions are raised. This applies in particular to the following:</li>
</ul>
<ul class="circlem2">
<li>Columns with numeric data types.</li>
</ul>
<ul class="circlem2">
<li>Columns of the types SSTRING, STRING, RAWSTRING, or GEOM_EWKB. The strings of the work area must
not be longer than the maximum length of the columns in the database structure. This length can be determined
using the built-in function <a href="javascript:call_link('abenlength_functions.html')" class="blue"><span class="qtext">dbmaxlen</span></a>.</li>
</ul>
<ul class="circlem2">
<li>Columns of the types DATN, TIMN, and UTCLONG. Only valid dates, times, and time stamps can be passed.</li>
</ul>
<p><span class="h4">
Note
</span></p>
<p>
The work area or row structure of the internal table should always be built like the database structure.
If a single data source is used in the ABAP SQL statement, a data object built in the same way can be
declared with reference to the relevant structure in ABAP Dictionary. If more than one data source is
used (in the statement <span class="qtext">SELECT</span>), a data object built in the same way can be
built as a nested structure, which contains, as substructures, the structures of the single data sources
in the order specified in the statement. No structure should be used in which all components are on one level, because this ignores potential
<a href="javascript:call_link('abenalignment_gap_glosry.html')" class="grey" title="Glossary Entry">alignment gaps</a> between the single data sources.
</p>
<A name="@@ITOC@@ABENOPEN_SQL_WA_2"></A>
<p><span class="h2">
LOB Handle Structures
</span></p>
<p>
If a work area is an <a href="javascript:call_link('abenlob_handle_structure_glosry.html')" class="grey" title="Glossary Entry">LOB handle structure</a>, that is, it contains at least one reference variable for
<a href="javascript:call_link('abenlob_handle_glosry.html')" class="grey" title="Glossary Entry">LOB handles</a>, it must be structured exactly like the structure of the data source and all components except for the
<a href="javascript:call_link('abenlob_handle_component_glosry.html')" class="grey" title="Glossary Entry">LOB handle components</a> must be
<a href="javascript:call_link('abencompatible_glosry.html')" class="grey" title="Glossary Entry">compatible</a> with the corresponding
components of the data source. The static type of each LOB handle component must contain the IF_ABAP_DB_LOB_HANDLE interface and match both the current statement and the data type of the assigned LOB.
</p>
<p><span class="h4">
Note
</span></p>
<p>
In the statement <span class="qtext">FETCH</span>, no LOB handle structures can currently be specified.
</p>
<br>
<br>
<br>
<br>
</DIV>
<fieldset style="opacity:0">
<input id="url" type="text" />
</fieldset>
</BODY>

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abenopen_sql_wa.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:52:52 GMT -->
</html>

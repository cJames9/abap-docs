<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="EN">
<!-- ABENHANA_SESSION_VARIABLES -->

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abenhana_session_variables.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:51:34 GMT -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="author" content="SAP">
<meta name="description" content="ABAP-Specific Session Variables in SAP HANA">
<meta name="keywords" content="ABAP, SAP HANA, Session Variables">
<title>
ABAP-Specific Session Variables in SAP HANA - ABAP Keyword Documentation
</title>
<link rel="icon" href="ABAPIcon.ico" type="image/ico">
<link rel="shortcut icon" href="ABAPIcon.ico">
<LINK rel="stylesheet" href="abap_docu.css" type="text/css">
<script language="javascript" type="text/javascript" src="functions.js"></script>
<script type="text/JavaScript">
function urlToClipboard(id){
 try{ var loc = top.location.href;}
 catch(e){ alert( "URL cannnot be determined" ); return; }
 var field = document.getElementById(id);
 field.focus();
 if ( loc.search( ".htm" ) == -1 && loc.search( ".HTM" ) == -1  ){ loc = loc + "index.htm"; }
 if (   loc.search( "index.html" ) != -1
     || loc.search( "INDEX-2.html" ) != -1 ){
   var off = loc.search( "file=" );
   if ( off == -1  ){
     field.value = loc + "?file=abenhana_session_variables.htm"; }
   else {
     field.value = loc.substring( 0, off ) + "file=abenhana_session_variables.htm";
   }
 }
 else {
    field.value = loc; }
 field.setSelectionRange(0, field.value.length);
 var r = confirm( "Copy URL to clipboard?\n\n" + field.value + "\n\nCopy to clipboard does not work in all browsers." );
 if (r == true) {
   try{
     document.execCommand("copy");
   }
     catch(e){ alert( "URL could not be copied to clipboard" ); }
 }
 window.scrollTo(0,0);
}
</script>
</head>
<body>
<div class="all">
<div style="float:right;">
<input type="button" value="URL"
style="font-size:10px; width:30px; height:18px; padding:0; "
onclick="urlToClipboard('url')" title="Copy URL to Clipboard" ></div>
<p>
<input name="query" id="query" value="" type="text" title="Suchbegriff" size="30" maxlength="30" onkeyup="getInput()">&nbsp;
<input type="button" value="Search"
style="font-size:12px; width:50px; height:18px; padding:0"
onclick="call_search('search.html')" title="Search in ABAP Keyword Documentation" >
<hr style="width:100%;height:1px"></p>
<p class="copyright">AS ABAP Release 754, &copy;Copyright 2019 SAP SE. All rights reserved.</p>
<span class="path">
<a href="javascript:call_link('abenabap.html')" class="blue">ABAP Keyword Documentation</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_reference.html')" class="blue">ABAP &#x2212; Reference</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_language_external_data.html')" class="blue">Processing External Data</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_sql.html')" class="blue">ABAP Database Access</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_hana.html')" class="blue">ABAP and SAP HANA</a>&nbsp;&rarr;&nbsp;
</span>
<A NAME="@@CLIENT@@!ABAP_HANA_SESSION_VAR!@@"></A>
<A NAME="@@CDS_CLIENT@@!ABAP_HANA_SESSION_VAR!@@"></A>
<A NAME="@@APPLICATIONUSER@@!ABAP_HANA_SESSION_VAR!@@"></A>
<A NAME="@@LOCALE_SAP @@!ABAP_HANA_SESSION_VAR!@@"></A>
<A NAME="@@SAP_SYSTEM_DATE@@!ABAP_HANA_SESSION_VAR!@@"></A>
<p><span class="h1">
ABAP-Specific Session Variables in SAP HANA
</span></p>
<p>
Session variables are global variables in the SAP HANA database. They can be read there with the built-in function <a
 href="https://help.sap.com/viewer/4fe29514fd584807ac9f2a04f6754767/2.0.03/en-US" target="blank" class="blue"><span class="qtext400">
SESSION_CONTEXT</span></a> and provided with a value by the statement <a href="https://help.sap.com/viewer/4fe29514fd584807ac9f2a04f6754767/2.0.03/en-US" target="blank" class="blue">
<span class="qtext400">SET 'VAR' = :value;</span></a> (SAP HANA Platform SPS12 and higher). Session variables contain global information about the current context and are hence similar to
<a href="javascript:call_link('abensystem_field_glosry.html')" class="grey" title="Glossary Entry">ABAP system fields</a>. In particular, their value should only be changed in exceptional application logic cases, for example, in
<a href="javascript:call_link('abensql_script_glosry.html')" class="grey" title="Glossary Entry">SQLScript</a>.
</p>
<p>
When a SAP HANA database is used as the <a href="javascript:call_link('abenstandard_db_glosry.html')" class="grey" title="Glossary Entry">
standard AS ABAP database</a>, the following session variables are filled with ABAP-specific values in ABAP reads:
</p>
<ul class="disc">
<li><span class="qtext400">CLIENT</span> contains the current
<a href="javascript:call_link('abenclient_glosry.html')" class="grey" title="Glossary Entry">client</a> in accordance with the
nominal value of the ABAP system field <a href="javascript:call_link('abensystem_fields.html')" class="blue"><span class="qtext">sy-mandt</span></a>.</li>
</ul>
<ul class="disc">
<li><span class="qtext400">CDS_CLIENT</span> like <span class="qtext400">CLIENT</span> but with the following differences:</li>
</ul>
<ul class="circlem2">
<li><span class="qtext400">CDS_CLIENT</span> is set to the specified value when the database is accessed
with an ABAP SQL statement with the addition <a href="javascript:call_link('abapselect_client.html')" class="blue"><span class="qtext">USING CLIENT</span></a>.</li>
</ul>
<ul class="circlem2">
<li>During an <a href="javascript:call_link('abenamdp_method_glosry.html')" class="grey" title="Glossary Entry">AMDP method</a>
call from ABAP, where the addition <a href="javascript:call_link('abapmethods_amdp_options.html')" class="blue"><span class="qtext">AMDP
OPTIONS CDS SESSION CLIENT</span></a> is specified in the declaration, <span class="qtext400">CDS_CLIENT</span> is set to the value specified there.</li>
</ul>
<ul class="disc">
<li><span class="qtext400">APPLICATIONUSER</span> contains the current
<a href="javascript:call_link('abenuser_name_glosry.html')" class="grey" title="Glossary Entry">client</a> in accordance with
the nominal value of the ABAP system field <a href="javascript:call_link('abensystem_fields.html')" class="blue"><span class="qtext">sy-uname</span></a>.</li>
</ul>
<ul class="disc">
<li><span class="qtext400">LOCALE_SAP</span> contains the
<a href="javascript:call_link('abentext_env_langu_glosry.html')" class="grey" title="Glossary Entry">text environment language</a> of the current
<a href="javascript:call_link('abeninternal_session_glosry.html')" class="grey" title="Glossary Entry">internal session</a> in
accordance with the nominal value of the ABAP system field <a href="javascript:call_link('abensystem_fields.html')" class="blue"><span class="qtext">sy-langu</span></a>.</li>
</ul>
<ul class="disc">
<li><span class="qtext400">SAP_SYSTEM_DATE</span> contains the current
<a href="javascript:call_link('abensystem_date_glosry.html')" class="grey" title="Glossary Entry">system date</a> of the AS ABAP
in accordance with the nominal value of ABAP system field <a href="javascript:call_link('abensystem_fields.html')" class="blue"><span class="qtext">sy-datum</span></a>.</li>
</ul>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>The ABAP-specific session variables can be read, for example, in
<a href="javascript:call_link('abenamdp_hdb_sqlscript.html')" class="blue">AMDP methods</a> and make the associated input parameters
superfluous. Such a method should only be called up from ABAP programs. Otherwise it cannot be guaranteed
that the variables will be provided with the correct values. However, write access to session variables with SQLScript statement <span class="qtext400">SET</span> is not permitted in AMDP methods.</li>
</ul>
<ul class="disc">
<li>In the CDS DDL of the <a href="javascript:call_link('abenabap_cds_glosry.html')" class="grey" title="Glossary Entry">ABAP
CDS</a>, the syntax <a href="javascript:call_link('abencds_f1_session_variable.html')" class="blue"><span class="qtext400">$session.vname</span></a> can be used in the definition of a
<a href="javascript:call_link('abencds_view_glosry.html')" class="grey" title="Glossary Entry">CDS view</a> to access the ABAP-specific
session variables. The name <span class="qtext400">vname</span> is then different from the name shown
here. The CDS session variable <span class="qtext400">client</span> accesses <span class="qtext400">CDS_CLIENT</span>, not <span class="qtext400">CLIENT</span>. When a CDS view is accessed using
<a href="javascript:call_link('abenopen_sql_glosry.html')" class="grey" title="Glossary Entry">ABAP SQL</a>, the session variables are available on all supported database platforms and not just on the SAP HANA database.</li>
</ul>
<ul class="disc">
<li>In ABAP reads, regardless of whether they are in ABAP SQL, Native SQL, or AMDP, the session variable <span class="qtext400">LOCALE_SAP</span> contains the current value of the
<a href="javascript:call_link('abentext_env_langu_glosry.html')" class="grey" title="Glossary Entry">text environment language</a>,
which can be set by the statement <a href="javascript:call_link('abapset_locale.html')" class="blue"><span class="qtext">SET LOCALE LANGUAGE</span></a>.</li>
</ul>
<p><span class="h4">
Example
</span></p>
<p>
Reads the session variable <span class="qtext400">APPLICATIONUSER</span> using <a href="javascript:call_link('abenadbc_glosry.html')" class="grey" title="Glossary Entry">ADBC</a>.
</p>
<p class="qtextml1">
<span class="qtext">
DATA(result) = NEW cl_sql_statement( )->execute_query( <br>&nbsp;&nbsp;&nbsp;&nbsp;`select SESSION_CONTEXT('APPLICATIONUSER') from DUMMY` ). <br>
 <br>DATA uname TYPE sy-uname. <br>result->set_param( REF #( uname ) ). <br>result->next( ). <br>cl_demo_output=>display( uname ).
</span>
</p>
<p><span class="h4">
Executable Example
</span></p>
<p>
The example <a href="javascript:call_link('abenhana_session_variables_abexa.html')" class="blue">SAP HANA, ABAP-Specific Session Variables</a> shows various ways of accessing the session variables specified here.
</p>
<br>
<br>
<br>
<br>
</DIV>
<fieldset style="opacity:0">
<input id="url" type="text" />
</fieldset>
</BODY>

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abenhana_session_variables.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:51:34 GMT -->
</html>

<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="EN">
<!-- ABENITAB_STANDARD_KEY -->

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abenitab_standard_key.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:52:25 GMT -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="author" content="SAP">
<meta name="description" content="Standard Key">
<meta name="keywords" content="ABAP, Standard Key">
<title>
Standard Key - ABAP Keyword Documentation
</title>
<link rel="icon" href="ABAPIcon.ico" type="image/ico">
<link rel="shortcut icon" href="ABAPIcon.ico">
<LINK rel="stylesheet" href="abap_docu.css" type="text/css">
<script language="javascript" type="text/javascript" src="functions.js"></script>
<script type="text/JavaScript">
function urlToClipboard(id){
 try{ var loc = top.location.href;}
 catch(e){ alert( "URL cannnot be determined" ); return; }
 var field = document.getElementById(id);
 field.focus();
 if ( loc.search( ".htm" ) == -1 && loc.search( ".HTM" ) == -1  ){ loc = loc + "index.htm"; }
 if (   loc.search( "index.html" ) != -1
     || loc.search( "INDEX-2.html" ) != -1 ){
   var off = loc.search( "file=" );
   if ( off == -1  ){
     field.value = loc + "?file=abenitab_standard_key.htm"; }
   else {
     field.value = loc.substring( 0, off ) + "file=abenitab_standard_key.htm";
   }
 }
 else {
    field.value = loc; }
 field.setSelectionRange(0, field.value.length);
 var r = confirm( "Copy URL to clipboard?\n\n" + field.value + "\n\nCopy to clipboard does not work in all browsers." );
 if (r == true) {
   try{
     document.execCommand("copy");
   }
     catch(e){ alert( "URL could not be copied to clipboard" ); }
 }
 window.scrollTo(0,0);
}
</script>
</head>
<body>
<div class="all">
<div style="float:right;">
<input type="button" value="URL"
style="font-size:10px; width:30px; height:18px; padding:0; "
onclick="urlToClipboard('url')" title="Copy URL to Clipboard" ></div>
<p>
<input name="query" id="query" value="" type="text" title="Suchbegriff" size="30" maxlength="30" onkeyup="getInput()">&nbsp;
<input type="button" value="Search"
style="font-size:12px; width:50px; height:18px; padding:0"
onclick="call_search('search.html')" title="Search in ABAP Keyword Documentation" >
<hr style="width:100%;height:1px"></p>
<p class="copyright">AS ABAP Release 754, &copy;Copyright 2019 SAP SE. All rights reserved.</p>
<span class="path">
<a href="javascript:call_link('abenabap.html')" class="blue">ABAP Keyword Documentation</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_reference.html')" class="blue">ABAP &#x2212; Reference</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_data_working.html')" class="blue">Processing Internal Data</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenitab.html')" class="blue">Internal Tables</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenitab_oview.html')" class="blue">Internal Tables - Overview</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenitab_key.html')" class="blue">Table Keys</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenitab_key_primary.html')" class="blue">Primary Table Keys</a>&nbsp;&rarr;&nbsp;
</span>
<p><span class="h1">
Standard Key
</span></p>
<p>
The standard key is a special <a href="javascript:call_link('abenprimary_table_key_glosry.html')" class="grey" title="Glossary Entry">primary table key</a> in an internal table.
</p>
<ul class="disc">
<li><A HREF="#@@ITOC@@ABENITAB_STANDARD_KEY_1" class="blue">Key Fields of the Standard Key</A></li>
</ul>
<ul class="disc">
<li><A HREF="#@@ITOC@@ABENITAB_STANDARD_KEY_2" class="blue">Declaration of the Standard Key</A></li>
</ul>
<ul class="disc">
<li><A HREF="#@@ITOC@@ABENITAB_STANDARD_KEY_3" class="blue">Notes on Use</A></li>
</ul>
<ul class="disc">
<li><A HREF="#@@ITOC@@ABENITAB_STANDARD_KEY_4" class="blue">Example</A></li>
</ul>
<A name="@@ITOC@@ABENITAB_STANDARD_KEY_1"></A>
<p><span class="h2">
Key Fields of the Standard Key
</span></p>
<p>
The key fields of the standard key are defined as follows:
</p>
<ul class="disc">
<li>In tables with a structured row type, the standard key is formed from all components with
<a href="javascript:call_link('abencharlike_data_type_glosry.html')" class="grey" title="Glossary Entry">character-like</a> and
<a href="javascript:call_link('abenbyte_like_data_typ_glosry.html')" class="grey" title="Glossary Entry">byte-like data types</a>,
with any substructures being expanded by elementary components. If the row type does not contain components like these, the standard key is
<a href="javascript:call_link('abenitab_empty_key.html')" class="blue">empty</a> for standard tables, meaning it does not contain any key fields.</li>
</ul>
<ul class="disc">
<li>The standard key for tables with non-structured row types is the entire table row, if the row type itself is not table-like. If the row type is table-like, the standard key is
<a href="javascript:call_link('abenitab_empty_key.html')" class="blue">empty</a> for standard tables.</li>
</ul>
<p>
Empty standard keys are not possible for sorted tables and hashed tables, and an error occurs if an attempt is made to create a key like this.
</p>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>In tables with non-structured row types, the standard key can also have a numeric type or reference type; this does not apply for the key fields if the row types are structured.</li>
</ul>
<ul class="disc">
<li>The <a href="javascript:call_link('abenstatic_box_glosry.html')" class="grey" title="Glossary Entry">static boxes</a> of a structured row type are handled like regular components, with respect to the standard key.</li>
</ul>
<A name="@@ITOC@@ABENITAB_STANDARD_KEY_2"></A>
<p><span class="h2">
Declaration of the Standard Key
</span></p>
<p>
The standard key can be declared as follows:
</p>
<ul class="disc">
<li>Explicitly using the additions <a href="javascript:call_link('abaptypes_primary_key.html')" class="blue"><span class="qtext">UNIQUE<i
class=bn>|</i>NON-UNIQUE KEY</span></a> of the statements <a href="javascript:call_link('abaptypes_primary_key.html')" class="blue"><span class="qtext">
TYPES</span></a>, <a href="javascript:call_link('abapdata_primary_key.html')" class="blue"><span class="qtext">DATA</span></a>
and so on, with the addition <span class="qtext">DEFAULT KEY</span> being specified rather than a list of components.</li>
</ul>
<ul class="disc">
<li>Implicitly if no explicit primary key specification is made in the declaration of a standard table with the statement <a href="javascript:call_link('abapdata_primary_key.html')" class="blue"><span class="qtext">DATA</span></a>.</li>
</ul>
<ul class="disc">
<li>Implicitly, if a standard table type with a <a href="javascript:call_link('abaptypes_keydef.html')" class="blue">generic
primary table key</a> is specified behind <span class="qtext">TYPE</span> in the statement <a href="javascript:call_link('abapdata_referring.html')" class="blue"><span class="qtext">DATA</span></a>.</li>
</ul>
<A name="@@ITOC@@ABENITAB_STANDARD_KEY_3"></A>
<p><span class="h2">
Notes on Use
</span></p>
<p>
Using standard keys is critical for various reasons:
</p>
<ul class="disc">
<li>It is not usually enough to identify the key fields just by their data type and not their semantic properties. This often leads to unexpected behavior in sorts and other access types.</li>
</ul>
<ul class="disc">
<li>The potential for <a href="javascript:call_link('abenitab_empty_key.html')" class="blue">empty</a> standard keys in standard tables often causes unexpected behavior too. For example, using keys like this for
<a href="javascript:call_link('abapsort_itab.html')" class="blue">sorting</a> is useless, whereas a corresponding <a href="javascript:call_link('abapread_table.html')" class="blue">read</a> finds the first row.</li>
</ul>
<ul class="disc">
<li>The standard key often contains too many key fields, leading to performance problems in key accesses.</li>
</ul>
<ul class="disc">
<li>If using the standard key and a structured row type, all character-like and byte-like fields of sorted tables and hashed tables are read-only, which can cause unexpected runtime errors.</li>
</ul>
<p>
For this reason, declare the primary key by listing the components explicitly, if possible. In particular,
the primary key must not be set as the standard key by mistake, the key must not be forgotten in declarations
of standard tables using <span class="qtext">DATA</span>, and that the generic table type must not be used unknowingly.
</p>
<A name="@@ITOC@@ABENITAB_STANDARD_KEY_4"></A>
<p><span class="h2">
Example
</span></p>
<p><span class="h4">
Example
</span></p>
<p>
Internal table with standard key. In the structure <span class="lnkgrey">SCARR</span>, all five components meet the requirements for the standard key and are used as key fields. In a key access using a
<a href="javascript:call_link('abentable_expression_glosry.html')" class="grey" title="Glossary Entry">table expression</a>, the syntax check requires that each key field of the primary table key is specified.
</p>
<p class="qtextml1">
<span class="qtext">
DATA scarr_tab <br>&nbsp;&nbsp;TYPE HASHED TABLE OF scarr <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; WITH UNIQUE DEFAULT KEY. <br>
 <br>... <br> <br>DATA(scarr_line) = <br>&nbsp;&nbsp;VALUE #( scarr_tab[ KEY primary_key <br>&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mandt&nbsp;&nbsp;&nbsp;&nbsp;= sy-mandt <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;carrid&nbsp;&nbsp; = '...' <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;carrname = '...' <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;currcode = '...' <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;url&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= '...' ] OPTIONAL ).
</span>
</p>
<br>
<br>
<br>
<br>
</DIV>
<fieldset style="opacity:0">
<input id="url" type="text" />
</fieldset>
</BODY>

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abenitab_standard_key.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:52:25 GMT -->
</html>

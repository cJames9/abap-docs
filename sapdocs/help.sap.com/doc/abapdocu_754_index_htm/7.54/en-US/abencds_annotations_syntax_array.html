<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="EN">
<!-- ABENCDS_ANNOTATIONS_SYNTAX_ARRAY -->

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abencds_annotations_syntax_array.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:52:41 GMT -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="author" content="SAP">
<meta name="description" content="ABAP CDS - Annotation Syntax, arrelem">
<title>
ABAP CDS - Annotation Syntax, arrelem - ABAP Keyword Documentation
</title>
<link rel="icon" href="ABAPIcon.ico" type="image/ico">
<link rel="shortcut icon" href="ABAPIcon.ico">
<LINK rel="stylesheet" href="abap_docu.css" type="text/css">
<script language="javascript" type="text/javascript" src="functions.js"></script>
<script type="text/JavaScript">
function urlToClipboard(id){
 try{ var loc = top.location.href;}
 catch(e){ alert( "URL cannnot be determined" ); return; }
 var field = document.getElementById(id);
 field.focus();
 if ( loc.search( ".htm" ) == -1 && loc.search( ".HTM" ) == -1  ){ loc = loc + "index.htm"; }
 if (   loc.search( "index.html" ) != -1
     || loc.search( "INDEX-2.html" ) != -1 ){
   var off = loc.search( "file=" );
   if ( off == -1  ){
     field.value = loc + "?file=abencds_annotations_syntax_array.htm"; }
   else {
     field.value = loc.substring( 0, off ) + "file=abencds_annotations_syntax_array.htm";
   }
 }
 else {
    field.value = loc; }
 field.setSelectionRange(0, field.value.length);
 var r = confirm( "Copy URL to clipboard?\n\n" + field.value + "\n\nCopy to clipboard does not work in all browsers." );
 if (r == true) {
   try{
     document.execCommand("copy");
   }
     catch(e){ alert( "URL could not be copied to clipboard" ); }
 }
 window.scrollTo(0,0);
}
</script>
</head>
<body>
<div class="all">
<div style="float:right;">
<input type="button" value="URL"
style="font-size:10px; width:30px; height:18px; padding:0; "
onclick="urlToClipboard('url')" title="Copy URL to Clipboard" ></div>
<p>
<input name="query" id="query" value="" type="text" title="Suchbegriff" size="30" maxlength="30" onkeyup="getInput()">&nbsp;
<input type="button" value="Search"
style="font-size:12px; width:50px; height:18px; padding:0"
onclick="call_search('search.html')" title="Search in ABAP Keyword Documentation" >
<hr style="width:100%;height:1px"></p>
<p class="copyright">AS ABAP Release 754, &copy;Copyright 2019 SAP SE. All rights reserved.</p>
<span class="path">
<a href="javascript:call_link('abenabap.html')" class="blue">ABAP Keyword Documentation</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_dictionary.html')" class="blue">ABAP - Dictionary</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abencds.html')" class="blue">ABAP CDS in ABAP Dictionary</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abencds_annotations.html')" class="blue">ABAP CDS - Annotations</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abencds_anno_usage.html')" class="blue">ABAP CDS - Specifying Annotations</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abencds_annotations_syntax.html')" class="blue">ABAP CDS - Annotation Syntax</a>&nbsp;&rarr;&nbsp;
</span>
<p><span class="h1">
ABAP CDS - Annotation Syntax, arrelem
</span></p>
<p><span class="h2">
<span class="bold">Syntax</span>
</span></p>
<P>

</P>
<p>
<span class="qtext400">...&nbsp;&nbsp;<a href="javascript:call_link('abencds_annotations_syntax_value.html')" class="blue">value1</a><i class=bn>|</i>
{<a href="javascript:call_link('abencds_annotations_syntax_subanno.html')" class="blue">subannos1</a>}, <br>&nbsp;&nbsp;&nbsp;&nbsp; <a href="javascript:call_link('abencds_annotations_syntax_value.html')" class="blue">value2</a><i class=bn>|</i>
{<a href="javascript:call_link('abencds_annotations_syntax_subanno.html')" class="blue">subannos2</a>}, <br>&nbsp;&nbsp;&nbsp;&nbsp; ...</span>
</p>
<p><span class="h4">
Effect
</span></p>
<p>
Comma-separated list of array elements in the square brackets of an
<a href="javascript:call_link('abencds_annotations_syntax.html')" class="blue">annotation</a>. This makes the annotation specified in front of the colon into an
<a href="javascript:call_link('abenannotation_array_glosry.html')" class="grey" title="Glossary Entry">annotation array</a> with the elements specified in the brackets. The possible elements of an array are:
</p>
<ul class="disc">
<li><a href="javascript:call_link('abenannotation_value_glosry.html')" class="grey" title="Glossary Entry">Annotation values</a>
<a href="javascript:call_link('abencds_annotations_syntax_value.html')" class="blue"><span class="qtext400">value1</span></a>,
<a href="javascript:call_link('abencds_annotations_syntax_value.html')" class="blue"><span class="qtext400">value2</span></a>, ...</li>
</ul>
<ul class="disc">
<li><a href="javascript:call_link('abensub_annotation_glosry.html')" class="grey" title="Glossary Entry">Subannotations</a> <a href="javascript:call_link('abencds_annotations_syntax_subanno.html')" class="blue">
<span class="qtext400">subannos1</span></a>, <a href="javascript:call_link('abencds_annotations_syntax_subanno.html')" class="blue"><span class="qtext400">subannos2</span></a>, ... in curly brackets.</li>
</ul>
<p>
Arrays are not intended to be nested directly and one element in an array represents an annotation to
which the same rules apply as to single annotations. The difference is that an array element does not
have an explicit name. In the internal repository of the metadata defined by an annotation, however,
an array element is identified uniquely using an index appended to the name of the array. This makes it possible to find the array element when it is <a href="javascript:call_link('abencds_annotations_analysis.html')" class="blue">evaluated</a>.
</p>
<p>
Array elements should only be specified for annotations for which this is
<a href="javascript:call_link('abencds_f1_define_annotation_arr.html')" class="blue">noted</a> in the associated <a href="javascript:call_link('abencds_anno_definition_glosry.html')" class="grey" title="Glossary Entry">annotation definition</a>.
</p>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>Annotation arrays with elements of different types and categories can be specified in the syntax of the
<a href="javascript:call_link('abencds_f1_ddl_syntax.html')" class="blue">DDL for data definitions</a>. Arrays of this type are not supported in
<a href="javascript:call_link('abencds_anno_definition_glosry.html')" class="grey" title="Glossary Entry">annotation definitions</a>.
Square brackets for annotation arrays can be nested directly in data definitions. The nesting of arrays
is also not supported in annotation definitions. The internal metadata repository counts the nested arrays when indexing the elements, but otherwise they are ignored. They are not returned by
<a href="javascript:call_link('abencds_annotations_analysis.html')" class="blue">evaluations</a> of the annotations based on this metadata.</li>
</ul>
<ul class="disc">
<li>Only annotations indicated as annotation arrays by the square brackets are indexed internally and can be found as array elements in
<a href="javascript:call_link('abencds_annotations_analysis.html')" class="blue">evaluations</a>. If an annotation <span class="qtext400">@Annot</span> is defined as an annotation array in its
<a href="javascript:call_link('abencds_anno_definition_glosry.html')" class="grey" title="Glossary Entry">annotation definition</a>
but specified as <span class="qtext400">@Annot: value</span> instead of <span class="qtext400">@annot: [value]</span> in CDS source code, it is not handled as an annotation array.</li>
</ul>
<p><span class="h4">
Example
</span></p>
<p>
The following <a href="javascript:call_link('abencds_anno_definition_glosry.html')" class="grey" title="Glossary Entry">annotation definition</a> is applied.
</p>
<dl><dd>
<span class="qtext400">@Scope:[#VIEW, #EXTEND_VIEW]&nbsp;&nbsp;<br>define annotation&nbsp;&nbsp;<br>&nbsp;&nbsp;DemoAnnoStringArray: array of String(1); </span>
</dd></dl>
<p>
The annotation can then, for example, be specified as follows:
</p>
<dl><dd>
<span class="qtext400">@DemoAnnoStringArray:[ 'a', 'b', 'c' ]</span>
</dd></dl>
<p>
The annotation array has three elements, each of which is assigned a suitable annotation value. Evaluating
the annotation using the method GET_DIRECT_ANNOS_4_ENTITY of the class <span class="lnkgrey">CL_DD_DDL_ANNOTATION_SERVICE</span> produces the following
</p>
<table border>
<tr>
<td><span class="bold">ANNONAME</span></td>
<td><span class="bold">VALUE</span></td>
</tr>
<tr>
<td><span class="qtext400">DEMOANNOSTRINGARRAY$1$</span></td>
<td><span class="qtext400">'a'</span></td>
</tr>
<tr>
<td><span class="qtext400">DEMOANNOSTRINGARRAY$2$</span></td>
<td><span class="qtext400">'b'</span></td>
</tr>
<tr>
<td><span class="qtext400">DEMOANNOSTRINGARRAY$3$</span></td>
<td><span class="qtext400">'c'</span></td>
</tr>
</table><br>
<p>
The elements are indicated using the indexes <span class="qtext400">$1$</span>, <span class="qtext400">$2$</span>, and <span class="qtext400">$3$</span>.
</p>
<p><span class="h4">
Example
</span></p>
<p>
The following <a href="javascript:call_link('abencds_anno_definition_glosry.html')" class="grey" title="Glossary Entry">annotation definition</a> is applied. This is the definition of a structured annotation array.
</p>
<dl><dd>
<span class="qtext400">@Scope:[#VIEW, #EXTEND_VIEW] <br>define annotation&nbsp;&nbsp;<br>&nbsp;&nbsp;DemoAnnoArray: array of { subAnno1: Integer;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;subAnno2: Integer;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;subAnno3: Integer; }</span>
</dd></dl>
<p>
The annotation can then, for example, be specified with four structured array elements as follows:
</p>
<dl><dd>
<span class="qtext400">@DemoAnnoArray:[ {subAnno1:11, subAnno2:12, subAnno3:13}, <br>&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {subAnno1:21, subAnno2:22, subAnno3:23}, <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {subAnno1:31, subAnno2:32, subAnno3:33}, <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {subAnno1:41, subAnno2:42, subAnno3:43} ]</span>
</dd></dl>
<p><span class="h4">
Executable Example
</span></p>
<p>
<a href="javascript:call_link('abencds_annotation_array_abexa.html')" class="blue">ABAP CDS, Annotation Array</a>
</p>
<p>

</p>
<br>
<br>
<br>
<br>
</DIV>
<fieldset style="opacity:0">
<input id="url" type="text" />
</fieldset>
</BODY>

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abencds_annotations_syntax_array.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:52:41 GMT -->
</html>

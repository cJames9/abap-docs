<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="EN">
<!-- ABENUSE_CONVERSION_RULES_GUIDL -->

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abenuse_conversion_rules_guidl.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:53:06 GMT -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="author" content="SAP">
<meta name="description" content="Using Conversion Rules">
<title>
Using Conversion Rules - ABAP Keyword Documentation
</title>
<link rel="icon" href="ABAPIcon.ico" type="image/ico">
<link rel="shortcut icon" href="ABAPIcon.ico">
<LINK rel="stylesheet" href="abap_docu.css" type="text/css">
<script language="javascript" type="text/javascript" src="functions.js"></script>
<script type="text/JavaScript">
function urlToClipboard(id){
 try{ var loc = top.location.href;}
 catch(e){ alert( "URL cannnot be determined" ); return; }
 var field = document.getElementById(id);
 field.focus();
 if ( loc.search( ".htm" ) == -1 && loc.search( ".HTM" ) == -1  ){ loc = loc + "index.htm"; }
 if (   loc.search( "index.html" ) != -1
     || loc.search( "INDEX-2.html" ) != -1 ){
   var off = loc.search( "file=" );
   if ( off == -1  ){
     field.value = loc + "?file=abenuse_conversion_rules_guidl.htm"; }
   else {
     field.value = loc.substring( 0, off ) + "file=abenuse_conversion_rules_guidl.htm";
   }
 }
 else {
    field.value = loc; }
 field.setSelectionRange(0, field.value.length);
 var r = confirm( "Copy URL to clipboard?\n\n" + field.value + "\n\nCopy to clipboard does not work in all browsers." );
 if (r == true) {
   try{
     document.execCommand("copy");
   }
     catch(e){ alert( "URL could not be copied to clipboard" ); }
 }
 window.scrollTo(0,0);
}
</script>
</head>
<body>
<div class="all">
<div style="float:right;">
<input type="button" value="URL"
style="font-size:10px; width:30px; height:18px; padding:0; "
onclick="urlToClipboard('url')" title="Copy URL to Clipboard" ></div>
<p>
<input name="query" id="query" value="" type="text" title="Suchbegriff" size="30" maxlength="30" onkeyup="getInput()">&nbsp;
<input type="button" value="Search"
style="font-size:12px; width:50px; height:18px; padding:0"
onclick="call_search('search.html')" title="Search in ABAP Keyword Documentation" >
<hr style="width:100%;height:1px"></p>
<p class="copyright">AS ABAP Release 754, &copy;Copyright 2019 SAP SE. All rights reserved.</p>
<span class="path">
<a href="javascript:call_link('abenabap.html')" class="blue">ABAP Keyword Documentation</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_pgl.html')" class="blue">ABAP Programming Guidelines</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenrobust_abap_guidl.html')" class="blue">Robust ABAP</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenassignment_access_guidl.html')" class="blue">Assignments, Calculations, and Other Types of Data Access</a>&nbsp;&rarr;&nbsp;
</span>
<p><span class="h1">
Using Conversion Rules
</span></p>
<A name="@@ITOC@@ABENUSE_CONVERSION_RULES_GUIDL_1"></A>
<p><span class="h2">
Background
</span></p>
<p>
ABAP contains numerous conversion rules for assignments between data objects of different data types. These rules relate to assignments between:
</p>
<ul class="disc">
<li><a href="javascript:call_link('abenconversion_elementary.html')" class="blue">Elementary data objects</a></li>
</ul>
<ul class="disc">
<li><a href="javascript:call_link('abenconversion_flat-elementary.html')" class="blue">Elementary data objects and structures</a></li>
</ul>
<ul class="disc">
<li><a href="javascript:call_link('abenconversion_struc.html')" class="blue">Structures</a></li>
</ul>
<ul class="disc">
<li><a href="javascript:call_link('abenconversion_itab.html')" class="blue">Internal tables</a></li>
</ul>
<ul class="disc">
<li><a href="javascript:call_link('abenconversion_references.html')" class="blue">Reference variables</a></li>
</ul>
<p>
Assignments between data objects of nearly every different data type are possible. The only prohibited
assignments are for data types for data and time specifications. Almost all permitted assignments have
a corresponding conversion rule. It is especially important to have rules for assignments between data objects of the same data type, if different technical attributes (such as length or number of decimal places) are allowed.
<a href="javascript:call_link('abenlossless_assignment_glosry.html')" class="grey" title="Glossary Entry">Lossless assignments</a> permit only conversions that produce valid values and where no values are lost.
</p>
<A name="@@ITOC@@ABENUSE_CONVERSION_RULES_GUIDL_2"></A>
<p><span class="h2">
Rule
</span></p>
<p>
<span class="bold">Avoid unexpected conversion results</span>
</p>
<p>
Only assign data objects to each other if the content corresponds to the data type of the target field and produces an expected result. Do not exploit every ABAP conversion rule to its full extent. Consider using
<a href="javascript:call_link('abenlossless_assignment_glosry.html')" class="grey" title="Glossary Entry">lossless assignments</a>.
</p>
<A name="@@ITOC@@ABENUSE_CONVERSION_RULES_GUIDL_3"></A>
<p><span class="h2">
Details
</span></p>
<p>
The ABAP conversion rules are based on the philosophy that assignments should be allowed between as
many combinations of values as possible, without raising exceptions. In this situation, ABAP behaves
quite differently from other programming languages. In other languages, assignments between different
data types are usually handled much more strictly and special conversion routines or explicit casting for specific requested conversions are used.
</p>
<p>
Although it is convenient to be able to readily assign all possible data objects to each other, there are also disadvantages, such as the
<a href="javascript:call_link('abenavoiding_invalid_values_guidl.html')" class="lnkpurple" title="Guideline">creation of invalid values</a>. Another example is
<a href="javascript:call_link('abencasting_guidl.html')" class="lnkpurple" title="Guideline">implicit casting</a>, which occurs when assignments are made between elementary data objects and structures, or between incompatible structures.
</p>
<p>
Even if no invalid values are created, problems still can occur. If valid target values are created
from invalid source values, this does not necessarily meet the expectations of the reader and it can
make program maintenance considerably difficult. One example of this is the handling of invalid content
in the source field in assignments from a character-like type to a byte-like type. Instead of exiting the assignment with an exception, hexadecimal zeros are passed from the first invalid character.
</p>
<p>
The only solution here are <a href="javascript:call_link('abenlossless_assignment_glosry.html')" class="grey" title="Glossary Entry">
lossless assignments</a> with the operator <a href="javascript:call_link('abenconstructor_expression_exact.html')" class="blue"><span class="qtext">
EXACT</span></a>, which produce an exception in these cases. Even though this is a bit late in the day,
the behavior of an assignment with the operator <span class="qtext">EXACT</span> could be regarded as
the normal, expected behavior. Other unexpected behaviors represent an implementation of special rules, which is actually the standard behavior in ABAP.
</p>
<p><span class="h4">
Bad Example
</span></p>
<p>
Anyone who is familiar with all the details of the ABAP conversion rules would probably expect an exception
when the text in the following source code is assigned to the numeric text. However, only the digits
of the text are respected. Therefore, the target field is given the value "00000042" instead of the value "00000007", which might also be expected.
</p>
<dl><dd>
<span class="qtext">DATA text TYPE string, <br>num_text TYPE n LENGTH 8. <br>... <br>text = '4 Apples + 2 Oranges'. <br>... <br>num_text = text.</span>
</dd></dl>
<p><span class="h4">
Good Example
</span></p>
<p>
This issue is corrected in the source code below. The <a href="javascript:call_link('abenconstructor_expression_exact.html')" class="blue"><span class="qtext">EXACT</span></a> operator is used, which triggers an exception.
</p>
<dl><dd>
<span class="qtext">... <br>text = '4 Apples + 2 Oranges'. <br>... <br>TRY. <br>&nbsp;&nbsp;&nbsp;&nbsp;num_text = EXACT #( text ). <br>
&nbsp;&nbsp;CATCH cx_sy_conversion_error. <br>&nbsp;&nbsp;&nbsp;&nbsp; ... <br>ENDTRY.</span>
</dd></dl>
<br>
<br>
<br>
<br>
</DIV>
<fieldset style="opacity:0">
<input id="url" type="text" />
</fieldset>
</BODY>

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abenuse_conversion_rules_guidl.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:53:06 GMT -->
</html>

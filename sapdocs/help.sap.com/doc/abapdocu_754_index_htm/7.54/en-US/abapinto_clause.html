<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="EN">
<!-- ABAPINTO_CLAUSE -->

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abapinto_clause.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:51:29 GMT -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="author" content="SAP">
<meta name="description" content="SELECT - INTO, APPENDING">
<title>
SELECT - INTO, APPENDING - ABAP Keyword Documentation
</title>
<link rel="icon" href="ABAPIcon.ico" type="image/ico">
<link rel="shortcut icon" href="ABAPIcon.ico">
<LINK rel="stylesheet" href="abap_docu.css" type="text/css">
<script language="javascript" type="text/javascript" src="functions.js"></script>
<script type="text/JavaScript">
function urlToClipboard(id){
 try{ var loc = top.location.href;}
 catch(e){ alert( "URL cannnot be determined" ); return; }
 var field = document.getElementById(id);
 field.focus();
 if ( loc.search( ".htm" ) == -1 && loc.search( ".HTM" ) == -1  ){ loc = loc + "index.htm"; }
 if (   loc.search( "index.html" ) != -1
     || loc.search( "INDEX-2.html" ) != -1 ){
   var off = loc.search( "file=" );
   if ( off == -1  ){
     field.value = loc + "?file=abapinto_clause.htm"; }
   else {
     field.value = loc.substring( 0, off ) + "file=abapinto_clause.htm";
   }
 }
 else {
    field.value = loc; }
 field.setSelectionRange(0, field.value.length);
 var r = confirm( "Copy URL to clipboard?\n\n" + field.value + "\n\nCopy to clipboard does not work in all browsers." );
 if (r == true) {
   try{
     document.execCommand("copy");
   }
     catch(e){ alert( "URL could not be copied to clipboard" ); }
 }
 window.scrollTo(0,0);
}
</script>
</head>
<body>
<div class="all">
<div style="float:right;">
<input type="button" value="URL"
style="font-size:10px; width:30px; height:18px; padding:0; "
onclick="urlToClipboard('url')" title="Copy URL to Clipboard" ></div>
<p>
<input name="query" id="query" value="" type="text" title="Suchbegriff" size="30" maxlength="30" onkeyup="getInput()">&nbsp;
<input type="button" value="Search"
style="font-size:12px; width:50px; height:18px; padding:0"
onclick="call_search('search.html')" title="Search in ABAP Keyword Documentation" >
<hr style="width:100%;height:1px"></p>
<p class="copyright">AS ABAP Release 754, &copy;Copyright 2019 SAP SE. All rights reserved.</p>
<span class="path">
<a href="javascript:call_link('abenabap.html')" class="blue">ABAP Keyword Documentation</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_reference.html')" class="blue">ABAP &#x2212; Reference</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_language_external_data.html')" class="blue">Processing External Data</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_sql.html')" class="blue">ABAP Database Access</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenopensql.html')" class="blue">ABAP SQL</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenopen_sql_reading.html')" class="blue">ABAP SQL - Reads</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenselect_clauses.html')" class="blue">SELECT clauses</a>&nbsp;&rarr;&nbsp;
</span>
<A NAME="@@( )@@SELECT INTO@@"></A>
<A NAME="@@,@@SELECT INTO@@"></A>
<A NAME="@@INTO@@SELECT@@"></A>
<A NAME="@@CORRESPONDING FIELDS OF@@SELECT INTO@@"></A>
<A NAME="@@APPENDING@@SELECT@@"></A>
<A NAME="@@TABLE@@SELECT INTO@@"></A>
<A NAME="@@CORRESPONDING FIELDS OF TABLE@@SELECT INTO@@"></A>
<p><span class="h1">
SELECT - INTO, APPENDING <br><br>
</span></p>
<P>
<a href="javascript:call_link('abapselect_shortref.html')" class="blue">Quick Reference</a> <br><br>
</P>
<p><span class="h2">
<span class="bold">Syntax</span>
</span></p>
<P>
<span class="qtext">... <i class=bn>{</i> INTO <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(
<a href="javascript:call_link('abapselect_into_target.html')" class="blue">elem1</a>, <a href="javascript:call_link('abapselect_into_target.html')" class="blue">elem2</a>,&nbsp;&nbsp;...) <i class=bn>}</i> <br>
&nbsp;&nbsp;<i class=bn>|</i> <i class=bn>{</i> INTO <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<i class=bn>[</i>CORRESPONDING FIELDS OF<i class=bn>]</i>
<a href="javascript:call_link('abapselect_into_target.html')" class="blue">wa</a> <i class=bn>[</i><a href="javascript:call_link('abapselect_indicators.html')" class="blue">indicators</a><i class=bn>]</i> <i class=bn>}</i> <br>
&nbsp;&nbsp;<i class=bn>|</i> <i class=bn>{</i> INTO<i class=bn>|</i>APPENDING <br>&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<i class=bn>[</i>CORRESPONDING FIELDS OF<i class=bn>]</i> TABLE
<a href="javascript:call_link('abapselect_into_target.html')" class="blue">itab</a> <i class=bn>[</i><a href="javascript:call_link('abapselect_indicators.html')" class="blue">indicators</a><i class=bn>]</i> <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <i class=bn>[</i>PACKAGE SIZE n<i class=bn>]</i> <i class=bn>}</i> <br>
&nbsp;&nbsp;&nbsp;&nbsp;<i class=bn>[</i> <a href="javascript:call_link('abapselect_extended_result.html')" class="blue">extended_result</a> <i class=bn>]</i> <br>
&nbsp;&nbsp;&nbsp;&nbsp;<i class=bn>[</i> <a href="javascript:call_link('abapselect_creating.html')" class="blue">creating</a> <i class=bn>]</i> ...&nbsp;&nbsp;.</span> <br><br>
</P>
<p><span class="h2">
Alternatives:
</span></p>
<P>
   <A HREF="#!ABAP_ALTERNATIVE_1@1@" class="blue"> 1. <span class="qtext">... INTO (elem1, elem2 ...)</span> </A> <br>
<br><A HREF="#!ABAP_ALTERNATIVE_2@2@" class="blue"> 2. <span class="qtext">... INTO <i class=bn>[</i>CORRESPONDING FIELDS OF<i class=bn>]</i> wa ...</span> </A> <br>
<br><A HREF="#!ABAP_ALTERNATIVE_3@3@" class="blue"> 3. <span class="qtext">... INTO<i class=bn>|</i>APPENDING <i class=bn>[</i>CORRESPONDING FIELDS OF<i class=bn>]</i> TABLE itab ...</span> </A> <br><br>
</P>
<p><span class="h4">
Effect
</span></p>
<P>
The additions <span class="qtext">INTO</span> or <span class="qtext">APPENDING</span> construct the
<span class="qtext">INTO</span> clause of a <a href="javascript:call_link('abapselect.html')" class="blue"><span class="qtext">SELECT</span></a>,
<a href="javascript:call_link('abapwith.html')" class="blue"><span class="qtext">WITH</span></a>, or <a href="javascript:call_link('abapfetch.html')" class="blue">
<span class="qtext">FETCH</span></a> statement. They define which ABAP data objects are assigned the data of the results set of a query and how this assignment is made. The following options are available:
</P>
<ul class="disc">
<li>
An assignment to a parenthesized comma-separated list of individual elementary data objects <a href="javascript:call_link('abapselect_into_target.html')" class="blue">
<span class="qtext">elem1</span></a>, <a href="javascript:call_link('abapselect_into_target.html')" class="blue"><span class="qtext">elem2</span></a>, .... specified after <span class="qtext">INTO</span>.
<br><br></li>
<li>
An assignment to a single work area <a href="javascript:call_link('abapselect_into_target.html')" class="blue"><span class="qtext">wa</span></a> specified after <span class="qtext">INTO</span>.
<br><br></li>
<li>
An assignment to an internal table <a href="javascript:call_link('abapselect_into_target.html')" class="blue"><span class="qtext">itab</span></a> specified after <span class="qtext">INTO</span> or <span class="qtext">APPENDING</span>.
<br></li>
</ul>
<P>
The data objects <a href="javascript:call_link('abapselect_into_target.html')" class="blue"><span class="qtext">elem1</span></a>,
<a href="javascript:call_link('abapselect_into_target.html')" class="blue"><span class="qtext">elem2</span></a>, ...., <a href="javascript:call_link('abapselect_into_target.html')" class="blue">
<span class="qtext">wa</span></a>, and <a href="javascript:call_link('abapselect_into_target.html')" class="blue"><span class="qtext">itab</span></a> can be specified as existing
<a href="javascript:call_link('abenopen_sql_host_variables.html')" class="blue">host variables</a> or declared inline using <a href="javascript:call_link('abapselect_into_target.html')" class="blue">
<span class="qtext">@DATA</span></a>. An addition <a href="javascript:call_link('abapselect_into_target.html')" class="blue"><span class="qtext">NEW</span></a> makes it possible to create target areas implicitly as
<a href="javascript:call_link('abenanonymous_data_object_glosry.html')" class="grey" title="Glossary Entry">anonymous data objects</a>.
</P>
<P>
The additions have the following meaning:
</P>
<ul class="disc">
<li>
In writes to work areas <span class="qtext">wa</span> and internal tables <span class="qtext">itab</span>,
<span class="qtext">CORRESPONDING FIELDS OF</span> can be used to assign columns of the results set to identically named components of structured target areas.
<br><br></li>
<li>
In writes to internal tables, <span class="qtext">PACKAGE SIZE</span> can be used to split rows of the results set into packages.
<br><br></li>
<li>
<a href="javascript:call_link('abapselect_indicators.html')" class="blue"><span class="qtext">indicators</span></a> can be used to specify indicators. Currently, a
<a href="javascript:call_link('abennull_indicator_glosry.html')" class="grey" title="Glossary Entry">null indicator</a> can be specified with information about whether a column of the results set contains the null value.
<br><br></li>
<li>
<a href="javascript:call_link('abapselect_extended_result.html')" class="blue"><span class="qtext">extended_result</span></a> can be used to provide an extended result in a result object.
<br><br></li>
<li>
It may be necessary to use <a href="javascript:call_link('abapselect_creating.html')" class="blue"><span class="qtext">creating</span></a> to define whether a
<a href="javascript:call_link('abenlob_glosry.html')" class="grey" title="Glossary Entry">LOB</a> of the results set associated with a
<a href="javascript:call_link('abenlob_handle_glosry.html')" class="grey" title="Glossary Entry">LOB handle</a> is a
<a href="javascript:call_link('abendata_stream_glosry.html')" class="grey" title="Glossary Entry">data stream</a> or a <a href="javascript:call_link('abenlocator_glosry.html')" class="grey" title="Glossary Entry">locator</a>.
<br></li>
</ul>
<P>
These additions can all be used together with the following exceptions:
</P>
<ul class="disc">
<li>
The addition <span class="qtext">CORRESPONDING FIELDS OF</span> cannot be used together with inline
declarations <a href="javascript:call_link('abapselect_into_target.html')" class="blue"><span class="qtext">@DATA</span></a> for <span class="qtext">wa</span> or <span class="qtext">itab</span>.
<br><br></li>
<li>
The addition <span class="qtext">APPENDING</span> cannot be specified together with <a href="javascript:call_link('abapselect_into_target.html')" class="blue"><span class="qtext">NEW</span></a>.
<br></li>
</ul>
<P>
If the target area is specified using field symbols or reference variables, and a <span class="qtext">SELECT</span>
loop is closed using <a href="javascript:call_link('abapendselect.html')" class="blue"><span class="qtext">ENDSELECT</span></a>,
the data object referenced by a field symbol or reference variable is identified precisely once, when
the loop is entered. This data object is used as a target area in each loop pass. Any modifications to the assignment of a field symbol or reference variable within the loop are ignored.
</P>
<P>
The <span class="qtext">INTO</span> clause must be the final clause of a
<a href="javascript:call_link('abenmainquery_glosry.html')" class="grey" title="Glossary Entry">main query</a> and the additions
<a href="javascript:call_link('abapselect_up_to_offset.html')" class="blue"><span class="qtext">UP TO</span>, <span class="qtext">OFFSET</span></a>,
a <a href="javascript:call_link('abapselect_additions.html')" class="blue"><span class="qtext">abap_options</span></a> must be placed after the <span class="qtext">INTO</span> clause.
</P>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>
The addition <a href="javascript:call_link('abapselect_into_target.html')" class="blue"><span class="qtext">NEW</span></a> or other methods for creating
<a href="javascript:call_link('abenanonymous_data_object_glosry.html')" class="grey" title="Glossary Entry">anonymous data objects</a>
can be used to create suitable data objects for dynamically specified <a href="javascript:call_link('abapfrom_clause.html')" class="blue">
<span class="qtext">FROM</span> clauses</a> or <a href="javascript:call_link('abapselect_list.html')" class="blue"><span class="qtext">SELECT</span> lists</a>.
<br><br></li>
<li>
Whether data should better be read into an internal table or a work area depends on the type of further
processing: If data is required only once in a program, it should be imported into a work area, row
by row, by a <span class="qtext">SELECT</span>. Reading data into an internal table requires more memory
space (without compensating this disadvantage with a considerably higher reading speed). If, on the
other hand, data is required many times in a program, it should be read into an internal table. The
disadvantage of the increased memory requirement is more than compensated for here by the advantage of a once-only selection.
<br><br></li>
<li>
If data is to be imported into an internal table, it is better to import it once into an internal table than to read it, row by row, into a work area and insert its content in the internal table.
<br><br></li>
<li>
The statement <span class="qtext">SELECT</span> also has an obsolete
<a href="javascript:call_link('abapselect_obsolete.html')" class="blue">short form</a>, in which <span class="qtext">INTO</span> or <span class="qtext">APPENDING</span> can be omitted.
<br><br></li>
<li>
Reference variables for LOB handles or LOB handle structures cannot currently be specified after the statement <span class="qtext">FETCH</span>.
<br><br></li>
<li>
Host variables without the escape character <span class="qtext">@</span> are
<a href="javascript:call_link('abenopen_sql_hostvar_obsolete.html')" class="blue">obsolete</a>. The escape character <span class="qtext">@</span> must be specified in the
<a href="javascript:call_link('abenopensql_strict_modes.html')" class="blue">strict modes</a> of the syntax check from Release 7.40, SP05.
<br><br></li>
<li>
Outside the <a href="javascript:call_link('abenopensql_strict_mode_750.html')" class="blue">strict mode</a> of the syntax check from 7.50Release 7.50, the <span class="qtext">INTO</span> clause does not have to be the last clause of a
<a href="javascript:call_link('abenmainquery_glosry.html')" class="grey" title="Glossary Entry">main query</a>. <br><br>
<br></li>
</ul>
<p><span class="h2">
<A NAME="!ABAP_ALTERNATIVE_1@1@"></A> <span class="bold">Alternative 1</span>
</span></p>
<P>
<span class="qtext">... INTO (elem1, elem2, ... )</span> <br><br><br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<P>
Specifies a parenthesized and comma-separated list of elementary data objects <a href="javascript:call_link('abapselect_into_target.html')" class="blue">
<span class="qtext">elem1</span></a>, <a href="javascript:call_link('abapselect_into_target.html')" class="blue"><span class="qtext">@elem2</span></a>,
... as target areas of the <span class="qtext">INTO</span> clause. This can be used only if the columns
of the results set are defined using one or more explicitly specified columns <a href="javascript:call_link('abapselect_clause_col_spec.html')" class="blue">
<span class="qtext">col_spec</span></a> in the <a href="javascript:call_link('abapselect_list.html')" class="blue"><span class="qtext">SELECT</span>
list</a>. Each of the data objects <a href="javascript:call_link('abapselect_into_target.html')" class="blue"><span class="qtext">elem1</span></a>,
<a href="javascript:call_link('abapselect_into_target.html')" class="blue"><span class="qtext">@elem2</span></a>, ... can be specified as existing
<a href="javascript:call_link('abenopen_sql_host_variables.html')" class="blue">host variables</a> or declared inline using <a href="javascript:call_link('abapselect_into_target.html')" class="blue">
<span class="qtext">@DATA</span></a>. An addition <a href="javascript:call_link('abapselect_into_target.html')" class="blue"><span class="qtext">NEW</span></a> makes it possible to create anonymous data objects.
</P>
<P>
The comma-separated list must have the same number of elements as columns in the results set. The content
of the columns in the results set is assigned to the data objects specified in the list from left to right, in accordance with the order specified after <span class="qtext">SELECT</span>.
<a href="javascript:call_link('abenselect_into_conversion.html')" class="blue">Assignment rules</a> apply to the individual assignments. If a
<a href="javascript:call_link('abenlob_glosry.html')" class="grey" title="Glossary Entry">LOB</a> of a reference variable for
<a href="javascript:call_link('abenlob_handle_glosry.html')" class="grey" title="Glossary Entry">LOB handles</a> is assigned, a
<a href="javascript:call_link('abenselect_into_lob_handles.html')" class="blue">LOB handle is created</a>. If an
<a href="javascript:call_link('abenoffset_length.html')" class="blue">offset/length is specified</a> to access a data object,
<span class="qtext">+off</span> must not be omitted. If the results set is empty, the data objects remain
unchanged. If a handleable exception is raised when the data objects are written to, their content is undefined when the exception is handled.
</P>
<P>
If the results set consists of one row, the columns of this row are assigned to the data objects. If
the results set has multiple rows, the statements <a href="javascript:call_link('abapselect.html')" class="blue"><span class="qtext">SELECT</span></a>
and <a href="javascript:call_link('abapwith.html')" class="blue"><span class="qtext">WITH</span></a> are used to open a <span class="qtext">
SELECT</span> loop that itself must be closed using <a href="javascript:call_link('abapendselect.html')" class="blue"><span class="qtext">ENDSELECT</span></a>
or <a href="javascript:call_link('abapendwith.html')" class="blue"><span class="qtext">ENDWITH</span></a>. A <span class="qtext">SELECT</span>
loop assigns the columns of the results set to the data objects row by row and evaluates them. If used
in the statement <a href="javascript:call_link('abapfetch.html')" class="blue"><span class="qtext">FETCH</span></a>, the columns of the row are extracted at the current cursor position.
</P>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>
If the results set is defined in the <a href="javascript:call_link('abapselect_list.html')" class="blue"><span class="qtext">SELECT</span>
list</a> by specifying <span class="qtext">*</span> or <span class="qtext">data_source~*</span>, it is not possible to specify a comma-separated list of data objects.
<br><br></li>
<li>
The comma-separated list can span multiple program lines.
<br></li>
</ul>
<p><span class="h4">
Example
</span></p>
<P>
Reads the three columns of a results set to three elementary data objects. The first data object, <span class="qtext">
carrid</span>, is a previously declared host variable. The second data object, <span class="qtext">carrname</span>,
is host variable declared inline. The third data object is an anonymous data object created using <a href="javascript:call_link('abapselect_into_target.html')" class="blue">
<span class="qtext">NEW</span></a> and which is pointed to by a data reference variable <span class="qtext">dref</span> declared inline.
</P>
<p class="qtextml1">
<span class="qtext">
DATA carrid TYPE scarr-carrid. <br> <br>SELECT carrid, carrname, url <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FROM scarr <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ORDER BY carrid <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; INTO (@carrid, <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; @DATA(carrname), <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; NEW @DATA(dref)). <br>
&nbsp;&nbsp;cl_demo_output=>write( |{ carrid <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }, { carrname <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }, { dref->* } | ). <br>ENDSELECT. <br> <br>cl_demo_output=>display( ).
</span>
</p>
<p><span class="h4">
Example
</span></p>
<P>
In this example, the four columns of a results set are read into four individually specified components
of a structure. Unlike when writing to a work area using <span class="qtext">CORRESPONDING FIELDS</span> (see below), the runtime environment does not compare names here.
</P>
<p class="qtextml1">
<span class="qtext">
DATA: <br>&nbsp;&nbsp;BEGIN OF wa, <br>&nbsp;&nbsp;&nbsp;&nbsp;cityfrom TYPE spfli-cityfrom, <br>&nbsp;&nbsp;&nbsp;&nbsp;cityto&nbsp;&nbsp; TYPE spfli-cityto, <br>
&nbsp;&nbsp;&nbsp;&nbsp;carrid TYPE spfli-carrid, <br>&nbsp;&nbsp;&nbsp;&nbsp;connid&nbsp;&nbsp; TYPE spfli-connid, <br>
&nbsp;&nbsp;END OF wa. <br> <br>SELECT SINGLE <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FROM spfli <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FIELDS carrid, connid, cityfrom, cityto <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; WHERE carrid = 'LH' AND connid = '400' <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; INTO (@wa-carrid, <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; @wa-connid, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; @wa-cityfrom, <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; @wa-cityto). <br> <br>cl_demo_output=>display( wa ). <br><br>
</span>
</p>
<p><span class="h2">
<A NAME="!ABAP_ALTERNATIVE_2@2@"></A> <span class="bold">Alternative 2</span>
</span></p>
<P>
<span class="qtext">... INTO <i class=bn>[</i>CORRESPONDING FIELDS OF<i class=bn>]</i> wa</span> <br><br><br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<P>
Specifies a single work area <a href="javascript:call_link('abapselect_into_target.html')" class="blue"><span class="qtext">wa</span></a>
as a target area of the <span class="qtext">INTO</span> clause. This can be specified for all results
sets. The data object <a href="javascript:call_link('abapselect_into_target.html')" class="blue"><span class="qtext">wa</span></a> can be specified as an existing
<a href="javascript:call_link('abenopen_sql_host_variables.html')" class="blue">host variable</a> or declared inline using <a href="javascript:call_link('abapselect_into_target.html')" class="blue">
<span class="qtext">@DATA</span></a>. An addition <a href="javascript:call_link('abapselect_into_target.html')" class="blue"><span class="qtext">NEW</span></a> makes it possible to create an anonymous data object.
</P>
<P>
If the results set consists of a single row, this row is assigned to the work area <span class="qtext">wa</span>.
If the results set has multiple rows, the statements <a href="javascript:call_link('abapselect.html')" class="blue"><span class="qtext">SELECT</span></a>
and <a href="javascript:call_link('abapwith.html')" class="blue"><span class="qtext">WITH</span></a> are used to open a <span class="qtext">
SELECT</span> loop that itself must be closed using <a href="javascript:call_link('abapendselect.html')" class="blue"><span class="qtext">ENDSELECT</span></a>
or <a href="javascript:call_link('abapendwith.html')" class="blue"><span class="qtext">ENDWITH</span></a>. A <span class="qtext">SELECT</span>
loop assigns the results set to the work area <span class="qtext">wa</span> row by row and evaluates
it. After <span class="qtext">ENDSELECT</span> or <span class="qtext">ENDWITH</span>, the work area
<span class="qtext">wa</span> contains the row that was assigned last. If used in the <a href="javascript:call_link('abapfetch.html')" class="blue">
<span class="qtext">FETCH</span></a> statement, a row is extracted at the current cursor position. If
the result is empty, the work area remains unchanged. If a handleable exception is raised when the work area is filled, its content is undefined when the exception is handled.
</P>
<P>
If the optional addition <span class="qtext">CORRESPONDING FIELDS OF</span> is specified, <span class="qtext">wa</span> must be a
<a href="javascript:call_link('abenstructure_glosry.html')" class="grey" title="Glossary Entry">structure</a>. This addition
specifies that only the content of columns that have identically named components in <span class="qtext">wa</span>
is assigned to them. If the addition <span class="qtext">CORRESPONDING FIELDS OF</span> is not specified, <span class="qtext">wa</span> must meet the prerequisites described under
<a href="javascript:call_link('abenopen_sql_wa.html')" class="blue">Work Areas in Statements</a>. The rows of the results set
are assigned as follows, based on the definition of the results set in the <a href="javascript:call_link('abapselect_list.html')" class="blue"><span class="qtext">SELECT</span> list</a>:
</P>
<ul class="disc">
<li>
<span class="bold">Definition of the results set using <span class="qtext">*</span> without the addition <span class="qtext">CORRESPONDING FIELDS OF</span></span> in the <span class="qtext">INTO</span> clause:
<br></li>
</ul>
<dl>

<dd>
If all columns of the data sources are read using <span class="qtext">*</span>, <span class="qtext">CORRESPONDING
FIELDS</span> is not specified and the <span class="qtext">SELECT</span> statement is not the main query
of a <a href="javascript:call_link('abapwith.html')" class="blue"><span class="qtext">WITH</span></a> statement, <span class="qtext">SELECT</span> behaves as follows:
</dd>
</dl>
<ul class="circlem2">
<li>A work area without <a href="javascript:call_link('abenlob_handle_component_glosry.html')" class="grey" title="Glossary Entry">LOB
handle components</a> is assigned the row of the results set, left-aligned and unconverted and in accordance
with the structure of the results set. Unaffected parts of <span class="qtext">wa</span> retain their
previous content. To be able to access the components of the results set according to type, the work area <span class="qtext">wa</span> must be structured like the results set.</li>
</ul>
<ul class="circlem2">
<li>When a <a href="javascript:call_link('abenlob_handle_structure_glosry.html')" class="grey" title="Glossary Entry">LOB handle structure</a> is specified, it must be constructed (in accordance with the
<a href="javascript:call_link('abenopen_sql_wa.html')" class="blue">prerequisites</a>) exactly like the structure of the
<a href="javascript:call_link('abapselect_data_source.html')" class="blue">data source</a>. The content of the columns of the results set that are not assigned to any
<a href="javascript:call_link('abenlob_handle_component_glosry.html')" class="grey" title="Glossary Entry">LOB handle components</a> are directly assigned to the corresponding components of the work area. One
<a href="javascript:call_link('abenselect_into_lob_handles.html')" class="blue">LOB handle</a> is created for each LOB handle component.</li>
</ul>
<ul class="disc">
<li>
<span class="bold">All Other Combinations</span>
<br></li>
</ul>
<dl>

<dd>
If the results set consists of a single column specified explicitly after <span class="qtext">SELECT</span> or a single
<a href="javascript:call_link('abensql_expression_glosry.html')" class="grey" title="Glossary Entry">SQL expression</a> or a single
<a href="javascript:call_link('abenaggregate_expression_glosry.html')" class="grey" title="Glossary Entry">aggregate expression</a>,
<span class="qtext">wa</span> can be an elementary data object or a structure. If the results set consists of multiple columns, it must be a structure and the following rules apply:
</dd>
</dl>
<ul class="circlem2">
<li>If the addition <span class="qtext">CORRESPONDING FIELDS</span> is not specified, <span class="qtext">wa</span>
must contain enough components and the content of the columns are assigned to the components of <span class="qtext">
wa</span> from left to right in the order specified after <span class="qtext">SELECT</span>. The content of surplus components of <span class="qtext">wa</span> is not changed.</li>
</ul>
<ul class="circlem2">
<li>If the addition <span class="qtext">CORRESPONDING FIELDS</span> is specified, only those content
of columns for which there are identically named components in <span class="qtext">wa</span> are assigned
to them. The alias names defined using <a href="javascript:call_link('abapselect_list.html')" class="blue"><span class="qtext">AS</span></a>
are taken into account. Columns and aggregate expressions that appear multiple times can only be assigned
using alias names, if <span class="qtext">CORRESPONDING FIELDS</span> is specified. If <span class="qtext">wa</span>
contains substructures, these are resolved by the addition <span class="qtext">CORRESPONDING FIELDS</span>
and the full names associated using the structure component selector are considered. If a column name
appears multiple times and no alias name was assigned, the last column listed is assigned. If one or
more names match, all the columns for which there are no name matches are removed from the <a href="javascript:call_link('abapselect_list.html')" class="blue">
<span class="qtext">SELECT</span> list</a> implicitly and therefore from the results set too. If there
are no name matches, none of the columns are removed from the results set. If <span class="qtext">*</span>
is specified for the <a href="javascript:call_link('abapselect_list.html')" class="blue"><span class="qtext">SELECT</span> list</a>, it may be updated to a list of columns implicitly.</li>
</ul>
<P>
<a href="javascript:call_link('abenselect_into_conversion.html')" class="blue">Assignment rules</a> apply to the individual assignments. If a
<a href="javascript:call_link('abenlob_glosry.html')" class="grey" title="Glossary Entry">LOB</a> of a reference variable for
<a href="javascript:call_link('abenlob_handle_glosry.html')" class="grey" title="Glossary Entry">LOB handles</a> is assigned, a
<a href="javascript:call_link('abenselect_into_lob_handles.html')" class="blue">LOB handle is created</a>. If an
<a href="javascript:call_link('abenoffset_length.html')" class="blue">offset/length is specified</a> to access a substring of <span class="qtext">wa</span>, <span class="qtext">+off</span> must not be omitted.
</P>
<P>
If <span class="qtext">CORRESPONDING FIELDS</span> is used, the columns of the results set defined in
the <a href="javascript:call_link('abapselect_list.html')" class="blue"><span class="qtext">SELECT</span> list</a> correspond
to the components of the target area. Among other things, there must be at least one match or there must be an identically named component in the target area for each explicitly specified column.
</P>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>
The second point above, "All Other Combinations" also includes <a href="javascript:call_link('abapselect_list.html')" class="blue"><span class="qtext">
data_source~*</span></a> when specified in the <a href="javascript:call_link('abapselect_list.html')" class="blue"><span class="qtext">SELECT</span>
list</a>. In this case, <span class="qtext">wa</span> must be a structure. This is particularly valid
when only one data source <a href="javascript:call_link('abapselect_data_source.html')" class="blue"><span class="qtext">data_source~*</span></a>
is specified. If a single <span class="qtext">data_source~*</span> is specified, therefore, other rules
apply than in the case where <span class="qtext">*</span> is specified, even if the same results sets are defined both times.
<br><br></li>
<li>
The addition <span class="qtext">CORRESPONDING FIELDS</span> ignores names which were only defined using
the addition <span class="qtext">AS name</span> of the statement <a href="javascript:call_link('abapinclude_type.html')" class="blue"><span class="qtext">
INCLUDE</span></a> or when integrating the structures in ABAP Dictionary. Any components renamed using
the addition <span class="qtext">RENAMING WITH SUFFIX</span> of the statement <span class="qtext">INCLUDE</span> (or renamed similarly in ABAP Dictionary) are, however, not ignored.
<br><br></li>
<li>
If the addition <span class="qtext">CORRESPONDING FIELDS</span> is used, fields with matching names
(if known statically) are assigned when the program is generated or are otherwise assigned once when the <span class="qtext">SELECT</span> statement is executed.
<br><br></li>
<li>
If individual columns are being read and the structure of the results set is known statically, it is
recommended that a list of data objects or inline declarations are used instead of using the addition <span class="qtext">CORRESPONDING FIELDS</span>.
<br><br></li>
<li>
If the addition <span class="qtext">INTO CORRESPONDING</span> is used and all the required information
exists statically, the fields are assigned when the program is generated. Otherwise the fields are assigned
once when the <span class="qtext">SELECT</span> statement is executed, which causes a slight increase in the required runtime.
<br><br></li>
<li>
The addition <span class="qtext">INTO CORRESPONDING</span> modifies the actual <a href="javascript:call_link('abapselect_list.html')" class="blue">
<span class="qtext">SELECT</span> list</a> that is passed to the database and hence also the <span class="qtext">SELECT</span>
statement. If one or more names match, all the columns for which there are no name matches are removed
from the <span class="qtext">SELECT</span> list implicitly. If there are no name matches, none of the
columns are removed. If <span class="qtext">*</span> is specified for the <a href="javascript:call_link('abapselect_list.html')" class="blue"><span class="qtext">SELECT</span> list</a>, it may be updated to a list of columns implicitly.
<br><br></li>
<li>
The variants with the addition <span class="qtext">INTO CORRESPONDING FIELDS</span> run the risk of
having target areas with more components than are actually filled. This should only be the case if the
components that are not filled are then filled in the program. Otherwise appropriately sized work areas should be used to avoid a large amount of memory being filled by initial values (especially in internal tables).
<br></li>
</ul>
<p><span class="h4">
Example
</span></p>
<p>
Reads all columns of a row of a results set into structured work areas. In the first <span class="qtext">SELECT</span>
statement, <span class="qtext">wa</span> is a previously declared host variable. In the second <span class="qtext">
SELECT</span> statement, <span class="qtext">wa_inl</span> is a host variable declined inline. In the
third <span class="qtext">SELECT</span> statement, the work area is created as an anonymous data object
using <a href="javascript:call_link('abapselect_into_target.html')" class="blue"><span class="qtext">NEW</span></a>. This object is pointed to used a data reference variable <span class="qtext">dref</span> declared inline.
</p>
<p class="qtextml1">
<span class="qtext">
DATA wa TYPE scarr. <br>SELECT SINGLE * <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FROM scarr <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; WHERE carrid = 'LH' <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; INTO @wa. <br> <br>SELECT SINGLE * <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FROM scarr <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; WHERE carrid = 'LH' <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; INTO @DATA(wa_inl). <br>
ASSERT wa_inl = wa. <br> <br>SELECT SINGLE * <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FROM scarr <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; WHERE carrid = 'LH' <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; INTO NEW @DATA(dref). <br>ASSERT dref->* = wa. <br> <br>cl_demo_output=>display( dref->* ).
</span>
</p>
<p><span class="h4">
Example
</span></p>
<P>
In this example, the four columns of a results set are read into four respective components of the same name in a work area, where they are in a different order.
</P>
<p class="qtextml1">
<span class="qtext">
DATA: <br>&nbsp;&nbsp;BEGIN OF wa, <br>&nbsp;&nbsp;&nbsp;&nbsp;cityfrom TYPE spfli-cityfrom, <br>&nbsp;&nbsp;&nbsp;&nbsp;cityto&nbsp;&nbsp; TYPE spfli-cityto, <br>
&nbsp;&nbsp;&nbsp;&nbsp;carrid TYPE spfli-carrid, <br>&nbsp;&nbsp;&nbsp;&nbsp;connid&nbsp;&nbsp; TYPE spfli-connid, <br>
&nbsp;&nbsp;END OF wa. <br> <br>SELECT SINGLE <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FROM spfli <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FIELDS carrid, connid, cityfrom, cityto <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; WHERE carrid = 'LH' AND connid = '400' <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; INTO CORRESPONDING FIELDS OF @wa. <br>cl_demo_output=>display( wa ). <br><br>
</span>
</p>
<p><span class="h2">
<A NAME="!ABAP_ALTERNATIVE_3@3@"></A> <span class="bold">Alternative 3</span>
</span></p>
<P>
<span class="qtext">... INTO<i class=bn>|</i>APPENDING <i class=bn>[</i>CORRESPONDING FIELDS OF<i class=bn>]</i> TABLE itab</span> <br><br><br><!-- /A -->
</P>
<p><span class="h3">
Addition:
</span></p>
<P>
   <A HREF="#!ABAP_ONE_ADD@1@" class="blue"> <span class="qtext">... PACKAGE SIZE n</span> </A> <br><br>
</P>
<p><span class="h4">
Effect
</span></p>
<P>
Specifies an internal table <a href="javascript:call_link('abapselect_into_target.html')" class="blue"><span class="qtext">itab</span></a>
as a target area of the <span class="qtext">INTO</span> clause. This can be specified for all results
sets. The data object <a href="javascript:call_link('abapselect_into_target.html')" class="blue"><span class="qtext">itab</span></a> can be specified as an existing
<a href="javascript:call_link('abenopen_sql_host_variables.html')" class="blue">host variable</a> or declared inline using <a href="javascript:call_link('abapselect_into_target.html')" class="blue">
<span class="qtext">@DATA</span></a>. An addition <a href="javascript:call_link('abapselect_into_target.html')" class="blue"><span class="qtext">NEW</span></a> makes it possible to create an anonymous data object.
</P>
<P>
An internal table can only be specified after <span class="qtext">INTO TABLE</span> or after <span class="qtext">APPENDING TABLE</span> if the results set has multiple rows. The internal table can have any
<a href="javascript:call_link('abentable_category_glosry.html')" class="grey" title="Glossary Entry">table category</a>. Its row type must meet the same
<a href="javascript:call_link('abenopen_sql_wa.html')" class="blue">prerequisites</a> as a work area <span class="qtext">wa</span>.
</P>
<P>
The results set with multiple row is inserted into the internal table <span class="qtext">itab</span>
row-by-row in accordance with the rules of <a href="javascript:call_link('abapinsert_itab.html')" class="blue"><span class="qtext">INSERT</span></a>; a sorting process is executed in the case of a
<a href="javascript:call_link('abensorted_table_glosry.html')" class="grey" title="Glossary Entry">sorted table</a>.
</P>
<ul class="disc">
<li>
If <span class="qtext">INTO</span> is used, the internal table is initialized before the rows are inserted.
<br><br></li>
<li>
Previous rows remain intact if <span class="qtext">APPENDING</span> is used. <span class="qtext">APPENDING</span>
cannot be used together with the addition <a href="javascript:call_link('abapselect_into_target.html')" class="blue"><span class="qtext">NEW</span></a>.
<br></li>
</ul>
<P>
If there is a conflict with an existing unique table key, a non-handleable exception is raised like
in the case of the statement <a href="javascript:call_link('abapinsert_itab_linespec.html')" class="blue"><span class="qtext">INSERT LINES OF</span></a>.
</P>
<P>
Before any assignment of a row of the results set, an initial row of the internal table <span class="qtext">itab</span>
is created and the row of the results set is assigned to this row. When assigning a row of the results
set to a row of the internal table with or without <span class="qtext">CORRESPONDING FIELDS</span>,
the same rules apply as when assigning to an individual work area <span class="qtext">wa</span> (see above) with the exception that when inserting into internal tables,
<a href="javascript:call_link('abenlob_handle_glosry.html')" class="grey" title="Glossary Entry">LOB handles</a> can be
<a href="javascript:call_link('abenselect_into_lob_handles.html')" class="blue">created</a> as
<a href="javascript:call_link('abenlocator_glosry.html')" class="grey" title="Glossary Entry">locators</a> but not as <a href="javascript:call_link('abenreader_stream_glosry.html')" class="grey" title="Glossary Entry">reader streams</a>.
</P>
<P>
If the addition <span class="qtext">PACKAGE SIZE</span> is not specified, all rows of the results set
are inserted in the internal table <span class="qtext">itab</span> and the statements <span class="qtext">ENDSELECT</span>
or <span class="qtext">ENDWITH</span> statement must not be specified after <span class="qtext">SELECT</span> or <span class="qtext">WITH</span>.
</P>
<P>
If the results set is empty, the internal table is initialized when <span class="qtext">INTO</span>
is used, and remains unchanged when <span class="qtext">APPENDING</span> is used. If a handleable exception is raised when the internal table is filled, its content is undefined when the exception is handled.
</P>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>
When specifying an internal table with a unique <a href="javascript:call_link('abenprimary_table_key_glosry.html')" class="grey" title="Glossary Entry">primary</a> or
<a href="javascript:call_link('abensecondary_table_key_glosry.html')" class="grey" title="Glossary Entry">secondary table key</a>, an exception is raised that cannot be handled if an attempt is made to create a duplicate entry.
<br><br></li>
<li>
If the internal table contains more columns than required when using the addition <span class="qtext">CORRESPONDING
FIELDS</span>, generally too much memory is being used by initial fields and a warning is displayed by the syntax check. In cases where the columns are needed, for example when they are filled with derived values by the program, a
<a href="javascript:call_link('abenpragma.html')" class="blue">pragma</a> can be used to suppress the warning.
<br><br></li>
<li>
The maximum number of <a href="javascript:call_link('abendata_stream_glosry.html')" class="grey" title="Glossary Entry">data
streams</a> that can be assigned to an ABAP SQL statement is limited to 16, which means it does not make any sense to create reader streams when importing internal tables.
<br><br></li>
<li>
Instead of using <span class="qtext">APPENDING TABLE</span> to form union sets on the AS ABAP, this can now be done directly in the database using <a href="javascript:call_link('abapunion.html')" class="blue"><span class="qtext">UNION</span></a>, and
<a href="javascript:call_link('abapsql_expr.html')" class="blue">SQL expressions</a> can be used to calculate column values. <br><br>
<br></li>
</ul>
<p><span class="h4">
Example
</span></p>
<p>
Reads all columns of all rows of a results set into structured internal tables. In the first <span class="qtext">SELECT</span>
statement, <span class="qtext">itab</span> is a previously declared host variable. In the second <span class="qtext">
SELECT</span> statement, <span class="qtext">itab_inl</span> is a host variable declined inline. In
the third <span class="qtext">SELECT</span> statement, the internal table is created as an anonymous
data object using <a href="javascript:call_link('abapselect_into_target.html')" class="blue"><span class="qtext">NEW</span></a>. This object is pointed to used a data reference variable <span class="qtext">dref</span> declared inline.
</p>
<p class="qtextml1">
<span class="qtext">
DATA itab TYPE STANDARD TABLE OF scarr <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WITH EMPTY KEY. <br>
SELECT * <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FROM scarr <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ORDER BY carrid <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; INTO TABLE @itab. <br> <br>SELECT * <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FROM scarr <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ORDER BY carrid <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; INTO TABLE @DATA(itab_inl). <br>
ASSERT itab_inl = itab. <br> <br>SELECT * <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FROM scarr <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ORDER BY carrid <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; INTO TABLE NEW @DATA(dref). <br>ASSERT dref->* = itab. <br> <br>cl_demo_output=>display( dref->* ).
</span>
</p>
<p><span class="h4">
Example
</span></p>
<p>
In this example, the four columns of a results set are read into four respective components of the same name in an internal table, where they are in a different order.
</p>
<p class="qtextml1">
<span class="qtext">
TYPES: <br>&nbsp;&nbsp;BEGIN OF wa, <br>&nbsp;&nbsp;&nbsp;&nbsp;cityfrom TYPE spfli-cityfrom, <br>&nbsp;&nbsp;&nbsp;&nbsp;cityto&nbsp;&nbsp; TYPE spfli-cityto, <br>
&nbsp;&nbsp;&nbsp;&nbsp;carrid TYPE spfli-carrid, <br>&nbsp;&nbsp;&nbsp;&nbsp;connid&nbsp;&nbsp; TYPE spfli-connid, <br>
&nbsp;&nbsp;END OF wa. <br> <br>DATA itab TYPE SORTED TABLE OF wa WITH UNIQUE KEY table_line. <br> <br>SELECT FROM spfli <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FIELDS carrid, connid, cityfrom, cityto <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; INTO CORRESPONDING FIELDS OF TABLE @itab. <br>cl_demo_output=>display( itab ).
</span>
</p>
<p><span class="h4">
Example
</span></p>
<p>
The following example for <span class="qtext">APPENDING TABLE</span> creates the same internal table as the example for <a href="javascript:call_link('abapunion.html')" class="blue"><span class="qtext">UNION</span></a>.
</p>
<p class="qtextml1">
<span class="qtext">
SELECT FROM scarr <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FIELDS carrname, <br>&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CAST( '-' AS CHAR( 4&nbsp;&nbsp;) ) AS connid, <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CAST( '-' AS CHAR( 20 ) ) AS cityfrom, <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CAST( '-' AS CHAR( 20 ) ) AS cityto <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; WHERE carrid = 'LH' <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; INTO TABLE @DATA(result). <br>
 <br>SELECT FROM spfli <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FIELDS '-' AS carrname, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; connid, <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cityfrom, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cityto <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHERE carrid = 'LH' <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;APPENDING TABLE @result. <br>
 <br>SORT result BY carrname DESCENDING connid cityfrom cityto. <br> <br>cl_demo_output=>display( result ). <br><br>
</span>
</p>
<A NAME="@@PACKAGE SIZE@@SELECT INTO@@"></A>
<p><span class="h3">
<A NAME="!ABAP_ONE_ADD@1@"></A> <span class="bold">Addition</span>
</span></p>
<P>
<span class="qtext">... PACKAGE SIZE n</span> <!-- /A -->  <br>
</P>
<p><span class="h4">
Effect
</span></p>
<P>
If the addition <span class="qtext">PACKAGE SIZE</span> is specified after <span class="qtext">INTO<i
class=bn>|</i>APPENDING TABLE</span>, the rows of the results set are inserted into the internal table
<span class="qtext">itab</span> in packages of <span class="qtext">n</span> rows. In the case of the
statements <a href="javascript:call_link('abapselect.html')" class="blue"><span class="qtext">SELECT</span></a> and <a href="javascript:call_link('abapwith.html')" class="blue">
<span class="qtext">WITH</span></a>, a <span class="qtext">SELECT</span> loop is opened that itself
must be closed using <a href="javascript:call_link('abapendselect.html')" class="blue"><span class="qtext">ENDSELECT</span></a>
or <a href="javascript:call_link('abapendwith.html')" class="blue"><span class="qtext">ENDWITH</span></a>. <span class="qtext">n</span> expects a
<a href="javascript:call_link('abenopen_sql_host_variables.html')" class="blue">host variable</a>, a
<a href="javascript:call_link('abenopen_sql_host_expressions.html')" class="blue">host expression</a>, or a
<a href="javascript:call_link('abenabap_sql_host_literals.html')" class="blue">literal</a> of type <span class="qtext">i</span>
(that contains the number of rows). The content of <span class="qtext">n</span> must match the data type <span class="qtext">i</span> in accordance with the rules for a
<a href="javascript:call_link('abenlossless_assignment_glosry.html')" class="grey" title="Glossary Entry">lossless assignment</a>.
<span class="qtext">n</span> must have the type <span class="qtext">b</span>, <span class="qtext">s</span>, <span class="qtext">i</span>, or <span class="qtext">int8</span>. This is checked in
<a href="javascript:call_link('abenopensql_strict_mode_751.html')" class="blue">strict mode</a> of the syntax check from Release
7.51. If the value of <span class="qtext">n</span> is less than 0, an exception is raised that cannot
be handled. If <span class="qtext">n</span> is equal to 0, all rows of the results set are inserted
in the internal table <span class="qtext">itab</span>. If used in the statement <a href="javascript:call_link('abapfetch.html')" class="blue">
<span class="qtext">FETCH</span></a>, <span class="qtext">n</span> rows are extracted from the current cursor position.
</P>
<P>
If <span class="qtext">INTO</span> is used, the internal table is initialized before each insertion
and, in the <span class="qtext">SELECT</span> loop, it only contains the rows of the current package.
If <span class="qtext">APPENDING</span> is used, a further package is added to the existing rows of
the internal table for each <span class="qtext">SELECT</span> loop or for each extraction using <span class="qtext">FETCH</span>.
</P>
<P>
After <span class="qtext">ENDSELECT</span> or <span class="qtext">ENDWITH</span>, the content of <span class="qtext">
itab</span> is not defined if <span class="qtext">INTO</span> is used. That is, the table can either
contain the rows of the last package or it can be initial. If <span class="qtext">APPENDING</span> is used, the content of <span class="qtext">itab</span> retains the state of the last loop pass.
</P>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>
The addition <span class="qtext">PACKAGE SIZE</span> can be used after <span class="qtext">INTO</span>
to limit the amount of data read in one go. Otherwise a runtime error can occur when reading a data set that is too large into an internal table so that its
<a href="javascript:call_link('abenmemory_consumption_2.html')" class="blue">maximum size</a> is exceeded. <span class="qtext">PACKAGE SIZE</span> cannot prevent this runtime error after <span class="qtext">APPENDING</span>.
<br><br></li>
<li>
If the addition <span class="qtext">PACKAGE SIZE</span> is specified with the addition <a href="javascript:call_link('abenwhere_logexp_itab.html')" class="blue">
<span class="qtext">FOR ALL ENTRIES</span></a>, all selected rows are read into an internal system table
initially and the packages are only created when they are passed from the system table to the actual
target table. The addition <span class="qtext">FOR ALL ENTRIES</span> thereby negates the effect of <span class="qtext">PACKAGE SIZE</span> in preventing memory overflow.
<br><br></li>
<li>
The addition <span class="qtext">PACKAGE SIZE</span> does not influence the size of the
<a href="javascript:call_link('abenopen_sql_oview.html')" class="blue">packages</a> (configured in the profile parameters) used to transport data between the database server and AS ABAP. <br><br>
<br></li>
</ul>
<p><span class="h4">
Example
</span></p>
<p>
In this example, columns of the database table SPFLI are read and output in packages of 10 rows.
</p>
<p class="qtextml1">
<span class="qtext">
DATA(out) = cl_demo_output=>new( ). <br>SELECT carrid, connid, cityfrom, cityto <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FROM spfli <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ORDER BY carrid, connid, cityfrom, cityto <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; INTO&nbsp;&nbsp;TABLE @DATA(result) PACKAGE SIZE 10. <br>
&nbsp;&nbsp;out->next_section( |Package { sy-dbcnt / 10 }| <br>&nbsp;&nbsp;&nbsp;&nbsp;)->write( result ). <br>ENDSELECT. <br>out->display( ).
</span>
</p>
<br>
<br>
<!-- POSTFIX --><span class="h4">Continue</span><br>
<a href="javascript:call_link('abapselect_into_target.html')" class="blue">SELECT - INTO target</a><br>
<a href="javascript:call_link('abapselect_indicators.html')" class="blue">SELECT - indicators</a><br>
<a href="javascript:call_link('abapselect_extended_result.html')" class="blue">SELECT - extended_result</a><br>
<a href="javascript:call_link('abenselect_into_conversion.html')" class="blue">SELECT - Assignment Rules</a><br>
<a href="javascript:call_link('abenselect_into_lob_handles.html')" class="blue">SELECT - LOB Handles</a><br>
<br>
<br>
</DIV>
<fieldset style="opacity:0">
<input id="url" type="text" />
</fieldset>
</BODY>

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abapinto_clause.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:51:29 GMT -->
</html>

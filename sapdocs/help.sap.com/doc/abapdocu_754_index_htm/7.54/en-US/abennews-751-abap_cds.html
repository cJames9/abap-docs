<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="EN">
<!-- ABENNEWS-751-ABAP_CDS -->

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abennews-751-abap_cds.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:52:59 GMT -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="author" content="SAP">
<meta name="description" content="ABAP CDS in Release 7.51">
<title>
ABAP CDS in Release 7.51 - ABAP Keyword Documentation
</title>
<link rel="icon" href="ABAPIcon.ico" type="image/ico">
<link rel="shortcut icon" href="ABAPIcon.ico">
<LINK rel="stylesheet" href="abap_docu.css" type="text/css">
<script language="javascript" type="text/javascript" src="functions.js"></script>
<script type="text/JavaScript">
function urlToClipboard(id){
 try{ var loc = top.location.href;}
 catch(e){ alert( "URL cannnot be determined" ); return; }
 var field = document.getElementById(id);
 field.focus();
 if ( loc.search( ".htm" ) == -1 && loc.search( ".HTM" ) == -1  ){ loc = loc + "index.htm"; }
 if (   loc.search( "index.html" ) != -1
     || loc.search( "INDEX-2.html" ) != -1 ){
   var off = loc.search( "file=" );
   if ( off == -1  ){
     field.value = loc + "?file=abennews-751-abap_cds.htm"; }
   else {
     field.value = loc.substring( 0, off ) + "file=abennews-751-abap_cds.htm";
   }
 }
 else {
    field.value = loc; }
 field.setSelectionRange(0, field.value.length);
 var r = confirm( "Copy URL to clipboard?\n\n" + field.value + "\n\nCopy to clipboard does not work in all browsers." );
 if (r == true) {
   try{
     document.execCommand("copy");
   }
     catch(e){ alert( "URL could not be copied to clipboard" ); }
 }
 window.scrollTo(0,0);
}
</script>
</head>
<body>
<div class="all">
<div style="float:right;">
<input type="button" value="URL"
style="font-size:10px; width:30px; height:18px; padding:0; "
onclick="urlToClipboard('url')" title="Copy URL to Clipboard" ></div>
<p>
<input name="query" id="query" value="" type="text" title="Suchbegriff" size="30" maxlength="30" onkeyup="getInput()">&nbsp;
<input type="button" value="Search"
style="font-size:12px; width:50px; height:18px; padding:0"
onclick="call_search('search.html')" title="Search in ABAP Keyword Documentation" >
<hr style="width:100%;height:1px"></p>
<p class="copyright">AS ABAP Release 754, &copy;Copyright 2019 SAP SE. All rights reserved.</p>
<span class="path">
<a href="javascript:call_link('abenabap.html')" class="blue">ABAP Keyword Documentation</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abennews.html')" class="blue">ABAP - Release-Specific Changes</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abennews-75.html')" class="blue">Changes in Releases 7.5x</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abennews-751.html')" class="blue">Changes in Release 7.51</a>&nbsp;&rarr;&nbsp;
</span>
<p><span class="h1">
ABAP CDS in Release 7.51 <br><br>
</span></p>
<P>
<br><A HREF="#!ABAP_MODIFICATION_1@1@" class="blue"> 1. Client handling </A>
</P>
<P>
<br><A HREF="#!ABAP_MODIFICATION_2@2@" class="blue"> 2. Expressions and functions </A>
</P>
<P>
<br><A HREF="#!ABAP_MODIFICATION_3@3@" class="blue"> 3. Cross join </A>
</P>
<P>
<br><A HREF="#!ABAP_MODIFICATION_4@4@" class="blue"> 4. Associations </A>
</P>
<P>
<br><A HREF="#!ABAP_MODIFICATION_5@5@" class="blue"> 5. Session variables </A>
</P>
<P>
<br><A HREF="#!ABAP_MODIFICATION_6@6@" class="blue"> 6. CDS view enhancements </A>
</P>
<P>
<br><A HREF="#!ABAP_MODIFICATION_7@7@" class="blue"> 7. Annotations </A>
</P>
<P>
<br><A HREF="#!ABAP_MODIFICATION_8@8@" class="blue"> 8. Access control </A> <br><br> <br><br>
</P>
<p><span class="h4">
<A NAME="!ABAP_MODIFICATION_1@1@"></A> <span class="bold">Modification 1</span>
</span></p>
<P>
<span class="bold">Client Handling</span> <br><br><!-- /A -->
</P>
<P>
The new annotation <span class="qtext400">@ClientHandling</span> specifies the client handling of
<a href="javascript:call_link('abencds_client_handling.html')" class="blue">CDS views</a> and
<a href="javascript:call_link('abencds_func_client_handling.html')" class="blue">CDS table functions</a>. It replaces the annotation <span class="qtext400">@ClientDependent</span> and makes it obsolete. <br><br> <br><br>
</P>
<p><span class="h4">
<A NAME="!ABAP_MODIFICATION_2@2@"></A> <span class="bold">Modification 2</span>
</span></p>
<P>
<span class="bold">Expressions and Functions</span> <br><br><!-- /A -->
</P>
<P>
The following enhancements have been implemented:
</P>
<ul class="disc">
<li>
<a href="javascript:call_link('abencds_f1_cast_expression.html')" class="blue"><span class="qtext400">CAST</span> expression</a>
<br></li>
</ul>
<ul class="circlem2">
<li>In a <a href="javascript:call_link('abencds_f1_cast_expression.html')" class="blue"><span class="qtext400">CAST</span> expression</a>,
operands of the types SSTRING can now be cast to types other than themselves and back. Here, the type SSTRING behaves like the data type CHAR.</li>
</ul>
<ul class="circlem2">
<li>In a <a href="javascript:call_link('abencds_f1_cast_expression.html')" class="blue"><span class="qtext400">CAST</span> expression</a>,
operands of the types CLNT, LANG, TIMS, and UNIT can now be cast to the types CHAR and SSTRING. Here, the target type must be specified as a data element.</li>
</ul>
<ul class="circlem2">
<li>In a <a href="javascript:call_link('abencds_f1_cast_expression.html')" class="blue"><span class="qtext400">CAST</span> expression</a>, the data types CHAR, SSTR, and NUMC can now be cast to ACCP, and the other way round.</li>
</ul>
<ul class="circlem2">
<li><a href="javascript:call_link('abencds_f1_aggregate_functions.html')" class="blue">Aggregate expressions</a> can now be used
as operands in a <a href="javascript:call_link('abencds_f1_cast_expression.html')" class="blue"><span class="qtext400">CAST</span> expression</a>.</li>
</ul>
<ul class="disc">
<li>
New Functions
<br></li>
</ul>
<ul class="circlem2">
<li>The following additional string functions are now supported: <a href="javascript:call_link('abencds_f1_sql_functions_character.html')" class="blue">
<span class="qtext400">UPPER</span></a> and <a href="javascript:call_link('abencds_f1_sql_functions_character.html')" class="blue"><span class="qtext400">LOWER</span></a></li>
</ul>
<ul class="circlem2">
<li>The following additional date/time functions are now supported: <a href="javascript:call_link('abencds_f1_timezone_functions.html')" class="blue">
<span class="qtext400">ABAP_SYSTEM_TIMEZONE</span></a>, <a href="javascript:call_link('abencds_f1_timezone_functions.html')" class="blue">
<span class="qtext400">ABAP_USER_TIMEZONE</span></a>, <a href="javascript:call_link('abencds_f1_date_time_conversions.html')" class="blue">
<span class="qtext400">TSTMP_TO_DATS</span></a>, <a href="javascript:call_link('abencds_f1_date_time_conversions.html')" class="blue"><span class="qtext400">
TSTMP_TO_TIMS</span></a>, <a href="javascript:call_link('abencds_f1_date_time_conversions.html')" class="blue"><span class="qtext400">TSTMP_TO_DST</span></a>,
and <a href="javascript:call_link('abencds_f1_date_time_conversions.html')" class="blue"><span class="qtext400">DATS_TIMS_TO_TSTMP</span></a></li>
</ul>
<ul class="circlem2">
<li>A new built-in conversion function <a href="javascript:call_link('abencds_f1_conv_func_types.html')" class="blue"><span class="qtext400">FLTP_TO_DEC</span></a> can be used to convert arguments of type FLTP to packed numbers.</li>
</ul>
<ul class="disc">
<li>
An addition <a href="javascript:call_link('abencds_f1_avg_as.html')" class="blue"><span class="qtext400">AS dtype</span></a> can now be specified for the
<a href="javascript:call_link('abencds_f1_aggregate_functions.html')" class="blue">aggregate expression</a> <span class="qtext400">AVG</span> to determine the data type of the return value.
<br><br></li>
<li>
Conditions
<br></li>
</ul>
<ul class="circlem2">
<li><a href="javascript:call_link('abencds_f1_builtin_functions.html')" class="blue">Built-in functions</a> can now be specified
on the right side of a <a href="javascript:call_link('abencds_f1_conditional_expression.html')" class="blue"><span class="qtext400">cond_expr</span></a>
condition of a <a href="javascript:call_link('abencds_cond_expr_where.html')" class="blue"><span class="qtext400">WHERE</span> condition</a>, an <a
 href="javascript:call_link('abencds_cond_expr_on_join.html')" class="blue"><span class="qtext400">ON</span> condition</a>, a
<a href="javascript:call_link('abencds_cond_expr_filter.html')" class="blue">filter condition</a>, or a <a href="javascript:call_link('abencds_cond_expr_case.html')" class="blue">complex case distinction</a>.</li>
</ul>
<ul class="circlem2">
<li>In <a href="javascript:call_link('abencds_f1_conditional_expression.html')" class="blue"><span class="qtext400">cond_expr</span></a> conditions, fields of data sources of the type ACCP can now be
<a href="javascript:call_link('abencds_cond_expr_types.html')" class="blue">compared</a> with fields of the same type, and with literals of the type NUMC.</li>
</ul>
<P>
The following changes have been made:
</P>
<ul class="disc">
<li>
In <a href="javascript:call_link('abencds_f1_cast_expression.html')" class="blue"><span class="qtext400">CAST</span> expressions</a>
to data elements, the restriction no longer applies that the data type, the length, and the number of
decimal places of operand and target data type must match precisely. This restriction can now be applied
as an optional restriction using the new addition <span class="qtext400">PRESERVING TYPE</span>. This
addition specifies explicitly that casts are to be applied to the semantic attributes of a data element.
<span class="qtext400">PRESERVING TYPE</span> suppresses the syntax warning that handles casts of identical technical types. <br><br> <br><br>
<br></li>
</ul>
<p><span class="h4">
<A NAME="!ABAP_MODIFICATION_3@3@"></A> <span class="bold">Modification 3</span>
</span></p>
<P>
<span class="bold">Cross Join</span> <br><br><!-- /A -->
</P>
<P>
As well as an inner and outer join, it is now possible to use a
<a href="javascript:call_link('abencds_f1_joined_data_source.html')" class="blue">cross join</a> in a <a href="javascript:call_link('abencds_f1_select_statement.html')" class="blue"><span class="qtext400">SELECT</span> statement</a>. <br><br> <br><br>
</P>
<p><span class="h4">
<A NAME="!ABAP_MODIFICATION_4@4@"></A> <span class="bold">Modification 4</span>
</span></p>
<P>
<span class="bold">Associations</span> <br><br><!-- /A -->
</P>
<ul class="disc">
<li>
<a href="javascript:call_link('abencds_f1_association.html')" class="blue">Associations</a> can now be published for union sets
formed with <a href="javascript:call_link('abencds_f1_union.html')" class="blue"><span class="qtext400">UNION</span></a>. In this case, special rules apply.
<br><br></li>
<li>
<span class="qtext400">WITH DEFAULT FILTER</span> can be used to specify a default filter condition for an
<a href="javascript:call_link('abencds_f1_association.html')" class="blue">association</a>. This condition is used as a filter condition in a
<a href="javascript:call_link('abencds_f1_path_expression.html')" class="blue">path expression</a> if no condition is specified for the association here.
<br><br></li>
<li>
In a <a href="javascript:call_link('abencds_f1_path_expression.html')" class="blue">path expression</a>, <a href="javascript:call_link('abencds_path_expression_attr.html')" class="blue">
<span class="qtext400">*:</span></a> can be used to declared an association as a polyvalent association explicitly. <br><br> <br><br>
<br></li>
</ul>
<p><span class="h4">
<A NAME="!ABAP_MODIFICATION_5@5@"></A> <span class="bold">Modification 5</span>
</span></p>
<P>
<span class="bold">Session Variables</span> <br><br><!-- /A -->
</P>
<P>
When a <a href="javascript:call_link('abencds_view_glosry.html')" class="grey" title="Glossary Entry">CDS view</a> is accessed
using ABAP SQL, it is possible to access the new session variable <a href="javascript:call_link('abencds_f1_session_variable.html')" class="blue">
<span class="qtext400">$session.system_date</span></a> in which the values of the system field <span class="qtext">sy-datum</span> are available. <br><br> <br><br>
</P>
<p><span class="h4">
<A NAME="!ABAP_MODIFICATION_6@6@"></A> <span class="bold">Modification 6</span>
</span></p>
<P>
<span class="bold">CDS View Enhancements</span> <br><br><!-- /A -->
</P>
<P>
The statement <a href="javascript:call_link('abencds_f1_extend_view.html')" class="blue"><span class="qtext400">EXTEND VIEW</span></a> can now be used to extend the following CDS views too:
</P>
<ul class="disc">
<li>
CDS views with <a href="javascript:call_link('abencds_f1_aggregate_functions.html')" class="blue">aggregate expressions</a> and a <a href="javascript:call_link('abencds_f1_group_by.html')" class="blue"><span class="qtext400">GROUP-BY</span> clause</a>
<br><br></li>
<li>
CDS views with a <a href="javascript:call_link('abencds_f1_union.html')" class="blue"><span class="qtext400">UNION</span> clause</a> for union sets
<br></li>
</ul>
<P>
For enhancements of the <span class="qtext400">GROUP-BY</span> clause and <span class="qtext400">UNION</span>
clauses, the existing CDS view must contain the new annotation array <a href="javascript:call_link('abencds_f1_view_entity_annotations.html')" class="blue"><span class="qtext400">AbapCatalog.viewEnhancementCategory[
]</span></a> with suitable values. The value <span class="qtext400">#NONE</span> of this annotation array can be used to prevent any enhancements being made to a CDS view using CDS view enhancements. <br><br> <br><br>
</P>
<p><span class="h4">
<A NAME="!ABAP_MODIFICATION_7@7@"></A> <span class="bold">Modification 7</span>
</span></p>
<P>
<span class="bold">Annotations</span> <br><br><!-- /A -->
</P>
<ul class="disc">
<li>
Annotation for Key Fields
<br></li>
</ul>
<dl>

<dd>
The new view annotation <a href="javascript:call_link('abencds_f1_view_entity_annotations.html')" class="blue"><span class="qtext400">AbapCatalog.preserveKey</span></a>
can be used to override the default behavior of the addition <a href="javascript:call_link('abencds_f1_select_list_entry.html')" class="blue">
<span class="qtext400">KEY</span></a> for defining key fields of a CDS view. If the annotation is specified
with the value <span class="qtext400">true</span>, the key fields defined using <span class="qtext400">KEY</span> are also used for the associated CDS database view.
</dd>
</dl>
<ul class="disc">
<li>
Null Values of Annotations
<br></li>
</ul>
<dl>

<dd>
For each <a href="javascript:call_link('abencds_f1_element_annotation.html')" class="blue">element annotation</a> that is not part of an
<a href="javascript:call_link('abencds_annotations_syntax_array.html')" class="blue">annotation array</a>, the special value
<a href="javascript:call_link('abencds_annotations_syntax_value.html')" class="blue"><span class="qtext400">null</span></a> can be specified (without quotation marks). This means that the annotations are ignored in the
<a href="javascript:call_link('abencds_annotations_analysis.html')" class="blue">evaluation</a> with class <span class="lnkgrey">CL_DD_DDL_ANNOTATION_SERVICE</span> by default.
</dd>
</dl>
<ul class="disc">
<li>
Metadata Extensions
<br></li>
</ul>
<dl>

<dd>
<a href="javascript:call_link('abencds_meta_data_extensions.html')" class="blue">Metadata extensions</a> are new
<a href="javascript:call_link('abencds_object_glosry.html')" class="grey" title="Glossary Entry">CDS objects</a> that allow
<a href="javascript:call_link('abencds_annotation_glosry.html')" class="grey" title="Glossary Entry">CDS annotations</a> for a
<a href="javascript:call_link('abencds_object_glosry.html')" class="grey" title="Glossary Entry">CDS entity</a> to be created and transported separately from their
<a href="javascript:call_link('abencds_source_code_glosry.html')" class="grey" title="Glossary Entry">CDS source code</a>. Metadata extensions are
<a href="javascript:call_link('abencds_meta_data_extension_eval.html')" class="blue">included</a> by default in the
<a href="javascript:call_link('abencds_annotations_analysis.html')" class="blue">evaluation of annotations</a> with the class <span class="lnkgrey">CL_DD_DDL_ANNOTATION_SERVICE</span>.
</dd>
</dl>
<dl>

<dd>
Metadata extensions are created using the DDL statement <a href="javascript:call_link('abencds_f1_annotate_view.html')" class="blue"><span class="qtext400">ANNOTATE VIEW</span></a> and can be joined to new
<a href="javascript:call_link('abencds_variant_glosry.html')" class="grey" title="Glossary Entry">CDS variants</a>, enabling
different extensions to be be created for a CDS entity. Furthermore, each metadata extension is linked
to a layer, such as a branch, customer, or partner, which determines the priority if there is an identical variant or no variant.
</dd>
</dl>
<p><span class="h4">
Caution
</span></p>
<p>
<span class="bold">CDS variants are not currently released for general use. It is not possible to define
standalone CDS variants and the use of CDS variants in metadata extensions produces a syntax check warning.</span> <br><br> <br><br>
</p>
<p><span class="h4">
<A NAME="!ABAP_MODIFICATION_8@8@"></A> <span class="bold">Modification 8</span>
</span></p>
<P>
<span class="bold">Access Control</span> <br><br><!-- /A -->
</P>
<P>
The following enhancements have been implemented in CDS access control:
</P>
<ul class="disc">
<li>
As well as <a href="javascript:call_link('abencds_dcl_role_cond_rule.html')" class="blue">conditional access rules</a>, there are now also
<a href="javascript:call_link('abencds_dcl_role_grant_rule.html')" class="blue">full access rules</a> and <a href="javascript:call_link('abencds_dcl_role_inherited_rule.html')" class="blue">inherited access rules</a>.
<br><br></li>
<li>
There is a new operator <span class="qtext400">?=</span> for
<a href="javascript:call_link('abencds_dcl_role_conditions.html')" class="blue">access conditions</a>, which checks not only for a specified value but also the initial value or the null value.
<br><br></li>
<li>
A new <a href="javascript:call_link('abencds_f1_cond_user.html')" class="blue">user condition</a> compares the value of an element of a CDS entity with the current user name. <br><br> <br><br>
<br></li>
</ul>
<br>
<br>
<br>
<br>
</DIV>
<fieldset style="opacity:0">
<input id="url" type="text" />
</fieldset>
</BODY>

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abennews-751-abap_cds.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:52:59 GMT -->
</html>

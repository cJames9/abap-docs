<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="EN">
<!-- ABAPSCAN -->

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abapscan.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:51:47 GMT -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="author" content="SAP">
<meta name="description" content="SCAN">
<title>
SCAN - ABAP Keyword Documentation
</title>
<link rel="icon" href="ABAPIcon.ico" type="image/ico">
<link rel="shortcut icon" href="ABAPIcon.ico">
<LINK rel="stylesheet" href="abap_docu.css" type="text/css">
<script language="javascript" type="text/javascript" src="functions.js"></script>
<script type="text/JavaScript">
function urlToClipboard(id){
 try{ var loc = top.location.href;}
 catch(e){ alert( "URL cannnot be determined" ); return; }
 var field = document.getElementById(id);
 field.focus();
 if ( loc.search( ".htm" ) == -1 && loc.search( ".HTM" ) == -1  ){ loc = loc + "index.htm"; }
 if (   loc.search( "index.html" ) != -1
     || loc.search( "INDEX-2.html" ) != -1 ){
   var off = loc.search( "file=" );
   if ( off == -1  ){
     field.value = loc + "?file=abapscan.htm"; }
   else {
     field.value = loc.substring( 0, off ) + "file=abapscan.htm";
   }
 }
 else {
    field.value = loc; }
 field.setSelectionRange(0, field.value.length);
 var r = confirm( "Copy URL to clipboard?\n\n" + field.value + "\n\nCopy to clipboard does not work in all browsers." );
 if (r == true) {
   try{
     document.execCommand("copy");
   }
     catch(e){ alert( "URL could not be copied to clipboard" ); }
 }
 window.scrollTo(0,0);
}
</script>
</head>
<body>
<div class="all">
<div style="float:right;">
<input type="button" value="URL"
style="font-size:10px; width:30px; height:18px; padding:0; "
onclick="urlToClipboard('url')" title="Copy URL to Clipboard" ></div>
<p>
<input name="query" id="query" value="" type="text" title="Suchbegriff" size="30" maxlength="30" onkeyup="getInput()">&nbsp;
<input type="button" value="Search"
style="font-size:12px; width:50px; height:18px; padding:0"
onclick="call_search('search.html')" title="Search in ABAP Keyword Documentation" >
<hr style="width:100%;height:1px"></p>
<p class="copyright">AS ABAP Release 754, &copy;Copyright 2019 SAP SE. All rights reserved.</p>
<span class="path">
<a href="javascript:call_link('abenabap.html')" class="blue">ABAP Keyword Documentation</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_reference.html')" class="blue">ABAP &#x2212; Reference</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenprogram_editing.html')" class="blue">program editing</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_language_dynamic.html')" class="blue">Dynamic Program Editing</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_generic_program.html')" class="blue">ABAP Source Code</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abengeneric_internal.html')" class="blue">Internal Statements for Source Code Processing</a>&nbsp;&rarr;&nbsp;
</span>
<A NAME="@@SCAN@@!ABAP_STATEMENT_INT!@@"></A>
<p><span class="h1">
SCAN
</span></p>
<P>
<span class="bold">This statement is for internal use only. <br>It must not be used in application programs.</span> <br><br>
</P>
<p><span class="h2">
Variants:
</span></p>
<P>
   <A HREF="#!ABAP_VARIANT_1@1@" class="blue"> 1. <span class="qtext">SCAN ABAP-SOURCE itab1 ...TOKENS INTO itab2</span> </A> <br>
<span class="qtext">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...STATEMENTS INTO itab3.</span> <br>
<br><A HREF="#!ABAP_VARIANT_2@2@" class="blue"> 2. <span class="qtext">SCAN AND CHECK ABAP-SOURCE itab1 ...RESULT INTO itab2.</span> </A> <br><br>
</P>
<A NAME="@@SCAN ABAP-SOURCE@@!ABAP_STATEMENT_INT!@@"></A>
<A NAME="@@TOKENS INTO@@SCAN ABAP-SOURCE (internal)@@"></A>
<A NAME="@@STATEMENTS INTO@@SCAN ABAP-SOURCE (internal)@@"></A>
<p><span class="h2">
<A NAME="!ABAP_VARIANT_1@1@"></A> <span class="bold">Variant 1</span>
</span></p>
<P>
<span class="qtext">SCAN ABAP-SOURCE itab1 ...TOKENS INTO itab2</span> <br><span class="qtext">&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...STATEMENTS INTO itab3.</span><br>
<!-- /A --> <br><br> <br>Parts marked with " ..." are interchangeable. <br><br>
</P>
<p><span class="h3">
Extras:
</span></p>
<P>
   <A HREF="#!ABAP_ADDITION_1@1@" class="blue"> 1. <span class="qtext">... FROM n1</span> </A> <br><br><A HREF="#!ABAP_ADDITION_2@2@" class="blue"> 2. <span class="qtext">... TO
&nbsp; n2</span> </A> <br><br><A HREF="#!ABAP_ADDITION_3@3@" class="blue"> 3. <span class="qtext">... KEYWORDS&nbsp;&nbsp; FROM itab</span> </A> <br>
<br><A HREF="#!ABAP_ADDITION_4@4@" class="blue"> 4. <span class="qtext">... LEVELS&nbsp;&nbsp;&nbsp;&nbsp; INTO itab</span> </A> <br>
<br><A HREF="#!ABAP_ADDITION_5@5@" class="blue"> 5. <span class="qtext">... STRUCTURES INTO itab</span> </A> <br>
<br><A HREF="#!ABAP_ADDITION_6@6@" class="blue"> 6. <span class="qtext">... OVERFLOW INTO c1</span> </A> <br>
<br><A HREF="#!ABAP_ADDITION_7@7@" class="blue"> 7. <span class="qtext">... WITH ANALYSIS</span> </A> <br>
<br><A HREF="#!ABAP_ADDITION_8@8@" class="blue"> 8. <span class="qtext">... WITH DECLARATIONS</span> </A> <br>
<br><A HREF="#!ABAP_ADDITION_9@9@" class="blue"> 9. <span class="qtext">... WITH BLOCKS</span> </A> <br>
<br><A HREF="#!ABAP_ADDITION_10@10@" class="blue"> 10. <span class="qtext">... WITH COMMENTS</span> </A> <br>
<br><A HREF="#!ABAP_ADDITION_11@11@" class="blue"> 11. <span class="qtext">... WITH PRAGMAS pragmas</span> </A> <br>
<br><A HREF="#!ABAP_ADDITION_12@12@" class="blue"> 12. <span class="qtext">... WITH INCLUDES <i class=bn>[</i>IMPLEMENTATIONS FROM itab<i class=bn>]</i></span> </A> <br>
<br><A HREF="#!ABAP_ADDITION_13@13@" class="blue"> 13. <span class="qtext"> ... WITH TYPE-POOLS</span> </A> <br>
<br><A HREF="#!ABAP_ADDITION_14@14@" class="blue"> 14. <span class="qtext">... WITH LIST TOKENIZATION</span> </A> <br>
<br><A HREF="#!ABAP_ADDITION_15@15@" class="blue"> 15. <span class="qtext">... PRESERVING IDENTIFIER ESCAPING</span> </A> <br>
<br><A HREF="#!ABAP_ADDITION_16@16@" class="blue"> 16. <span class="qtext">... WITHOUT TRMAC</span> </A> <br>
<br><A HREF="#!ABAP_ADDITION_17@17@" class="blue"> 17. <span class="qtext">... <i class=bn>[</i>INCLUDE<i class=bn>]</i> PROGRAM FROM c2</span> </A> <br>
<br><A HREF="#!ABAP_ADDITION_18@18@" class="blue"> 18. <span class="qtext">... INCLUDE INTO c3</span> </A> <br>
<br><A HREF="#!ABAP_ADDITION_19@19@" class="blue"> 19. <span class="qtext">... MESSAGE INTO c4</span> </A> <br>
<br><A HREF="#!ABAP_ADDITION_20@20@" class="blue"> 20. <span class="qtext">... WORD&nbsp;&nbsp;&nbsp;&nbsp;INTO c5</span> </A> <br>
<br><A HREF="#!ABAP_ADDITION_21@21@" class="blue"> 21. <span class="qtext">... LINE&nbsp;&nbsp;&nbsp;&nbsp;INTO n3</span> </A> <br>
<br><A HREF="#!ABAP_ADDITION_22@22@" class="blue"> 22. <span class="qtext">... OFFSET&nbsp;&nbsp;INTO n4</span> </A> <br>
<br><A HREF="#!ABAP_ADDITION_23@23@" class="blue"> 23. <span class="qtext">... WITH EXPLICIT ENHANCEMENTS <i class=bn>[</i>IMPLEMENTATIONS FROM itab<i class=bn>]</i></span> </A> <br>
<br><A HREF="#!ABAP_ADDITION_24@24@" class="blue"> 24. <span class="qtext">... WITH IMPLICIT ENHANCEMENTS <i class=bn>[</i>IMPLEMENTATIONS FROM itab<i class=bn>]</i></span> </A> <br>
<br><A HREF="#!ABAP_ADDITION_25@25@" class="blue"> 25. <span class="qtext">... ENHANCEMENT OPTIONS INTO itab</span> </A> <br>
<br><A HREF="#!ABAP_ADDITION_26@26@" class="blue"> 26. <span class="qtext">... ENHANCEMENTS INTO itab</span> </A> <br>
<br><A HREF="#!ABAP_ADDITION_27@27@" class="blue"> 27. <span class="qtext">... WITH INACTIVE ENHANCEMENTS</span> </A> <br>
<br><A HREF="#!ABAP_ADDITION_28@28@" class="blue"> 28. <span class="qtext">... FRAME PROGRAM FROM c2</span> </A> <br>
<br><A HREF="#!ABAP_ADDITION_29@29@" class="blue"> 29. <span class="qtext">... REPLACING itab</span> </A> <br>
</P>
<p><span class="h4">
Effect
</span></p>
<P>
Breaks down the ABAP source code in the source code table <span class="qtext">itab1</span> into tokens
according to the rules of the ABAP scanner. The tokens are written (one per row) to the token table
<span class="qtext">itab2</span>. The source code to be broken down need not necessarily be contained
in an internal table. It can be specified in any character-like field. In particular, you can use fields
of the type STRING. However, this variant only makes sense if the program to be broken down does not
contain any comments. When an internal table is specified, <span class="qtext">itab1</span> must be a standard table. <br>
 <br>The token table <span class="qtext">itab2</span> must be a standard table and have the structure
STOKES. If the addition <span class="qtext">WITH ANALYSIS</span> is specified, the token table must have the extended structure STOKESX. <br>
(For reasons of downward compatibility, STOKEN and STOKEX can still be used. The main difference is
that in the new structures the character string which makes up the token is typed with reference to
the data type <span class="qtext">string</span>. With the structures STOKEN and STOKEX, a <span class="qtext">C</span> field of length 30 and an OVERFLOW area are used instead.) <br>
 <br>Normally, comments are filtered out and subordinate source code units
(<a href="javascript:call_link('abeninclude_program_glosry.html')" class="grey" title="Glossary Entry">include programs</a>, called
<a href="javascript:call_link('abenmacro_glosry.html')" class="grey" title="Glossary Entry">macros</a>) are ignored. These semantics
can be modified by using the additions <span class="qtext">WITH COMMENTS</span> and <span class="qtext">WITH ANALYSIS</span>. <br>
 <br>In addition to classifying the source code by token, the scanner organizes the tokens themselves
into statements (using the colon-comma logic to form chained statements) and the statement table <span class="qtext">itab3</span> contains a statement description on each row. Here, a
<a href="javascript:call_link('abenchained_statement_glosry.html')" class="grey" title="Glossary Entry">three-part chained statement</a>
<span class="qtext400">"a: b, c1 c2, d."</span> produces the three entries <span class="qtext400">"a
b,"</span>, <span class="qtext400">"a c1 c2,"</span>, and <span class="qtext400">"a d."</span> in the statement table <span class="qtext">itab3</span>. <br>
 <br>The statement table <span class="qtext">itab3</span> must be a standard table without secondary keys and have the structure SSTMNT. <br>
 <br>The statement classification characters colon, comma, and period are not written to the token table
<span class="qtext">itab2</span>. Instead, the table <span class="qtext">itab3</span> contains details
about the position of a colon or the type (comma or period) and position of the end marker  in the statement description. <br><br>
</P>
<P>
<span class="bold">System Fields</span>
</P>
<table border>
<tr>
<td><span class="qtext"><span class="bold">sy-subrc</span></span></td>
<td><span class="bold">Meaning</span></td>
</tr>
<tr>
<td>0</td>
<td>Source code table is not empty, contains no errors, and is broken down into tokens.</td>
</tr>
<tr>
<td>1</td>
<td>Source code table is not empty and is broken down into tokens, but at least one include program does not exist (can occur only in connection with the addition <span class="qtext">WITH INCLUDES</span>).</td>
</tr>
<tr>
<td>2</td>
<td>Source code table <span class="qtext">itab1</span> is empty or a blank row range was selected (applies to the additions <span class="qtext">FROM</span> and <span class="qtext">TO</span>).</td>
</tr>
<tr>
<td>4</td>
<td>Scanner detects error in source code.</td>
</tr>
<tr>
<td>8</td>
<td>Other error or runtime error in scanner.</td>
</tr>
</table><br>
<P>
If a runtime error occurs in the scanner (<span class="qtext">sy-subrc</span> has the value 8), a database rollback is executed as usual. <br><br>
</P>
<P>
<span class="bold">Components of the Structure STOKES</span> <br><br>
</P>
<P>
The fields of the structure STOKES, and thus the columns of the token table <span class="qtext">itab2</span>, have the following meaning: <br><br>
</P>
<dl>
<dt><span class="qtext">TYPE</span></dt>
<dd>
Type of token with possible values: <br> <br>I (identifier) <br>S (string, i.e. character literal) <br>L (list, enclosed in parentheses) <br>
C (comment) <br>B (beginning of a list) <br>D (separator (divider) between list elements) <br>E (end of a list) <br>
 <br>Types B, D, and E can only appear if the addition <span class="qtext">WITH</span> <br><span class="qtext">LIST TOKENIZATION</span> is specified. <br>
</dd>
</dl>
<dl>
<dt><span class="qtext">ROW</span></dt>
<dd>
Number of row where token occurs or where it begins (>= 1) <br>
</dd>
</dl>
<dl>
<dt><span class="qtext">COL</span></dt>
<dd>
Offset of first character of token relative to start of row (>= 0) <br>
</dd>
</dl>
<dl>
<dt><span class="qtext">STR</span></dt>
<dd>
Character string forming the token.
</dd>
</dl>
<P>
If you specify the structure STOKEN, three more fields are filled and you must consider the following: <br>
</P>
<dl>
<dt><span class="qtext">STR</span></dt>
<dd>
The character string forming the token contains only the first part if the character string is longer than 30. <br>
</dd>
</dl>
<dl>
<dt><span class="qtext">LEN</span></dt>
<dd>
Length of the token <br>
</dd>
</dl>
<dl>
<dt><span class="qtext">OVFL</span></dt>
<dd>
Overflow flag for field <span class="qtext">STR</span> with the following possible values: <br> <br><span class="qtext">SPACE</span> (no overflow, token fits completely in field STR) <br>
<span class="qtext">X</span> (overflow, either not resolved (no overflow area specified) or token fits in overflow area <span class="qtext">c1</span>)) <br>
O (overflow of token and overflow of overflow area <span class="qtext">c1</span>) <br>
</dd>
</dl>
<dl>
<dt><span class="qtext">OFF1</span></dt>
<dd>
Offset in overflow area, if <br> <br>token does not fit completely in field STR and <br>an overflow area <span class="qtext">c1</span> is specified and <br>
token fits completely in overflow area <span class="qtext">c1</span>. <br><br>
</dd>
</dl>
<P>
<span class="bold">Components of the Structure SSTMNT</span> <br><br>
</P>
<P>
The fields of the structure SSTMNT, and thus the columns of the statement table <span class="qtext">itab3</span>, have the following meaning: <br>
</P>
<dl>
<dt><span class="qtext">TYPE</span></dt>
<dd>
Type of statement with possible values: <br> <br>E (
<a href="javascript:call_link('abennative_sql_glosry.html')" class="grey" title="Glossary Entry">Native SQL</a> statement between
<a href="javascript:call_link('abapexec.html')" class="blue"><span class="qtext">EXEC SQL</span></a> and <span class="qtext">ENDEXEC</span> or implementation of an
<a href="javascript:call_link('abenamdp_method_glosry.html')" class="grey" title="Glossary Entry">AMDP method</a> between <a href="javascript:call_link('abapmethod_by_db_proc.html')" class="blue">
<span class="qtext">METHOD - BY DATABASE PROCEDURE, FUNCTION</span></a> and <span class="qtext">ENDMETHOD</span>) <br>
I (<span class="qtext">INCLUDE prog</span>) <br>J (<span class="qtext">INCLUDE prog</span>, <span class="qtext">prog</span> does not exist, can occur only in connection with the addition <span class="qtext">WITH INCLUDES</span>) <br>T
(<span class="qtext">TYPE-POOLS pool</span>) <br>V (<span class="qtext">TYPE-POOLS pool</span>, <span class="qtext">pool</span> does not exist) <br>
R (call a macro from table <span class="qtext">TRMAC</span>) <br>D (call a macro internally defined with <span class="qtext">DEFINE</span>) <br>
M (macro definition between <span class="qtext">DEFINE</span> and <span class="qtext">END-OF-DEFINITION</span>) <br>
C (<span class="qtext">COMPUTE</span> statement, sometimes without <span class="qtext">COMPUTE</span> as first token) <br>
A (method call in short form) <br>K (other ABAP key word) <br>N (blank statement) <br>P (comment between statements) <br>S (comment within statements) <br>U (unknown, non-blank statement) <br>
</dd>
</dl>
<dl>
<dt><span class="qtext">LEVEL</span></dt>
<dd>
Index of source code unit in the level table <span class="qtext">itab</span> specified after <span class="qtext">LEVELS INTO</span> (>= 1, if level table specified, else 0). <br>
</dd>
</dl>
<dl>
<dt><span class="qtext">STRUC</span></dt>
<dd>
Index of the statement in the structure table <span class="qtext">itab</span> specified after <span class="qtext">
STRUCTURES INTO</span> (0 if the structure table is not specified or the structure in which the statement occurs could not be constructed). <br>
</dd>
</dl>
<dl>
<dt><span class="qtext">FROM</span></dt>
<dd>
Index of first token of statement in the token table <span class="qtext">itab2</span>
(<span class="qtext">FROM</span> = <span class="qtext">TO</span> + 1, if the statement consists only of the end marker (comma or period)) <br>
</dd>
</dl>
<dl>
<dt><span class="qtext">TO</span></dt>
<dd>
Index of last token of statement in the token table <span class="qtext">itab2</span> (the end marker of the statement no longer counts as a token) <br>
</dd>
</dl>
<dl>
<dt><span class="qtext">NUMBER</span></dt>
<dd>
Statement counter in a source code unit. Covers all statements, regardless of how many are actually
selected (in cases where a keyword table <span class="qtext">itab</span> is specified after <span class="qtext">KEYWORDS FROM</span>) <br>
</dd>
</dl>
<dl>
<dt><span class="qtext">PREFIXLEN</span></dt>
<dd>
Number of tokens before the colon (with chained statements >= 1, otherwise 0) <br>
</dd>
</dl>
<dl>
<dt><span class="qtext">COLONROW</span></dt>
<dd>
Row number of colon (with chained statements >= 1, otherwise 0) <br>
</dd>
</dl>
<dl>
<dt><span class="qtext">COLONCOL</span></dt>
<dd>
Column number of colon (with chained statements >= 0, otherwise 0) <br>
</dd>
</dl>
<dl>
<dt><span class="qtext">TERMINATOR</span></dt>
<dd>
 End marker of a statement (normally a period or a comma, but <span class="qtext">SPACE</span> in the case of embedded Native SQL statements and internal macro definitions) <br>
</dd>
</dl>
<dl>
<dt><span class="qtext">TROW</span></dt>
<dd>
Row number of the end marker  (>= 1, if <span class="qtext">TERMINATOR &lt;> SPACE</span>, else 0) <br>
</dd>
</dl>
<dl>
<dt><span class="qtext">TCOL</span></dt>
<dd>
Column position of the end marker (>= 0, if <span class="qtext">TERMINATOR &lt;> SPACE</span>, else 0) <br>
</dd>
</dl>
<dl>
<dt><span class="qtext">ENHMT</span></dt>
<dd>
Index in the enhancement table of type <span class="qtext">SENHMT</span>, if the statement was enhanced
or originates completely from an enhancement implementation. If addition <span class="qtext">ENHANCEMENTS INTO itab</span> is not specified, this value is always 0. <br>
</dd>
</dl>
<p><span class="h4">
Notes
</span></p>
<ol>
<li>
When macro calls are expanded, no position specifications are available. The corresponding fields in
the token table <span class="qtext">itab2</span> and in the statement table <span class="qtext">itab3</span> are then set to 0. <br>
<br></li>
<li>
Unlike in the usual syntax check, the following are <span class="bold">not</span> handled as errors:
<br></li>
</ol>
<ul class="disc">
<li>
Comma without preceding colon (the comma then acts as an end marker),
<br><br></li>
<li>
Open chained statement sequence at end of source code, i.e. the last statement is closed by a comma, not by a period,
<br><br></li>
<li>
Open statement at end of source code, i.e. the last statement is closed neither by a period nor by a comma. <br>
<br></li>
</ul>
<ol>
<li>
To enable errors to be analyzed without the program being modified, the additions <span class="qtext">INCLUDE</span>,
<span class="qtext">MESSAGE</span>, <span class="qtext">WORD</span>, <span class="qtext">LINE</span>, and <span class="qtext">OFFSET</span> must be specified to gather information about the error in question. <br><br>
<br></li>
</ol>
<A NAME="@@FROM@@SCAN ABAP-SOURCE (internal)@@"></A>
<A NAME="@@TO@@SCAN ABAP-SOURCE (internal)@@"></A>
<p><span class="h3">
<A NAME="!ABAP_ADDITION_1@1@"></A> <span class="bold">Addition 1</span>
</span></p>
<P>
<span class="qtext">... FROM n1</span>   <br><!-- /A -->
</P>
<p><span class="h3">
<A NAME="!ABAP_ADDITION_2@2@"></A> <span class="bold">Addition 2</span>
</span></p>
<P>
<span class="qtext">... TO&nbsp;&nbsp; n2</span>   <br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<P>
Breaks down the source code table <span class="qtext">itab1</span> into tokens not from start to finish, but only from row <span class="qtext">n1</span> to row <span class="qtext">n2</span>. <br>
 <br>The additions <span class="qtext">FROM n1</span> and <span class="qtext">TO n2</span> must, in this order, follow the specified source code table <span class="qtext">itab1</span>. <br>
</P>
<p><span class="h4">
Notes
</span></p>
<ol>
<li>
When using the specified start <span class="qtext">n1</span>, the addition <span class="qtext">WITHOUT
TRMAC</span> must be used to ensure that there are no unnecessary database accesses to the table <span class="qtext">TRMAC</span>. <br>
<br></li>
<li>
The specified end <span class="qtext">n2</span> is handled as "soft", meaning a statement that begins
on a line &lt;= <span class="qtext">n2</span>, but ends only on a line > <span class="qtext">n2</span>, is returned completely. <br>
 <br>If the specified end <span class="qtext">n2</span> splits a
<a href="javascript:call_link('abenchained_statement_glosry.html')" class="grey" title="Glossary Entry">chained statement</a>,
only the split part up to the next comma is returned completely, not the entire chained statement up to the next period. <br>
<br></li>
<li>
Negative line specifications are not allowed and result in a runtime error. <br>
<br></li>
<li>
A line specification of 0 amounts essentially to no specification. <br>
<br></li>
<li>
If <span class="qtext">n1</span> > number of rows in source code table, the scanner is not called (<span class="qtext">sy-subrc</span> = 2). <br>
<br></li>
<li>
If <span class="qtext">n1</span> > <span class="qtext">n2</span> and <span class="qtext">n2</span> > 0, the scanner is not called (<span class="qtext">sy-subrc = 2</span>). <br><br>
<br></li>
</ol>
<A NAME="@@KEYWORDS FROM@@SCAN ABAP-SOURCE (internal)@@"></A>
<p><span class="h3">
<A NAME="!ABAP_ADDITION_3@3@"></A> <span class="bold">Addition 3</span>
</span></p>
<P>
<span class="qtext">... KEYWORDS&nbsp;&nbsp; FROM itab</span>   <br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<P>
Does not return all statements, only those specified in the keyword table <span class="qtext">itab</span>. <br>
 <br>If the key word table is empty (i.e. it contains 0 rows), all the statements are selected. <br> <br>
The rows of the key word table are handled like a text field. It must be a standard table without secondary keys. <br>
 <br>To select a <a href="javascript:call_link('abennative_sql_glosry.html')" class="grey" title="Glossary Entry">Native SQL</a>
statement or a macro definition, the pseudo keywords EXEC_SQL or DEFINE_MACRO can be specified. It makes
no difference whether the statements <span class="qtext">EXEC</span> or <span class="qtext">DEFINE</span>
occur as well. Native SQL statements and macro definitions are returned as one statement (of type E or M even if the expansion of a macro definition results in more than one statement. <br>
 <br>If the key word table contains a blank row, blank statements are also selected. <br><br>
</P>
<A NAME="@@LEVELS INTO@@SCAN ABAP-SOURCE (internal)@@"></A>
<p><span class="h3">
<A NAME="!ABAP_ADDITION_4@4@"></A> <span class="bold">Addition 4</span>
</span></p>
<P>
<span class="qtext">... LEVELS&nbsp;&nbsp;&nbsp;&nbsp; INTO itab</span>   <br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<P>
Stores details about each edited source code unit (source code table <span class="qtext">itab1</span> itself, expanded
<a href="javascript:call_link('abeninclude_program_glosry.html')" class="grey" title="Glossary Entry">include programs</a>, expanded macro definitions) in the level table <span class="qtext">itab</span>. <br>
 <br>Specify a level table only with the additions <span class="qtext">WITH INCLUDES</span> or <span class="qtext">WITH IMPLICIT ENHANCEMENTS</span>. <br>
 <br>The level table <span class="qtext">itab</span> must have the structure SLEVEL. It must be a standard table without secondary keys. <br>
</P>
<P>
The fields of the structure SLEVEL (and consequently the columns of the level table <span class="qtext">itab</span>) have the following meaning: <br>
</P>
<dl>
<dt><span class="qtext">TYPE</span></dt>
<dd>
Type of source code unit with possible values: <br> <br>P (program) <br>D (internal <span class="qtext">DEFINE</span> macro) <br>R (macro from table <span class="qtext">TRMAC</span>) <br>
</dd>
</dl>
<dl>
<dt><span class="qtext">NAME</span></dt>
<dd>
Name of source code unit (name of include program, macro name) <br>
</dd>
</dl>
<dl>
<dt><span class="qtext">DEPTH</span></dt>
<dd>
Current nesting depth of source code unit (>= 1) <br>
</dd>
</dl>
<dl>
<dt><span class="qtext">LEVEL</span></dt>
<dd>
Index of superior (i.e. including or calling) source code unit in the level table (>= 1, if <span class="qtext">DEPTH</span> >= 2, otherwise 0) <br>
</dd>
</dl>
<dl>
<dt><span class="qtext">STMNT</span></dt>
<dd>
Index of superior (i.e. including or calling) statement in the statement table (>= 1, if <span class="qtext">DEPTH</span> >= 2, otherwise 0) <br>
</dd>
</dl>
<dl>
<dt><span class="qtext">FROM</span></dt>
<dd>
Index of first statement of source code unit in the statement table (>= 1) <br>
</dd>
</dl>
<dl>
<dt><span class="qtext">TO</span></dt>
<dd>
Index of last statement of source code unit in the statement table (>= 1) <br>
</dd>
</dl>
<P>
If the source code unit contains include programs or macro calls, the row range [<span class="qtext">FROM, TO</span>] in the statement table also covers the statements in subordinate source code units. <br>
</P>
<p><span class="h4">
Note
</span></p>
<P>
 Enhancements of type E are saved as normal includes in the level table. <br><br>
</P>
<A NAME="@@STRUCTURES INTO@@SCAN ABAP-SOURCE (internal)@@"></A>
<p><span class="h3">
<A NAME="!ABAP_ADDITION_5@5@"></A> <span class="bold">Addition 5</span>
</span></p>
<P>
<span class="qtext">... STRUCTURES INTO itab</span>   <br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<P>
Details of the construction of the source code table <span class="qtext">itab1</span> are written to the structure table <span class="qtext">itab</span>. <br>
 <br>The structure table <span class="qtext">itab</span> must have the structure SSTRUC. It must be a standard table without secondary keys. <br>
</P>
<P>
If the addition <span class="qtext">STRUCTURES INTO</span> is used, it is essential that <span class="qtext">itab2</span>
has the type STOKES or STOXESX. If not, tokens may be cut off and the structure analysis could fail. <br>
</P>
<P>
The fields in SSTRUC (which are also the columns of structure table <span class="qtext">itab</span>) have the following meanings: <br>
</P>
<dl>
<dt><span class="qtext">TYPE</span></dt>
<dd>
Type of structure with possible values: <br>P (beginning of the source code) <br>R (subroutine) <br>M (macro, <span class="qtext">EXEC SQL</span>) <br>
I (loop) <br>A (case distinction) <br>C (condition in a case distinction) <br>J (jump command) <br>D (structured declaration) <br>E (event) <br>S (sequence of statements with simple structures) <br>
</dd>
</dl>
<dl>
<dt><span class="qtext">STMNT_TYPE</span></dt>
<dd>
The statement type of the beginning of the structure. The values are listed in the type pool <span class="qtext">SCAN</span> in structure <span class="qtext">SCAN_STRUC_STMNT_TYPE</span>. <br>
</dd>
</dl>
<dl>
<dt><span class="qtext">KEY_START</span></dt>
<dd>
Flags whether the start of the structure is described semantically (<span class="qtext">'X'</span> if there is a special statement, otherwise <span class="qtext">' '</span>). <br>
</dd>
</dl>
<dl>
<dt><span class="qtext">KEY_END</span></dt>
<dd>
Flags whether the end of the structure is described semantically (<span class="qtext">'X'</span> if there is a special statement, otherwise <span class="qtext">' '</span>). <br>
</dd>
</dl>
<dl>
<dt><span class="qtext">STMNT_FROM</span></dt>
<dd>
Index of the first statement of the structure in the statement table <span class="qtext">itab3</span>. <br>
</dd>
</dl>
<dl>
<dt><span class="qtext">STMNT_TO</span></dt>
<dd>
Index of the last statement of the structure in the statement table <span class="qtext">itab3</span>. <br>
</dd>
</dl>
<dl>
<dt><span class="qtext">STRUC_FROM</span></dt>
<dd>
Index of the first substructure of the structure in structure table <span class="qtext">itab</span>. <br>
</dd>
</dl>
<dl>
<dt><span class="qtext">STRUC_TO</span></dt>
<dd>
Index of the last substructure of the structure in structure table <span class="qtext">itab</span>. <br>
</dd>
</dl>
<dl>
<dt><span class="qtext">BACK</span></dt>
<dd>
Index of the structure in the structure table <span class="qtext">itab</span> that contains the structure as a substructure (0 if the structure is the root structure of a structure tree). <br>
</dd>
</dl>
<P>
If the program that is executed for the statement has incorrect syntax, the behavior is undefined. <br><br>
</P>
<A NAME="@@OVERFLOW INTO@@SCAN ABAP-SOURC (internal)E@@"></A>
<p><span class="h3">
<A NAME="!ABAP_ADDITION_6@6@"></A> <span class="bold">Addition 6</span>
</span></p>
<P>
<span class="qtext">... OVERFLOW INTO c1</span>   <br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<P>
This addition is only allowed and required if the token table <span class="qtext">itab2</span> has the structure STOKEN or STOKEX. <br>
If a token is too large to be stored in the token table in the field STR, it is placed in the overflow
area <span class="qtext">c1</span>. The offset of the token in the overflow area then lies in the token table in the field OFF1. <br><br>
</P>
<A NAME="@@WITH ANALYSIS@@SCAN ABAP-SOURCE (internal)@@"></A>
<p><span class="h3">
<A NAME="!ABAP_ADDITION_7@7@"></A> <span class="bold">Addition 7</span>
</span></p>
<P>
<span class="qtext">... WITH ANALYSIS</span>   <br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<P>
Breaks down each token t = a+b(c) according to the logic of the RSYN key word <span class="qtext">ANALYSIS</span> into its three components a, b, and c. <br>
 <br>Offset and length of components a, b and, c are stored in the fields LEN1, OFF2, LEN2, OFF3, and LEN3 in the token table. (The offset of OFF1 is always 0 and therefore not required.) <br>
 <br>If the addition <span class="qtext">WITH ANALYSIS</span> is specified, the token table <span class="qtext">itab2</span>
must have the structure STOKESX, so that the fields LEN1, OFF2, LEN2, OFF3 and LEN3 are available.
</P>
<P>
If the token table has the structure STOKEX, you must consider the following: <br>If the whole token
exists in the token table, the offset specifications are relative to the token start. If the token is
in the overflow area <span class="qtext">c1</span>, the offsets specified are relative to the start of the overflow area. <br><br>
</P>
<A NAME="@@WITH DECLARATIONS@@SCAN ABAP-SOURCE (internal)@@"></A>
<p><span class="h3">
<A NAME="!ABAP_ADDITION_8@8@"></A> <span class="bold">Addition 8</span>
</span></p>
<P>
<span class="qtext">... WITH DECLARATIONS</span>   <br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<P>
Returns all declarative statements and all statements with <a href="javascript:call_link('abeninline_declaration_glosry.html')" class="grey" title="Glossary Entry">inline declarations</a>. <br><br>
</P>
<A NAME="@@WITH BLOCKS@@SCAN ABAP-SOURCE (internal)@@"></A>
<p><span class="h3">
<A NAME="!ABAP_ADDITION_9@9@"></A> <span class="bold">Addition 9</span>
</span></p>
<P>
<span class="qtext">... WITH BLOCKS</span>   <br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<P>
Returns all statements that define a processing block or a statement block. <br><br>
</P>
<A NAME="@@WITH COMMENTS@@SCAN ABAP-SOURCE (internal)@@"></A>
<p><span class="h3">
<A NAME="!ABAP_ADDITION_10@10@"></A> <span class="bold">Addition 10</span>
</span></p>
<P>
<span class="qtext">... WITH COMMENTS</span>   <br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<P>
Also returns comments, with each individual comment representing a token. Also writes entries for each
cohesive block to the table <span class="qtext">itab3</span>. Here, a distinction is made between comments
within statements and comments at program level. In <span class="qtext">itab3</span>, an entry for a comment within a statement always comes before the statement containing the comment. <br>
</P>
<p><span class="h4">Example</span></p>
<P>
Look at the following program fragment. The prefixed numbers are the indexes of the tokens. <br>
</P>
<dl>

<dd>
<span class="qtext">1&nbsp;&nbsp;&nbsp;&nbsp;* An example</span> <br><span class="qtext">2&nbsp;&nbsp;&nbsp;&nbsp;* with scattered comments</span> <br>
<span class="qtext">6&nbsp;&nbsp;&nbsp;&nbsp;MOVE</span> <br><span class="qtext">3&nbsp;&nbsp;&nbsp;&nbsp;* inserted comment 1</span> <br>
<span class="qtext">7&nbsp;&nbsp;&nbsp;&nbsp;X</span> <br><span class="qtext">4&nbsp;&nbsp;&nbsp;&nbsp;* inserted comment 2</span> <br>
<span class="qtext">8&nbsp;&nbsp;&nbsp;&nbsp;TO</span> <br><span class="qtext">9&nbsp;&nbsp;&nbsp;&nbsp;Y</span> <br><span class="qtext">5&nbsp;&nbsp;&nbsp;&nbsp;* inserted comment 3</span> <br>     . <br><br>
</dd>
</dl>
<P>
<span class="qtext">SCAN</span> then enters the following values for the components <span class="qtext">TYPE</span>,
<span class="qtext">FROM</span> and <span class="qtext">TO</span> (in this order from left to right) into <span class="qtext">itab3</span>. <br><br>
</P>
<table border>
<tr>
<td>'P'</td>
<td>1</td>
<td>2</td>
</tr>
<tr>
<td>'S'</td>
<td>3</td>
<td>5</td>
</tr>
<tr>
<td>'K'</td>
<td>6</td>
<td>9</td>
</tr>
</table><br>
<p><span class="h4">
Note
</span></p>
<P>
If the addition <span class="qtext">WITH COMMENTS</span> is used, the table <span class="qtext">itab2</span> must have the row type STOKES or STOKESX. <br><br>
</P>
<A NAME="@@WITH PRAGMAS@@SCAN ABAP-SOURCE (internal)@@"></A>
<p><span class="h3">
<A NAME="!ABAP_ADDITION_11@11@"></A> <span class="bold">Addition 11</span>
</span></p>
<P>
<span class="qtext">... WITH PRAGMAS pragmas</span>   <br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<P>
This addition returns all relevant pragmas for each statement before the first correct token of the
statement but after a block of comments collected using the addition <span class="qtext">WITH COMMENTS</span>.
<span class="qtext">pragmas</span> expects a data object of the type <span class="qtext">c</span> with length 1, usually containing the value "*". Other values are intended for and recognized by special test tools.
</P>
<P>
A block of pragmas is combined in the statement table under the statement type "G". In this way, the block sequence is for a statement which contains comments and matching pragmas "S-G-K".
</P>
<P>
Pragmas which are not determined for ABAP Compiler are searched for in the <span class="lnkgrey">TRPRAGMA</span> database table.
</P>
<P>
Illegal (for example, unknown or lexically incorrect) pragmas are processed in the same way as legal
pragmas, that is, they are summarized in a block preceding the actual statement (ID "G"). This corresponds to the behavior of the scanner in the compiler. <br><br>
</P>
<A NAME="@@WITH INCLUDES@@SCAN ABAP-SOURCE (internal)@@"></A>
<A NAME="@@IMPLEMENTATIONS FROM@@SCAN ABAP-SOURCE (internal)@@"></A>
<p><span class="h3">
<A NAME="!ABAP_ADDITION_12@12@"></A> <span class="bold">Addition 12</span>
</span></p>
<P>
<span class="qtext">... WITH INCLUDES <i class=bn>[</i>IMPLEMENTATIONS FROM itab<i class=bn>]</i></span>   <br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<P>
 Also breaks down subordinate source code units (include programs, called macros) into tokens.
</P>
<P>
In addition, <a href="javascript:call_link('abensource_code_plugin_glosry.html')" class="grey" title="Glossary Entry">source code plug-ins</a> of explicit and implicit
<a href="javascript:call_link('abenenhancement_point_glosry.html')" class="grey" title="Glossary Entry">enhancement options</a>
which may exist are automatically inserted in the source code to be split. The optional addition <span class="qtext">
IMPLEMENTATIONS FROM itab</span> can be used to limit the number of inserted enhancements to the number
specified in <span class="qtext">itab</span>. If <span class="qtext">itab</span> is empty, any enhancements are ignored. <span class="qtext">itab</span> must be a standard table without secondary keys. <br><br>
</P>
<p><span class="h4">
Notes
</span></p>
<ol>
<li>
The addition <span class="qtext">WITH INCLUDES</span> is normally combined with the addition <span class="qtext">LEVELS INTO</span> <span class="qtext">itab</span>. <br>
<br></li>
<li>
If (at least) one include program does not exist, <span class="qtext">sy-subrc</span> is set to 1 and
the relevant <span class="qtext">INCLUDE</span> statement is flagged in the statement table <span class="qtext">itab3</span>
by the statement type J (instead of I), but the breakdown process continues. The level table <span class="qtext">itab</span> contains no entry for
<a href="javascript:call_link('abeninclude_program_glosry.html')" class="grey" title="Glossary Entry">include programs</a> that do not exist. <br>
<br></li>
<li>
If <span class="qtext">WITH INCLUDES</span> is combined with the addition <span class="qtext">WITHOUT TRMAC</span>, <span class="qtext">TRMAC</span>
<a href="javascript:call_link('abenmacro_glosry.html')" class="grey" title="Glossary Entry">macros</a> are not expanded because the system does not recognize them as subordinate source code units. <br>
<br></li>
<li>
When macro calls are expanded, no positions can be specified. The corresponding fields in the token
table <span class="qtext">itab2</span> and in the statement table <span class="qtext">itab3</span> are then set to 0. <br>
<br></li>
<li>
The additions <span class="qtext">FRAME PROGRAM FROM</span> and <span class="qtext">INCLUDE PROGRAM FROM</span> are required to correctly resolve the source code enhancements. <br>
<br></li>
<li>
The addition <span class="qtext">INCLUDE PROGRAM FROM</span> is required to resolve the include programs for methods of global classes. <br><br>
<br></li>
</ol>
<A NAME="@@WITH TYPE-POOLS@@SCAN ABAP-SOURCE (internal)@@"></A>
<p><span class="h3">
<A NAME="!ABAP_ADDITION_13@13@"></A> <span class="bold">Addition 13</span>
</span></p>
<P>
<span class="qtext">... WITH TYPE-POOLS</span>   <br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<P>
This addition has the same effect as the <span class="qtext">WITH INCLUDES</span> addition, except that with the former, include programs belonging to
<a href="javascript:call_link('abentype_group_1_glosry.html')" class="grey" title="Glossary Entry">type groups</a> are broken down into tokens. <br><br>
</P>
<A NAME="@@WITH LIST TOKENIZATION@@SCAN ABAP-SOURCE (internal)@@"></A>
<p><span class="h3">
<A NAME="!ABAP_ADDITION_14@14@"></A> <span class="bold">Addition 14</span>
</span></p>
<P>
<span class="qtext">... WITH LIST TOKENIZATION</span>   <br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<P>
Tokens of the form <span class="qtext">(a1, a2, a3)</span> are not returned as tokens but broken down into the elementary components. <br><br>
</P>
<A NAME="@@PRESERVING IDENTIFIER ESCAPING@@SCAN ABAP-SOURCE (internal)@@"></A>
<p><span class="h3">
<A NAME="!ABAP_ADDITION_15@15@"></A> <span class="bold">Addition 15</span>
</span></p>
<P>
<span class="qtext">... PRESERVING IDENTIFIER ESCAPING</span>   <br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<P>
By default, exclamation marks before labels are deleted. Exclamation marks can be used to distinguish between labels and key words. This addition prevents their deletion. <br><br>
</P>
<A NAME="@@WITHOUT TRMAC@@SCAN ABAP-SOURCE (internal)@@"></A>
<p><span class="h3">
<A NAME="!ABAP_ADDITION_16@16@"></A> <span class="bold">Addition 16</span>
</span></p>
<P>
<span class="qtext">... WITHOUT TRMAC</span>   <br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<P>
If a statement does not start with an ABAP keyword or with a <span class="qtext">DEFINE</span> macro,
the system does not check whether this is a <span class="qtext">TRMAC</span> macro, but assumes that
the statement is unknown. (Unknown statements are flagged in the statement table <span class="qtext">itab3</span> with a U in the field <span class="qtext">TYPE</span>.) <br>
 <br>To avoid unnecessary database accesses to the table <span class="qtext">TRMAC</span>, the addition
<span class="qtext">WITHOUT TRMAC</span> should be used whenever it is assumed that the source code
being scanned contains unknown statements. Unknown statements are particularly likely to occur if the
addition <span class="qtext">FROM n1</span> is used, because the scanner does not start at the beginning of the source code, but from a specified point. <br>
</P>
<p><span class="h4">
Note
</span></p>
<P>
If <span class="qtext">WITHOUT TRMAC</span> is used with <span class="qtext">WITH INCLUDES</span>, <span class="qtext">
TRMAC</span> macros are not expanded because the system does not recognize them as subordinate source code units. <br><br>
</P>
<A NAME="@@INCLUDE PROGRAM FROM@@SCAN ABAP-SOURCE (internal)@@"></A>
<A NAME="@@PROGRAM FROM@@SCAN ABAP-SOURCE (internal)@@"></A>
<A NAME="@@INCLUDE INTO@@SCAN ABAP-SOURCE (internal)@@"></A>
<A NAME="@@MESSAGE INTO@@SCAN ABAP-SOURCE (internal)@@"></A>
<A NAME="@@WORD INTO@@SCAN ABAP-SOURCE (internal)@@"></A>
<A NAME="@@LINE INTO@@SCAN ABAP-SOURCE (internal)@@"></A>
<A NAME="@@OFFSET INTO@@SCAN ABAP-SOURCE (internal)@@"></A>
<p><span class="h3">
<A NAME="!ABAP_ADDITION_17@17@"></A> <span class="bold">Addition 17</span>
</span></p>
<P>
<span class="qtext">... <i class=bn>[</i>INCLUDE<i class=bn>]</i> PROGRAM FROM c2</span>   <br><!-- /A -->
</P>
<p><span class="h3">
<A NAME="!ABAP_ADDITION_18@18@"></A> <span class="bold">Addition 18</span>
</span></p>
<P>
<span class="qtext">... INCLUDE INTO c3</span>   <br><!-- /A -->
</P>
<p><span class="h3">
<A NAME="!ABAP_ADDITION_19@19@"></A> <span class="bold">Addition 19</span>
</span></p>
<P>
<span class="qtext">... MESSAGE INTO c4</span>   <br><!-- /A -->
</P>
<p><span class="h3">
<A NAME="!ABAP_ADDITION_20@20@"></A> <span class="bold">Addition 20</span>
</span></p>
<P>
<span class="qtext">... WORD&nbsp;&nbsp;&nbsp;&nbsp;INTO c5</span>   <br><!-- /A -->
</P>
<p><span class="h3">
<A NAME="!ABAP_ADDITION_21@21@"></A> <span class="bold">Addition 21</span>
</span></p>
<P>
<span class="qtext">... LINE&nbsp;&nbsp;&nbsp;&nbsp;INTO n3</span>   <br><!-- /A -->
</P>
<p><span class="h3">
<A NAME="!ABAP_ADDITION_22@22@"></A> <span class="bold">Addition 22</span>
</span></p>
<P>
<span class="qtext">... OFFSET&nbsp;&nbsp;INTO n4</span>   <br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<P>
The above additions have the same effect as the corresponding additions in the statement <a href="javascript:call_link('abapsyntax-check_for_itab.html')" class="blue">
<span class="qtext">SYNTAX-CHECK</span></a>: <span class="qtext">c2</span> is an input field for a program
name to be assigned to the source code, the fields <span class="qtext">c3, c4, c5, n3</span>, and <span class="qtext">n4</span> are output fields, used when errors occur.
</P>
<P>
In Release 7.00, the addition <span class="qtext">PROGRAM FROM</span> was renamed as <span class="qtext">INCLUDE
PROGRAM FROM</span> to clarify the difference between the master program and the split source code unit.
If the addition is used in its previous form <span class="qtext">PROGRAM FROM</span>, it sets the master program and the source code text unit to be scanned at the same time. <br>
 <br>To be able to analyze error situations without modifying programs, it is vital that the additions
<span class="qtext">INCLUDE INTO</span>, <span class="qtext">MESSAGE INTO</span>, <span class="qtext">WORD
INTO</span>, <span class="qtext">LINE INTO</span>, and <span class="qtext">OFFSET INTO</span> are specified. These additions provide information about the error in question. <br><br>
</P>
<A NAME="@@WITH EXPLICIT ENHANCEMENTS@@SCAN ABAP-SOURCE (internal)@@"></A>
<p><span class="h3">
<A NAME="!ABAP_ADDITION_23@23@"></A> <span class="bold">Addition 23</span>
</span></p>
<P>
 <span class="qtext">... WITH EXPLICIT ENHANCEMENTS <i class=bn>[</i>IMPLEMENTATIONS FROM itab<i class=bn>]</i></span>   <br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<P>
When <span class="qtext">WITH EXPLICIT ENHANCEMENTS</span> is specified, the existing
<a href="javascript:call_link('abensource_code_plugin_glosry.html')" class="grey" title="Glossary Entry">source code plug-ins</a> for explicit
<a href="javascript:call_link('abenenhancement_point_glosry.html')" class="grey" title="Glossary Entry">enhancement points</a> are automatically inserted into the split source code.
</P>
<P>
The optional addition <span class="qtext">IMPLEMENTATIONS FROM</span> can limit the number of inserted
enhancements to the number specified in <span class="qtext">itab</span>. If <span class="qtext">itab</span> is empty, any enhancements are ignored. <br><br>
</P>
<A NAME="@@WITH IMPLICIT ENHANCEMENTS@@SCAN ABAP-SOURCE (internal)@@"></A>
<p><span class="h3">
<A NAME="!ABAP_ADDITION_24@24@"></A> <span class="bold">Addition 24</span>
</span></p>
<P>
 <span class="qtext">... WITH IMPLICIT ENHANCEMENTS <i class=bn>[</i>IMPLEMENTATIONS FROM itab<i class=bn>]</i></span>   <br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<P>
When <span class="qtext">WITH IMPLICIT ENHANCEMENTS</span> is specified, the existing
<a href="javascript:call_link('abensource_code_plugin_glosry.html')" class="grey" title="Glossary Entry">source code plug-ins</a> for implicit
<a href="javascript:call_link('abenenhancement_point_glosry.html')" class="grey" title="Glossary Entry">enhancement points</a> are automatically inserted into the split source code.
</P>
<P>
The optional addition <span class="qtext">IMPLEMENTATIONS FROM</span> can limit the number of inserted
enhancements to the number specified in <span class="qtext">itab</span>. If <span class="qtext">itab</span> is empty, any enhancements are ignored. <br><br>
</P>
<A NAME="@@ENHANCEMENT OPTIONS INTO@@SCAN ABAP-SOURCE (internal)@@"></A>
<p><span class="h3">
<A NAME="!ABAP_ADDITION_25@25@"></A> <span class="bold">Addition 25</span>
</span></p>
<P>
<span class="qtext">... ENHANCEMENT OPTIONS INTO itab</span>   <br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<P>
Details about the enhancement points that exist in the source code unit that is being edited are stored
in the description table <span class="qtext">itab</span>. It therefore only makes sense to specify an
enhancement table together with additions <span class="qtext">WITH INCLUDES</span>, <span class="qtext">WITH EXPLICIT ENHANCEMENTS</span>, or <span class="qtext">WITH IMPLICIT ENHANCEMENTS</span>.
</P>
<P>
The level table <span class="qtext">itab</span> must be a standard table without a secondary key and must have the row structure SEOPTN whose fields have the following meaning: <br><br>
</P>
<dl>
<dt><span class="qtext">LEVEL</span></dt>
<dd>
Index of the relevant entry in the level table. If this information is required, the addition <span class="qtext">LEVELS INTO</span> must be specified at the same time to fill the level table. <br><br>
</dd>
</dl>
<dl>
<dt><span class="qtext">ROW</span>, <span class="qtext">COL</span></dt>
<dd>
Position of the enhancement option in the source code. This position is not unique, since enhancements can be inserted to all blanks around the position specified by ROW and COLUMN. <br><br>
</dd>
</dl>
<dl>
<dt><span class="qtext">FULL_NAME</span></dt>
<dd>
Full name of the enhancement option. This name uniquely identifies an implicit enhancement option. <br><br>
</dd>
</dl>
<dl>
<dt><span class="qtext">TYPE</span></dt>
<dd>
The type of enhancement option. I is for an implicit enhancement option and E is for an explicit enhancement option. <br><br>
</dd>
</dl>
<dl>
<dt><span class="qtext">MODE</span></dt>
<dd>
The mode of the enhancement option. Type S is for static, type D is for dynamic, and type A is for any enhancement option. <br><br>
</dd>
</dl>
<dl>
<dt><span class="qtext">ENHMT</span></dt>
<dd>
Index of the first relevant enhancement implementation in the enhancement table or 0 if the enhancement
option is not implemented. If this information is required, the addition <span class="qtext">ENHANCEMENTS INTO</span> must be specified at the same time to fill the enhancement table. <br><br>
</dd>
</dl>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>
The additions <span class="qtext">FRAME PROGRAM FROM</span> and <span class="qtext">INCLUDE PROGRAM
FROM</span> are used, especially for explicit enhancement points, to find out the name of the master
program or the name of the current include program. These names are used to determine the full names of explicit enhancement options.
<br><br></li>
<li>
The addition <span class="qtext">ENHANCEMENT OPTIONS INTO</span> is independent of the addition <span class="qtext">ENHANCEMENTS INTO</span> and they can be used at the same time. <br><br>
<br></li>
</ul>
<A NAME="@@ENHANCEMENTS INTO@@SCAN ABAP-SOURCE (internal)@@"></A>
<p><span class="h3">
<A NAME="!ABAP_ADDITION_26@26@"></A> <span class="bold">Addition 26</span>
</span></p>
<P>
<span class="qtext">... ENHANCEMENTS INTO itab</span>   <br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<P>
Details of the enhancement implementations in the source code that is being edited are saved in the
enhancement table <span class="qtext">itab</span>. It therefore only makes sense to specify an enhancement
table together with additions <span class="qtext">WITH INCLUDES</span>, <span class="qtext">WITH EXPLICIT ENHANCEMENTS</span>, or <span class="qtext">WITH IMPLICIT ENHANCEMENTS</span>.
</P>
<P>
The enhancement table <span class="qtext">itab</span> must be a standard table without secondary keys and have the row structure SENHMT, whose fields have the following meaning: <br><br>
</P>
<dl>
<dt><span class="qtext">ENHMT</span></dt>
<dd>
The index of the superior enhancement. <br>
</dd>
</dl>
<dl>
<dt><span class="qtext">STMNT</span></dt>
<dd>
The index of the statement in the statement table to which the enhancement is connected (such as <span class="qtext">
ENHANCEMENT-POINT</span> for explicit enhancements or <span class="qtext">METHOD</span> for an implicit enhancement of a method implementation). <br>
</dd>
</dl>
<dl>
<dt><span class="qtext">FROM</span></dt>
<dd>
With regular enhancements (type "E"), this is the index of the first statement of the enhancement in
the statement table. With fragmentary enhancements (type "F"), this is the index of the first token of the enhancement in the token table. <br>
</dd>
</dl>
<dl>
<dt><span class="qtext">TO</span></dt>
<dd>
With regular enhancements (type "E"), this is the index of the last statement of the enhancement in
the statement table. With fragmentary enhancements (type "F"), this is the index of the first token of the enhancement in the token table. <br>
</dd>
</dl>
<dl>
<dt><span class="qtext">NAME</span></dt>
<dd>
Name of the enhancement. <br>
</dd>
</dl>
<dl>
<dt><span class="qtext">INCLUDE</span></dt>
<dd>
Name of the include that contains the implementation of the enhancement. <br>
</dd>
</dl>
<dl>
<dt><span class="qtext">ID</span></dt>
<dd>
Internal ID of the enhancement implementation within the implementation include. <br>
</dd>
</dl>
<dl>
<dt><span class="qtext">TYPE</span></dt>
<dd>
Type of the enhancement. Type "E" stands for a normal enhancement with one or more complete statements. Type "F" stands for a fragmentary enhancement of one or more tokens within an individual statement. <br>
</dd>
</dl>
<dl>
<dt><span class="qtext">MODE</span></dt>
<dd>
 Mode of the enhancement: <span class="qtext400">"D"</span> (dynamic) or <span class="qtext400">"S"</span> (static). <br><br>
</dd>
</dl>
<p><span class="h4">
Notes
</span></p>
<ul class="disc">
<li>
For enhancements to be identified correctly, it is imperative that the additions <span class="qtext">FRAME PROGRAM FROM</span> and <span class="qtext">INCLUDE PROGRAM FROM</span> are specified correctly.
<br><br></li>
<li>
Multiple fragmentary enhancements can exist for a statement. In this case, the statement table refers
to the entry in the first enhancement in the enhancement table; all other enhancements are connected directly to this and can be identified uniquely using the STMNT field.
<br><br></li>
<li>
The addition <span class="qtext">ENHANCEMENT INTO</span> is independent of the addition <span class="qtext">ENHANCEMENTS OPTIONS INTO</span> and they can be used at the same time. <br><br>
<br></li>
</ul>
<A NAME="@@WITH INACTIVE ENHANCEMENTS@@SCAN ABAP-SOURCE (internal)@@"></A>
<p><span class="h3">
<A NAME="!ABAP_ADDITION_27@27@"></A> <span class="bold">Addition 27</span>
</span></p>
<P>
 <span class="qtext">... WITH INACTIVE ENHANCEMENTS</span>   <br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<P>
This addition is only possible with <span class="qtext">ENHANCEMENTS INTO</span>. If <span class="qtext">WITH
INACTIVE ENHANCEMENTS</span> is specified as well, deactivated or overwritten enhancement implementations
are respected. For these, the values "e" and "f" are stored instead of "E" and "F" in the <span class="qtext">TYPE</span> column of the <span class="qtext">itab</span> enhancement table. <br><br>
</P>
<A NAME="@@FRAME PROGRAM FROM@@SCAN ABAP-SOURCE (internal)@@"></A>
<p><span class="h3">
<A NAME="!ABAP_ADDITION_28@28@"></A> <span class="bold">Addition 28</span>
</span></p>
<P>
 <span class="qtext">... FRAME PROGRAM FROM c2</span>   <br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<P>
Using this addition, the framework program is specified to the source code unit that is broken down. This is necessary, especially for inserting
<a href="javascript:call_link('abensource_code_plugin_glosry.html')" class="grey" title="Glossary Entry">source code plug-ins</a> correctly.
</P>
<p><span class="h4">
Note
</span></p>
<P>
In the case of the master program, remember that even when this addition of the statement <span class="qtext">SCAN</span>
is specified, it is not edited at the same time. The statement <span class="qtext">SCAN</span> always
edits only the passed source code and possibly the included type groups or include programs. To edit
an include program in its context, the master program must be passed itself. Here, any non-relevant
include programs can be hidden using the addition <span class="qtext">REPLACING</span>. As an alternative
to the use of <span class="qtext">REPLACING</span>, a mock master program, which constructs the correct context for include programs to be edited but remains empty the rest of the time, is also possible. <br><br>
</P>
<A NAME="@@REPLACING@@SCAN ABAP-SOURCE (internal)@@"></A>
<p><span class="h3">
<A NAME="!ABAP_ADDITION_29@29@"></A> <span class="bold">Addition 29</span>
</span></p>
<P>
<span class="qtext">... REPLACING itab</span>   <br><!-- /A -->
</P>
<p><span class="h4">
Effect
</span></p>
<P>
Individual <span class="qtext">INCLUDE</span> statements can be overridden by specifying an internal
table of type SREPTAB. If <span class="qtext">itab</span> contains an entry <span class="qtext400">"INCL"</span>
in column <span class="qtext">name</span>, the statement <span class="qtext">INCLUDE incl</span> does not read the include INCL. Instead the source code from column <span class="qtext">itab-source</span> is inserted.
</P>
<P>
It has the same effect as the addition <span class="qtext">REPLACING</span> of the internal statement
<a href="javascript:call_link('abapsyntax-check_for_program.html')" class="blue"><span class="qtext">SYNTAX-CHECK FOR PROGRAM</span></a>.  However, the entry <span class="qtext">itab-trdir</span> is ignored.
</P>
<P>
<span class="qtext">itab</span> must be a standard table without secondary keys. <br><br>
</P>
<A NAME="@@SCAN AND CHECK ABAP-SOURCE@@!ABAP_STATEMENT_INT!@@"></A>
<A NAME="@@RESULT INTO@@SCAN AND CHECK ABAP-SOURCE (internal)@@"></A>
<p><span class="h2">
<A NAME="!ABAP_VARIANT_2@2@"></A> <span class="bold">Variant 2</span>
</span></p>
<P>
<span class="qtext">SCAN AND CHECK ABAP-SOURCE itab1 ...RESULT INTO itab2.</span> <br><br><br><!-- /A -->
</P>
<P>
Parts marked with " ..." are interchangeable. <br><br>
</P>
<p><span class="h3">
Extras:
</span></p>
<P>
   <A HREF="#!ABAP_ADDITION_1@30@" class="blue"> 1. <span class="qtext">... PROGRAM FROM c1</span> </A> <br>
2. <span class="qtext">... INCLUDE INTO c2</span> <br>3. <span class="qtext">... MESSAGE INTO c3</span> <br>
4. <span class="qtext">... WORD&nbsp;&nbsp;&nbsp;&nbsp;INTO c4</span> <br>5. <span class="qtext">... LINE&nbsp;&nbsp;&nbsp;&nbsp;INTO n1</span> <br>6. <span class="qtext">... OFFSET&nbsp;&nbsp;INTO n2</span> <br>
</P>
<p><span class="h4">
Effect
</span></p>
<P>
 <br>
</P>
<P>
Checks the syntax of the program in table <span class="qtext">itab1</span>. This check writes all information
collected about the program, such as statement structures, statements, tokens, data objects, or types,
to the variable <span class="qtext">result</span>. Here, <span class="qtext">result</span> must have the type SYSCH_RESULT, defined in the
<a href="javascript:call_link('abentype_group_1_glosry.html')" class="grey" title="Glossary Entry">type group</a> <span class="lnkgrey">SYSCH</span>. <br><br>
</P>
<A NAME="@@PROGRAM FROM@@SCAN AND CHECK ABAP-SOURCE (internal)@@"></A>
<A NAME="@@INCLUDE INTO@@SCAN AND CHECK ABAP-SOURCE (internal)@@"></A>
<A NAME="@@MESSAGE INTO@@SCAN AND CHECK ABAP-SOURC (internal)E@@"></A>
<A NAME="@@WORD INTO@@SCAN AND CHECK ABAP-SOURCE (internal)@@"></A>
<A NAME="@@LINE INTO@@SCAN AND CHECK ABAP-SOURCE (internal)@@"></A>
<A NAME="@@OFFSET INTO@@SCAN AND CHECK ABAP-SOURCE (internal)@@"></A>
<p><span class="h3">
<A NAME="!ABAP_ADDITION_1@30@"></A> <span class="bold">Addition 1</span>
</span></p>
<P>
<span class="qtext">... PROGRAM FROM c1</span>   <br><!-- /A -->
</P>
<p><span class="h3">
<A NAME="!ABAP_ADDITION_2@31@"></A> <span class="bold">Addition 2</span>
</span></p>
<P>
<span class="qtext">... INCLUDE INTO c2</span>   <br><!-- /A -->
</P>
<p><span class="h3">
<span class="bold">Addition 3</span>
</span></p>
<P>
<span class="qtext">... MESSAGE INTO c3</span>
</P>
<p><span class="h3">
<span class="bold">Addition 4</span>
</span></p>
<P>
<span class="qtext">... WORD&nbsp;&nbsp;&nbsp;&nbsp;INTO c4</span>
</P>
<p><span class="h3">
<span class="bold">Addition 5</span>
</span></p>
<P>
<span class="qtext">... LINE&nbsp;&nbsp;&nbsp;&nbsp;INTO n1</span>
</P>
<p><span class="h3">
<span class="bold">Addition 6</span>
</span></p>
<P>
<span class="qtext">... OFFSET&nbsp;&nbsp;INTO n2</span>
</P>
<p><span class="h4">
Effect
</span></p>
<P>
The above additions have the same effect as the corresponding additions in the statement <a href="javascript:call_link('abapsyntax-check_for_itab.html')" class="blue">
<span class="qtext">SYNTAX-CHECK</span></a>: <span class="qtext">c1</span> is an input field for a program
name to be assigned to the source code, the fields <span class="qtext">c2, c3, c4, n1</span>, and <span class="qtext">n2</span> are output fields, used when errors occur. <br>
 <br>To enable errors to be analyzed without the program being modified, the additions <span class="qtext">INCLUDE</span>,
<span class="qtext">MESSAGE</span>, <span class="qtext">WORD</span>, <span class="qtext">LINE</span>, and <span class="qtext">OFFSET</span> must be specified to gather information about the error in question. <br><br>
</P>
<p><span class="h4">
<a href="javascript:call_link('abenabap_language_exceptions.html')" class="blue">Exceptions</a>
</span></p>
<P>
<span class="bold">Handleable Exceptions</span>
</P>
<P>
<span class="lnkgrey">CX_SY_SCAN_SOURCE_TOO_WIDE</span>
</P>
<ul class="disc">
<li>
<span class="italic">Cause:</span> A string was passed that is longer than 32767 characters, or a string table that contains a row with more than 32767 characters. <br>
<span class="italic">Runtime error:</span> <span class="qtext">SCAN_SOURCE_TOO_WIDE</span> <br><br>
<br></li>
</ul>
<br>
<br>
<br>
<br>
</DIV>
<fieldset style="opacity:0">
<input id="url" type="text" />
</fieldset>
</BODY>

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abapscan.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:51:47 GMT -->
</html>

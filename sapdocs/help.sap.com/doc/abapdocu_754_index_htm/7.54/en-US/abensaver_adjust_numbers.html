<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="EN">
<!-- ABENSAVER_ADJUST_NUMBERS -->

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abensaver_adjust_numbers.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:51:33 GMT -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="author" content="SAP">
<meta name="description" content="Method ADJUST_NUMBERS">
<title>
Method ADJUST_NUMBERS - ABAP Keyword Documentation
</title>
<link rel="icon" href="ABAPIcon.ico" type="image/ico">
<link rel="shortcut icon" href="ABAPIcon.ico">
<LINK rel="stylesheet" href="abap_docu.css" type="text/css">
<script language="javascript" type="text/javascript" src="functions.js"></script>
<script type="text/JavaScript">
function urlToClipboard(id){
 try{ var loc = top.location.href;}
 catch(e){ alert( "URL cannnot be determined" ); return; }
 var field = document.getElementById(id);
 field.focus();
 if ( loc.search( ".htm" ) == -1 && loc.search( ".HTM" ) == -1  ){ loc = loc + "index.htm"; }
 if (   loc.search( "index.html" ) != -1
     || loc.search( "INDEX-2.html" ) != -1 ){
   var off = loc.search( "file=" );
   if ( off == -1  ){
     field.value = loc + "?file=abensaver_adjust_numbers.htm"; }
   else {
     field.value = loc.substring( 0, off ) + "file=abensaver_adjust_numbers.htm";
   }
 }
 else {
    field.value = loc; }
 field.setSelectionRange(0, field.value.length);
 var r = confirm( "Copy URL to clipboard?\n\n" + field.value + "\n\nCopy to clipboard does not work in all browsers." );
 if (r == true) {
   try{
     document.execCommand("copy");
   }
     catch(e){ alert( "URL could not be copied to clipboard" ); }
 }
 window.scrollTo(0,0);
}
</script>
</head>
<body>
<div class="all">
<div style="float:right;">
<input type="button" value="URL"
style="font-size:10px; width:30px; height:18px; padding:0; "
onclick="urlToClipboard('url')" title="Copy URL to Clipboard" ></div>
<p>
<input name="query" id="query" value="" type="text" title="Suchbegriff" size="30" maxlength="30" onkeyup="getInput()">&nbsp;
<input type="button" value="Search"
style="font-size:12px; width:50px; height:18px; padding:0"
onclick="call_search('search.html')" title="Search in ABAP Keyword Documentation" >
<hr style="width:100%;height:1px"></p>
<p class="copyright">AS ABAP Release 754, &copy;Copyright 2019 SAP SE. All rights reserved.</p>
<span class="path">
<a href="javascript:call_link('abenabap.html')" class="blue">ABAP Keyword Documentation</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_reference.html')" class="blue">ABAP &#x2212; Reference</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenrestful_abap_programming.html')" class="blue">ABAP RESTful Programming Model</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_behavior_implementations.html')" class="blue">Behavior Implementations</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenrpm_saver_class.html')" class="blue">Saver Class</a>&nbsp;&rarr;&nbsp;
</span>
<A NAME="@@ADJUST_NUMBERS@@!ABAP_REST_BEHAVIOR!@@"></A>
<p><span class="h1">
Method ADJUST_NUMBERS
</span></p>
<p>
The method <span class="qtext400">adjust_numbers</span> of the local
<a href="javascript:call_link('abenrpm_saver_class.html')" class="blue">saver class</a> is the third method of the saver sequence
of the behavior implementation of a business object. If the second method of the saver sequence <a href="javascript:call_link('abensaver_check_before_save.html')" class="blue">
<span class="qtext400">check_before_save</span></a> does not return an error, the point has been reached
after which a successful save is guaranteed for all involved business objects. After this point, the method <span class="qtext400">adjust_numbers</span> is called. This method implements the
<a href="javascript:call_link('abenlate_numbering_glosry.html')" class="grey" title="Glossary Entry">late numbering</a> that is specified in the behavior definition of the business object.
</p>
<p>
The implementation of the method <span class="qtext400">adjust_numbers</span> assigns the final keys for the content IDs
(<a href="javascript:call_link('abencomponents_derived_types.html')" class="blue"><span class="qtext400">%CID</span></a>). The
output of the method is a table that links the <a href="javascript:call_link('abencomponents_derived_types.html')" class="blue"><span class="qtext400">%PID</span></a> with the respective final IDs. These final IDs are provided using the
<a href="javascript:call_link('abenrpm_export_parameters.html')" class="blue">output parameter</a> <span class="qtext400">mapped</span> so that temporary IDs can be exchanged.
</p>
<p>
The structure of the parameter <span class="qtext400">mapped</span> of the method <span class="qtext400">adjust_numbers</span>
is different from the structure of the parameter <span class="qtext400">mapped</span> of the method
<span class="qtext400">FOR MODIFY ...</span>.<span class="qtext400"> FOR CREATE</span>. The following
two structures exist for the parameter <span class="qtext400">mapped</span> of the method <span class="qtext400">adjust_numbers</span>:
</p>
<ul class="disc">
<li><span class="qtext400">%TMP</span> <br>Contains the temporary keys that are specified in the output
parameter <span class="qtext400">mapped</span> of the operation <span class="qtext400">FOR MODIFY ... FOR CREATE</span>.</li>
</ul>
<ul class="disc">
<li>ID <br>Contains the final keys.</li>
</ul>
<p>
The method <span class="qtext400">adjust_numbers</span> does not return any failed keys or messages
because the exchange of temporary IDs happens after the point at which a successful save is guaranteed for all involved business objects.
</p>
<p><span class="h4">
Tip
</span></p>
<p>
Ideally, the late numbering is implemented separately from the save. In many legacy applications, however,
the final numbers are determined during the save. In this case, we recommend implementing the save logic
in the method <span class="qtext400">adjust_numbers</span> and leaving the method <span class="qtext400">save</span> empty.
</p>
<br>
<br>
<br>
<br>
</DIV>
<fieldset style="opacity:0">
<input id="url" type="text" />
</fieldset>
</BODY>

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abensaver_adjust_numbers.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:51:33 GMT -->
</html>

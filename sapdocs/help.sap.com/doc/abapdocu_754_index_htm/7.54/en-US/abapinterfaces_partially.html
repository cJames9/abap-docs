<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="EN">
<!-- ABAPINTERFACES_PARTIALLY -->

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abapinterfaces_partially.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:51:57 GMT -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="author" content="SAP">
<meta name="description" content="INTERFACES - PARTIALLY IMPLEMENTED">
<title>
INTERFACES - PARTIALLY IMPLEMENTED - ABAP Keyword Documentation
</title>
<link rel="icon" href="ABAPIcon.ico" type="image/ico">
<link rel="shortcut icon" href="ABAPIcon.ico">
<LINK rel="stylesheet" href="abap_docu.css" type="text/css">
<script language="javascript" type="text/javascript" src="functions.js"></script>
<script type="text/JavaScript">
function urlToClipboard(id){
 try{ var loc = top.location.href;}
 catch(e){ alert( "URL cannnot be determined" ); return; }
 var field = document.getElementById(id);
 field.focus();
 if ( loc.search( ".htm" ) == -1 && loc.search( ".HTM" ) == -1  ){ loc = loc + "index.htm"; }
 if (   loc.search( "index.html" ) != -1
     || loc.search( "INDEX-2.html" ) != -1 ){
   var off = loc.search( "file=" );
   if ( off == -1  ){
     field.value = loc + "?file=abapinterfaces_partially.htm"; }
   else {
     field.value = loc.substring( 0, off ) + "file=abapinterfaces_partially.htm";
   }
 }
 else {
    field.value = loc; }
 field.setSelectionRange(0, field.value.length);
 var r = confirm( "Copy URL to clipboard?\n\n" + field.value + "\n\nCopy to clipboard does not work in all browsers." );
 if (r == true) {
   try{
     document.execCommand("copy");
   }
     catch(e){ alert( "URL could not be copied to clipboard" ); }
 }
 window.scrollTo(0,0);
}
</script>
</head>
<body>
<div class="all">
<div style="float:right;">
<input type="button" value="URL"
style="font-size:10px; width:30px; height:18px; padding:0; "
onclick="urlToClipboard('url')" title="Copy URL to Clipboard" ></div>
<p>
<input name="query" id="query" value="" type="text" title="Suchbegriff" size="30" maxlength="30" onkeyup="getInput()">&nbsp;
<input type="button" value="Search"
style="font-size:12px; width:50px; height:18px; padding:0"
onclick="call_search('search.html')" title="Search in ABAP Keyword Documentation" >
<hr style="width:100%;height:1px"></p>
<p class="copyright">AS ABAP Release 754, &copy;Copyright 2019 SAP SE. All rights reserved.</p>
<span class="path">
<a href="javascript:call_link('abenabap.html')" class="blue">ABAP Keyword Documentation</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_reference.html')" class="blue">ABAP &#x2212; Reference</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenprogram_editing.html')" class="blue">program editing</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_tests.html')" class="blue">Testing and Checking Programs</a>&nbsp;&rarr;&nbsp;
<a href="javascript:call_link('abenabap_unit.html')" class="blue">ABAP Unit</a>&nbsp;&rarr;&nbsp;
</span>
<A NAME="@@PARTIALLY IMPLEMENTED@@INTERFACES@@"></A>
<p><span class="h1">
INTERFACES - PARTIALLY IMPLEMENTED <br><br>
</span></p>
<P>
<a href="javascript:call_link('abapinterfaces_shortref.html')" class="blue">Quick Reference</a> <br><br>
</P>
<p><span class="h2">
<span class="bold">Syntax</span>
</span></p>
<P>
<span class="qtext"><a href="javascript:call_link('abapinterfaces_class.html')" class="blue">INTERFACES</a> intf</span> <br><span class="qtext">&nbsp;&nbsp;PARTIALLY IMPLEMENTED</span> <br><span class="qtext">&nbsp;&nbsp;...</span> <br><br>
</P>
<p><span class="h4">
Effect
</span></p>
<P>
The addition <span class="qtext">PARTIALLY IMPLEMENTED</span> for  statement <a href="javascript:call_link('abapinterfaces_class.html')" class="blue"><span class="qtext">INTERFACES</span></a> for implementing interfaces in classes can only be used in
<a href="javascript:call_link('abentest_class_glosry.html')" class="grey" title="Glossary Entry">test classes</a>. This addition
prevents the syntax check error/warning from occurring if not all of the concrete non-optional interface
methods are implemented in the test class. The addition must be specified before the additions that list the attributes or methods.
</P>
<P>
If an interface method that is not implemented is called during a test, an exception from the class CX_SY_DYN_CALL_ILLEGAL_METHOD is raised.
</P>
<p><span class="h4">
Note
</span></p>
<P>
The addition is particularly useful when classes (acting as test doubles) implement interfaces and not
all the methods of these implements are called by the code being tested. Without this addition, it would
be necessary to implement all unnecessary methods without values and assign these methods the <span class="qtext">
needed</span> pragma. This is because implementing methods without values produces a warning from the extended program check.
</P>
<p><span class="h4">
Example
</span></p>
<P>
The class <span class="lnkgrey"><a href="javascript:call_link('abenicf_service_abexa.html')" class="blue">CL_HTTP_EXT_SERVICE_DEMO</a></span>, described under
<a href="javascript:call_link('abenicf_service_abexa.html')" class="blue">Calling an HTTP Service</a>, is an example of production
code. This class demonstrates the function of a simple HTTP service. If the service is used normally, the method IF_HTTP_EXTENSION~HANDLE_REQUEST from
<a href="javascript:call_link('abenicf_glosry.html')" class="grey" title="Glossary Entry">ICF</a> is called. ICF-independent tests can be run for the class: In its
<a href="javascript:call_link('abentest_include_glosry.html')" class="grey" title="Glossary Entry">test include</a>, local classes are declared as test doubles for the classes of ICF, which are implemented by the following interfaces:
</P>
<dl><dd>
<span class="qtext">CLASS mock_server DEFINITION FOR TESTING FINAL. <br>&nbsp;&nbsp;PUBLIC SECTION. <br>
&nbsp;&nbsp;&nbsp;&nbsp;INTERFACES if_http_server PARTIALLY IMPLEMENTED. <br>ENDCLASS. <br> <br>CLASS mock_server IMPLEMENTATION. <br>
ENDCLASS. <br> <br>CLASS mock_request DEFINITION FOR TESTING FINAL. <br>&nbsp;&nbsp;PUBLIC SECTION. <br>
&nbsp;&nbsp;&nbsp;&nbsp;INTERFACES if_http_request PARTIALLY IMPLEMENTED. <br>ENDCLASS. <br> <br>CLASS mock_request IMPLEMENTATION. <br>
&nbsp;&nbsp;METHOD if_http_request~get_form_field. <br>&nbsp;&nbsp;&nbsp;&nbsp;value = SWITCH spfli-carrid( name WHEN 'carrid' THEN 'LH' <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ELSE space ) ##no_text. <br>
&nbsp;&nbsp;ENDMETHOD. <br>ENDCLASS. <br> <br>CLASS mock_response DEFINITION FOR TESTING FINAL. <br>&nbsp;&nbsp;PUBLIC SECTION. <br>
&nbsp;&nbsp;&nbsp;&nbsp;INTERFACES if_http_response PARTIALLY IMPLEMENTED. <br>&nbsp;&nbsp;&nbsp;&nbsp;DATA output TYPE string. <br>
ENDCLASS. <br> <br>CLASS mock_response IMPLEMENTATION. <br>&nbsp;&nbsp;METHOD if_http_response~set_cdata. <br>&nbsp;&nbsp;&nbsp;&nbsp;me->output = data. <br>&nbsp;&nbsp;ENDMETHOD. <br>ENDCLASS.</span>
</dd></dl>
<P>
Only the interface methods required to execute tests are implemented. The interfaces have numerous other
methods. These methods must not be implemented when empty due to the addition <span class="qtext">PARTIALLY IMPLEMENTED</span>.
</P>
<P>
The actual test class looks as follows:
</P>
<dl><dd>
<span class="qtext">CLASS test_http_service DEFINITION FOR TESTING <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DURATION SHORT <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RISK LEVEL HARMLESS <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FINAL. <br>
&nbsp;&nbsp;PRIVATE SECTION. <br>&nbsp;&nbsp;&nbsp;&nbsp;DATA mock_request&nbsp;&nbsp;TYPE REF TO mock_request. <br>
&nbsp;&nbsp;&nbsp;&nbsp;DATA mock_response TYPE REF TO mock_response. <br>&nbsp;&nbsp;&nbsp;&nbsp;DATA mock_server&nbsp;&nbsp; TYPE REF TO mock_server. <br>
&nbsp;&nbsp;&nbsp;&nbsp;DATA handler&nbsp;&nbsp;TYPE REF TO cl_http_ext_service_demo. <br>&nbsp;&nbsp;&nbsp;&nbsp;METHODS test_service FOR TESTING. <br>
ENDCLASS. <br> <br>CLASS test_http_service IMPLEMENTATION. <br>&nbsp;&nbsp;METHOD test_service. <br>&nbsp;&nbsp;&nbsp;&nbsp;CREATE OBJECT mock_request. <br>
&nbsp;&nbsp;&nbsp;&nbsp;CREATE OBJECT mock_response. <br>&nbsp;&nbsp;&nbsp;&nbsp;CREATE OBJECT mock_server. <br>
&nbsp;&nbsp;&nbsp;&nbsp;CREATE OBJECT handler. <br>&nbsp;&nbsp;&nbsp;&nbsp;mock_server->if_http_server~request&nbsp;&nbsp;= mock_request. <br>
&nbsp;&nbsp;&nbsp;&nbsp;mock_server->if_http_server~response = mock_response. <br>&nbsp;&nbsp;&nbsp;&nbsp;handler->if_http_extension~handle_request( mock_server ). <br>
&nbsp;&nbsp;&nbsp;&nbsp;IF mock_response->output NS `&lt;meta name="Output" content="Data">`. <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cl_abap_unit_assert=>fail( msg = `Wrong output data` ). <br>
&nbsp;&nbsp;&nbsp;&nbsp;ENDIF. <br>&nbsp;&nbsp;ENDMETHOD. <br>ENDCLASS.</span>
</dd></dl>
<P>
In the test method, ICF is simulated by directly creating objects of the test doubles. The REQUEST test
double simulates the form field. The RESPONSE test double contains the result that is checked after the method HANDLER is called for testing.
</P>
<br>
<br>
<br>
<br>
</DIV>
<fieldset style="opacity:0">
<input id="url" type="text" />
</fieldset>
</BODY>

<!-- Mirrored from help.sap.com/doc/abapdocu_754_index_htm/7.54/en-US/abapinterfaces_partially.htm by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Feb 2024 14:51:57 GMT -->
</html>
